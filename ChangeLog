2004-09-22  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Fix a mem leak.

2004-09-22  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-topic-action.c: (drag_motion_cb):

	Fix a mem leak.

2004-09-22  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-dialog.c: (set_editable_from_value):

	Initialise position passed to gtk_editable_insert_text().

2004-09-22  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-download.c: (update_remaining_time):

	Fix the build.

2004-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/EphyContentPolicy.cpp:

	Simplified nsIContentPolicy API check.

2004-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/ContentHandler.h:
	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	* embed/mozilla/EphyContentPolicy.cpp:
	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/GlobalHistory.cpp:
	* embed/mozilla/GtkNSSKeyPairDialogs.cpp:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozDownload.cpp:
	* embed/mozilla/mozilla-download.cpp:
	* embed/mozilla/mozilla-embed-single.cpp:
	* embed/mozilla/mozilla-embed.cpp:
	* embed/mozilla/mozilla-notifiers.cpp:

	Fix mozilla API checks to correctly detect firefox libraries.

2004-09-21  Marco Pesenti Gritti  <marco@gnome.org>

	* embed/ephy-download.c: (update_remaining_time):

	Fix overflow in remaining time calculation. Fix bug
	#153136. Thanks to Jhon Spray for tracking this.

2004-09-18  Christian Persch  <chpe@cvs.gnome.org>

	* embed/downloader-view.c: (progress_cell_data_func):
	* embed/mozilla/MozDownload.cpp:

	Fix download progress indicator in downloader view.

2004-09-18  Marco Pesenti Gritti  <marco@gnome.org>

	reviewed by: Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-persist.h:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_download):
	* embed/mozilla/MozDownload.cpp:

	Enable conversion for favicon downloads. Fix #152866.

2004-09-16  Marco Pesenti Gritti  <marco@gnome.org>

	* src/ephy-window.c: (ephy_window_focus_in_event),
	(ephy_window_focus_out_event), (ephy_window_class_init):

	Show the fullscreen button only when the window is active.
	Fix #115296.

2004-09-16  Marco Pesenti Gritti  <marco@gnome.org>

	* src/ephy-window.c: (update_fullscreen_popup),
	(screen_size_changed_cb), (fullscreen_popup_size_request_cb),
	(ephy_window_fullscreen):

	Keep popup position synced with his size requisition.
	Fix #143585

2004-09-16  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Port to GtkAboutDialog.

2004-09-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/mozilla-embed.cpp:

	More fix for mozilla 1.7.3 API-non-change.

2004-09-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	* embed/mozilla/GlobalHistory.cpp:

	Fix for mozilla 1.7.3 API-non-change.

2004-09-15  Marco Pesenti Gritti  <marco@gnome.org>

	* lib/widgets/ephy-node-view.c: (ephy_node_view_add_toggle),
	(ephy_node_view_popup):
	* lib/widgets/ephy-node-view.h:

	Add api to show a context menu. Useful to make distinction
	between key and mouse events.

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_show_popup_cb),
	(keyword_node_show_popup_cb):
	* src/ephy-history-window.c: (ephy_history_window_show_popup_cb):

	Use it. Fix #152431

2004-09-13  Marco Pesenti Gritti  <marco@gnome.org>

	* lib/ephy-guy.c:
	* src/bookmarks/ephy-bookmarks-editor.c:
	* src/ephy-history-window.c:

	Better positioning of context menus for treeviews.
	Fix #152431

2004-09-13  Adam Hooper  <adamh@cvs.gnome.org>

	* data/Makefile.am:
	* data/epiphany-extension.xsd:

	Added (proposed) XML schema for Extension metadata files (work in
	progress).

2004-09-13  Adam Hooper  <adamh@cvs.gnome.org>

	* data/epiphany.schemas.in:
	* doc/reference/Makefile.am:
	* doc/reference/epiphany-docs.sgml:
	* doc/reference/epiphany-sections.txt:
	* doc/reference/epiphany.types:
	* doc/reference/tmpl/ephy-embed-factory.sgml:
	* doc/reference/tmpl/ephy-embed.sgml:
	* doc/reference/tmpl/ephy-extensions-manager.sgml:
	* doc/reference/tmpl/ephy-shell.sgml:
	* doc/reference/tmpl/ephy-window.sgml:
	* doc/reference/tmpl/epiphany-unused.sgml:
	* lib/ephy-module-loader.c: (ephy_module_loader_new),
	(ephy_module_loader_load), (ephy_module_loader_unload),
	(ephy_module_loader_get_path):
	* lib/ephy-module-loader.h:
	* src/ephy-extensions-manager.c: (free_ext_info),
	(windows_foreach), (attach_window), (detach_window),
	(instantiate_extension), (real_load),
	(ephy_extensions_manager_load), (real_unload),
	(ephy_extensions_manager_unload), (ephy_extensions_manager_add),
	(sync_one_extension), (ephy_extensions_manager_sync_gconf),
	(ephy_extensions_manager_load_file),
	(ephy_extensions_manager_load_dir), (active_extensions_notifier),
	(ephy_extensions_manager_init), (ephy_extensions_manager_finalize),
	(attach_window_to_info), (impl_attach_window),
	(detach_window_from_info), (impl_detach_window):
	* src/ephy-extensions-manager.h:
	* src/ephy-shell.c: (ephy_shell_get_extensions_manager):

	Load/unload extensions based on GConf key
	/apps/epiphany/general/active_extensions.

	Update documentation a bit (i.e., make sure it actually builds).

2004-09-13  Christian Persch  <chpe@cvs.gnome.org>

	* data/art/epiphany-entry.png:
	* src/bookmarks/ephy-bookmarks-menu.c:
	(ephy_bookmarks_menu_set_window):
	* src/bookmarks/ephy-bookmarksbar.c:
	(ephy_bookmarksbar_set_window):
	* src/bookmarks/ephy-favorites-menu.c: (ephy_favorites_menu_clean),
	(ephy_favorites_menu_rebuild):
	* src/ephy-encoding-menu.c: (ephy_encoding_menu_set_window):
	* src/ephy-tabs-menu.c: (ephy_tabs_menu_set_window),
	(ephy_tabs_menu_clean), (ephy_tabs_menu_update):
	* src/ephy-window.c: (add_widget), (sync_chromes_visibility),
	(ephy_window_key_press_event), (init_menu_updaters),
	(setup_ui_manager), (show_embed_popup), (ephy_window_init),
	(ephy_window_finalize), (ephy_window_set_print_preview),
	(ephy_window_get_ui_manager):
	* src/ephy-window.h:
	* src/ppview-toolbar.c: (ppview_toolbar_set_window):
	* src/toolbar.c: (toolbar_set_window), (toolbar_new):
	* src/window-commands.c: (window_cmd_edit_toolbar):

	Add ephy_window_get_ui_manager(), and remove the manager
	from the public EphyWindow struct.

2004-09-13  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:

	Add ChangeLog-20040912 to EXTRA_DIST.

2004-09-13  Christian Persch  <chpe@cvs.gnome.org>

	Merging pre-gnome-2-10 branch to HEAD.

	Splitting ChangeLog.

