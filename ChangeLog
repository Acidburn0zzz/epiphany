2006-01-27  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-main.c: (main):

	Disable pango rendering by default, unless MOZ_ENABLE_PANGO env
	var is set. Bug #328844.

2006-01-26  Crispin Flowerday  <gnome@flowerday.cx>

	* src/Makefile.am:

	Use stamp files for the dbus bindings.h files
	
2006-01-26  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-shell.c: (impl_get_embed_single):

	Fix initial network status sync.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_constructor):

	Add transient window to window group.,

	* src/languages.h:

	Add licence header.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-net-monitor.c: (ephy_net_monitor_set_net_status),
	(notify_network_managed_cb):

	Store the detected network status even if we're not active.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* data/epiphany.schemas.in:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-single.cpp:
	* lib/ephy-prefs.h:
	* src/Makefile.am:
	* src/ephy-net-monitor.c:
	* src/ephy-net-monitor.h:
	* src/ephy-shell.c: (ephy_shell_sync_network_status),
	(impl_get_embed_single), (ephy_shell_dispose),
	(ephy_shell_get_net_monitor), (_ephy_shell_create_instance),
	(_ephy_shell_startup):
	* src/ephy-shell.h:

	libnm-glib be-gone! Use NetworkManager directly via DBUS, by
	importing the excellent net-monitor extension directly into
	Epiphany. Code by Jean-Fran√ßois Rameau.

2006-01-22  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmarks-ui.c
	
	Reverted change which made 'add bookmark' and 'edit bookmark'
	use-cases have exactly the same dialog.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-main.c: (main):

	Don't leak the option context.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-topic-action.c: (drag_data_received_cb),
	(create_tool_item), (ephy_topic_action_sync_label), (get_popup),
	(erase_popup), (child_changed_cb), (child_removed_cb),
	(menu_init_cb), (button_deactivate_cb), (button_toggled_cb),
	(button_release_cb), (button_press_cb), (connect_proxy),
	(ephy_topic_action_updated), (ephy_topic_action_get_topic),
	(ephy_topic_action_set_topic), (ephy_topic_action_set_property),
	(ephy_topic_action_get_property), (ephy_topic_action_init),
	(ephy_topic_action_get_type), (ephy_topic_action_new):

	Small cleanups.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* data/default-prefs-gecko-1-8.js:
	* embed/mozilla/mozilla-embed-single.cpp:

	Set the "browser.display.use_system_colors" pref on gecko 1.8,
	instead of monitoring the theme ourself.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/prefs-dialog.glade:

	Don't show the CSS box by default; we show it from code
	only when CSS is supported.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* data/default-prefs-mozilla.js:

	On suite, set wallet.caveat to false.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-bookmark-action-group.c:
	* src/bookmarks/ephy-bookmark-action-group.h:
	* src/bookmarks/ephy-bookmark-factory-action.c:
	* src/bookmarks/ephy-bookmark-factory-action.h:
	* src/bookmarks/ephy-bookmarks-ui.c:
	* src/bookmarks/ephy-bookmarks-ui.h:
	* src/bookmarks/ephy-nodes-cover.c:
	* src/bookmarks/ephy-nodes-cover.h:
	* src/bookmarks/ephy-open-tabs-action.c:
	* src/bookmarks/ephy-open-tabs-action.h:
	* src/bookmarks/ephy-related-action.c:
	* src/bookmarks/ephy-topic-action-group.c:
	* src/bookmarks/ephy-topic-action-group.h:
	* src/bookmarks/ephy-topic-factory-action.c:
	* src/bookmarks/ephy-topics-palette.c:

	Add cvs version markers.

2006-01-25  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-bookmark-properties.c:
	(title_entry_changed_cb), (ephy_bookmark_properties_constructor):
	* src/bookmarks/ephy-bookmarks-ui.c:
	(ephy_bookmarks_ui_add_bookmark):

	Don't use favicon as window icon.

2006-01-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_set_bookmark),
	(bookmark_properties_close_cb), (bookmark_properties_response_cb),
	(update_entry), (update_window_title), (combo_changed_cb),
	(title_entry_changed_cb), (location_entry_changed_cb),
	(set_window_icon), (ephy_bookmark_properties_init),
	(ephy_bookmark_properties_constructor),
	(ephy_bookmark_properties_set_property),
	(ephy_bookmark_properties_get_property),
	(ephy_bookmark_properties_class_init),
	(ephy_bookmark_properties_get_type),
	(ephy_bookmark_properties_new):
	* src/bookmarks/ephy-bookmark-properties.h:

	Refactored, code cleanups. Don't make the bookmark properties
	window transient.

	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_bookmark_properties):
	* src/bookmarks/ephy-bookmarks-ui.c:
	(activate_bookmark_properties), (activate_bookmark_open_tab),
	(activate_bookmark_open_window), (selected_bookmark_action),
	(erase_bookmarks_menu), (tree_changed_cb), (node_added_cb),
	(node_changed_cb), (node_removed_cb),
	(ephy_bookmarks_ui_attach_window), (properties_dialog_destroy_cb),
	(add_bookmark), (duplicate_bookmark_response_cb),
	(ephy_bookmarks_ui_add_bookmark), (add_topic_changed_cb),
	(add_topic_response_cb), (ephy_bookmarks_ui_add_topic),
	(ephy_bookmarks_ui_show_bookmark):
	* src/bookmarks/ephy-bookmarks-ui.h:

	Cleanups. Make the New Topic dialogue modal to the bookmark properties
	window. Change some strings, don't unnecessarily use markup when
	constructing a message dialog.

2006-01-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(import_dialog_response_cb), (export_format_combo_changed_cb),
	(export_dialog_response_cb), (cmd_bookmarks_export):

	Switch extensions when changing the export format from the combo
	box; and don't use gtk_dialog_run. Bug #328064.

2006-01-24  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-file-helpers.c: (ephy_dot_dir),
	(ephy_file_helpers_init):
	* lib/ephy-file-helpers.h:
	* src/ephy-dbus.c:
	* src/ephy-main.c: (unref_proxy_reply_cb), (open_urls), (main):

	Run the main loop until the reply is received when
	activating a running instance. Fixes URL opening with
	two concurrently starting instance.

2006-01-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-dbus.c: (ephy_dbus_connect_to_session_bus):

	Use DBUS_NAME_FLAG_DO_NOT_QUEUE when requesting the name,
	and also handle unexpected request return values.

2006-01-23  Crispin Flowerday  <gnome@flowerday.cx>

	* src/bookmarks/ephy-open-tabs-action.c: (node_added_cb):
	* src/bookmarks/ephy-topic-action-group.c: (node_added_cb):

	Fix a couple of memory leaks

2006-01-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-main.c:
	
	Fix compilation with libgnome 2.13. Bug #328351.

2006-01-23  Christian Persch  <chpe@cvs.gnome.org>

	* data/epiphany-service.xml:
	* src/ephy-activation.c: (ephy_activation_load_url),
	(ephy_activation_open_bookmarks_editor):
	* src/ephy-activation.h:

	Removed add-bookmark and import-bookmarks functions,
	and changed load-url to use an options string instead of
	loads of booleans.
	
	* src/ephy-main.c: (unref_proxy_reply_cb), (open_urls),
	(call_dbus_proxy):

	Adapt to changed dbus call signatures.
	Fixes open-in-new-tab/window from cmd line.

2006-01-23  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/MozDownload.cpp:
	* lib/ephy-file-helpers.c: (ephy_file_helpers_init),
	(ephy_ensure_dir_exists):
	* lib/ephy-file-helpers.h:

	Add a GError** to ephy_file_helpers_init and ephy_ensure_dir_exists,
	so we can show the error to the user in main().

	* src/ephy-dbus.c: (ephy_dbus_connect_to_session_bus_cb),
	(ephy_dbus_connect_to_system_bus_cb), (session_filter_func),
	(system_filter_func), (ephy_dbus_connect_to_system_bus),
	(ephy_dbus_connect_to_session_bus), (ephy_dbus_shutdown),
	(ephy_dbus_finalize), (ephy_dbus_get_type),
	(ephy_dbus_get_default), (ephy_dbus_get_bus),
	(ephy_dbus_get_proxy), (_ephy_dbus_startup), (_ephy_dbus_release),
	(_ephy_dbus_is_name_owner):
	* src/ephy-dbus.h:

	Refactored. Propagate errors to callers via GError**, and change
	lifecycle to the app lifetime.

	* src/ephy-lockdown.c: (ephy_lockdown_init),
	(ephy_lockdown_finalize):

	Move gconf notification add/remove for the lockdown key dirs 
	here from main().

	* src/ephy-shell.c: (ephy_shell_dispose),
	(_ephy_shell_create_instance):
	* src/ephy-shell.h:
	* src/epiphany.defs:

	Remove ephy_shell_startup and related stuff.

	* src/ephy-main.c: (handle_url), (handle_email),
	(shell_weak_notify), (dbus_g_proxy_finalized_cb),
	(save_yourself_cb), (die_cb), (gnome_session_init),
	(path_from_command_line_arg), (open_urls), (call_dbus_proxy),
	(show_error_message), (main):

	Move all startup code to main(), so we can show errors to
	the user instead of crashing when things go wrong.
	Part of bug #326807.

2006-01-23  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyPromptService.cpp:

	Invert button order. Bug #327381.

2006-01-22  Crispin Flowerday  <gnome@flowerday.cx>

	* lib/widgets/ephy-location-entry.c (ephy_location_entry_set_location): 

	When updating the address bar, always update the address state,
	sometimes it isn't updated if the text in the GtkEntry isn't
	altered (and hence the 'changed' signal isn't called.

2006-01-22  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-dbus.c (ephy_dbus_shutdown): 

	Add guards to avoid crashing on exit if system bus
	isn't running. Fixes bug #327845

2006-01-22  Crispin Flowerday  <gnome@flowerday.cx>

	* embed/ephy-permission-manager.c:
	(ephy_permission_manager_add_permission),
	(ephy_permission_manager_remove_permission),
	(ephy_permission_manager_clear_permissions),
	(ephy_permission_manager_test_permission),
	(ephy_permission_manager_list_permissions):
	* embed/ephy-permission-manager.h:
	* src/ephy-tab.c: (ephy_tab_get_popups_allowed),
	(ephy_tab_set_popups_allowed):
	* src/epiphany.defs:
	* src/epiphany.override:

	Change the EphyPermissionManager API so that it is
	more obvious what it does when used from python.

2006-01-22  Crispin Flowerday  <gnome@flowerday.cx>

	* embed/ephy-favicon-cache.c (remove_obsolete_icons) 
	(icon_is_obsolete)
	* embed/ephy-history.c (page_is_obsolete, remove_obsolete_pages): 

	Use non-deprecated functions when compiling against glib > 2.9

2006-01-22  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/ephy-window.c
	
	Fixed the mouse cursor entry/exit code for the toolbar. I have
	a suspicion that a bug may have been fixed in Gtk+ because this
	solution was tried before. Bug #326817.

2006-01-21  Crispin Flowerday  <gnome@flowerday.cx>

	* src/epiphany.defs:
	* src/epiphany.override:

	- Change EphyEmbedEvent.get_property to .get_event_property
	- Wrap EphyPermissionManager.list(), and the boxed
	  type it uses.
	- Wrap EphyEmbed.get_security_level()

2006-01-21  Crispin Flowerday  <gnome@flowerday.cx>

	* src/window-commands.c (window_cmd_help_about): 

	Put blank lines between the paragraphs in the
	licence dialog.

2006-01-22  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>
	
	* src/ephy-dbus.c: (ephy_dbus_shutdown):

	Remove both session/system filters before finalizing EphyDbus object.
	Fix #327845.

2006-01-22  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmark-action.c
	* src/bookmarks/ephy-bookmark-properties.c
	
	Remove the user-icon functionality for now. Too many bugs.
	Note that support for the user-icon field still exists in
	the bookmarks database itself.

2006-01-21  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Fix the previous commit.

2006-01-21  Crispin Flowerday  <gnome@flowerday.cx>

	* src/bookmarks/ephy-bookmarks-editor.c (cmd_bookmarks_export) 

	Add back the gtk_widget_destroy() to really fix bug #327438

2006-01-21  Crispin Flowerday  <gnome@flowerday.cx>

	* src/bookmarks/ephy-bookmarks-editor.c (cmd_bookmarks_export) 

	Fix bookmark exporting, so that it can be cancelled. 
	Fixes bug #327438

2006-01-21  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Add licence to about dialogue. Patch by Brian Pepple,
	bug #327998.

2006-01-18  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-shell.c: (impl_get_embed_single):
	* embed/ephy-embed-single.c: (ephy_embed_single_init):
	* embed/ephy-embed-single.h:
	* embed/mozilla/mozilla-embed-single.cpp:

	Decouple embed single instantiation and initialisation.
	Prevents double-initialisation on startup.

	* embed/mozilla/EphyContentPolicy.cpp:
	* embed/mozilla/EphyContentPolicy.h:

	Remove embed single variable, it was unused.

2006-01-18  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-statusbar.c: (create_caret_indicator),
	(ephy_statusbar_init), (ephy_statusbar_new),
	(ephy_statusbar_set_caret_mode):
	* src/ephy-statusbar.h:
	* src/ephy-window.c: (browse_with_caret_notifier):

	Add caret mode indicator UI. Bug #145581.

2006-01-18  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmarks-menu.c
	
	Do not add OpenTabs action if too-few items in the menu.
	Bug #327390.

2006-01-18  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmark-properties.c
	
	Removed inappropriate bold and mnemonic.
	Bug #327401.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/prefs-dialog.c: (row_is_separator), (setup_fonts_dialog),
	(create_autodetectors_combo), (prefs_dialog_init):
	
	Put "Off" at the top of the combo, followed by a separator row.
	Bug #125723.

2006-01-17  Crispin Flowerday  <gnome@flowerday.cx>

	* lib/widgets/ephy-node-view.c (ephy_node_view_add_column): 

	When adding a column that can be sorted on, re-create the
	sort model, so that it sets up the sort method correctly.
	Fixes bug #320686

2006-01-17  Crispin Flowerday  <gnome@flowerday.cx>

	* embed/ephy-embed-event.c: (ephy_embed_event_get_property):
	* embed/ephy-embed-event.h:
	* embed/mozilla/mozilla-embed-event.cpp:
	* src/ephy-tab.c: (save_property_url),
	(ephy_tab_dom_mouse_click_cb):
	* src/ephy-window.c: (update_popups_tooltips), (show_embed_popup):
	* src/epiphany.defs:
	* src/epiphany.override:
	* src/popup-commands.c: (popup_cmd_link_in_new_window),
	(popup_cmd_link_in_new_tab), (popup_cmd_bookmark_link),
	(popup_cmd_copy_link_address), (save_property_url),
	(popup_cmd_open_link), (popup_cmd_set_image_as_background),
	(popup_cmd_copy_image_location), (popup_cmd_open_image):

	Change the 'ephy_embed_event_get_property' function
	return a GValue* rather than taking a pointer to it as
	an argument.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/prefs-dialog.glade:
	* embed/mozilla/mozilla-notifiers.cpp:

	Fix leaks, minor cleanups.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-file-helpers.c: (ephy_file_monitor_timeout_cb),
	(ephy_file_monitor_cb):
	* lib/ephy-file-helpers.h:

	Add event type to the callback.

	* embed/mozilla/EphyUtils.cpp:
	* embed/mozilla/EphyUtils.h:
	
	New function, like NS_NewFileURI (which we can't use since
	nsNetUtil.h conflicts with embed strings).

	* embed/mozilla/mozilla-embed-single.cpp:
	* embed/mozilla/mozilla-notifiers.cpp:

	Check that the user CSS file exists before registering it.
	Also handle file-deleted events.

	* src/bookmarks/ephy-bookmarks-menu.c: (ephy_bookmarks_menu_build):
	* src/bookmarks/ephy-topics-palette.c:
	(ephy_topics_palette_constructor),
	(ephy_topics_palette_class_init):

	Build fixes.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-main.c:

	Fix compile with libgnome HEAD.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.5.1 ===

	* NEWS:
	* configure.ac:
	* data/Makefile.am:
	* data/chrome/Makefile.am:
	* po/POTFILES.in:
	R src/bookmarks/ephy-new-bookmark.c:
	R src/bookmarks/ephy-new-bookmark.h:
	R src/bookmarks/ephy-topics-selector.c:
	R src/bookmarks/ephy-topics-selector.h:

	Fix the tarball.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.5 ===

	* configure.ac:
	* data/chrome/Makefile.am:

	Updates.

2006-01-17  Christian Persch  <chpe@cvs.gnome.org>

	* data/chrome/epiphany.manifest.in:

	Fix number of /'s in URI.

	* data/epiphany.schemas.in:

	Add new entries.
		
	* embed/mozilla/EphyAboutModule.cpp:
	
	Fix title.

	* data/glade/prefs-dialog.glade:
	* embed/ephy-embed-prefs.h:
	* embed/mozilla/mozilla-embed-single.cpp:
	* embed/mozilla/mozilla-notifiers.cpp:
	* embed/mozilla/mozilla-notifiers.h:
	* lib/eel-gconf-extensions.c: (eel_gconf_unset_key),
	(eel_gconf_notify):
	* lib/eel-gconf-extensions.h:
	* lib/egg/egg-editable-toolbar.c: (popup_context_menu_cb),
	(button_press_event_cb), (egg_editable_toolbar_set_ui_manager),
	(egg_editable_toolbar_set_selected):
	* lib/ephy-dialog.c: (set_value_from_pref), (set_pref_from_value),
	(set_value_from_togglebutton), (strcmp_with_null),
	(get_index_from_value), (compare_values),
	(set_togglebutton_from_value), (set_pref_from_info_and_emit),
	(spinbutton_changed_cb), (save_info):
	* lib/ephy-dialog.h:
	* lib/ephy-file-helpers.c: (ephy_file_monitor_timeout_cb),
	(ephy_file_monitor_cb), (ephy_file_monitor_add),
	(ephy_file_monitor_cancel):
	* lib/ephy-file-helpers.h:
	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_load_file):
	* src/ephy-window.c:
	* src/popup-commands.c: (popup_cmd_bookmark_link):
	* src/prefs-dialog.c: (prefs_dialog_finalize), (setup_font_combo),
	(fonts_language_changed_cb), (font_prefs_dialog_response_cb),
	(row_is_separator), (setup_fonts_dialog),
	(font_prefs_button_clicked_cb), (css_checkbox_toggled),
	(css_edit_button_clicked_cb), (prefs_dialog_init):

	Rework font prefs, and add user stylesheet setting.

	* src/bookmarks/ephy-bookmark-action-group.c: (node_added_cb):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_local):
	* src/window-commands.c: (window_cmd_file_bookmark_page):

	Some build fixes.
	
2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmark-action.c
	
	Removed left-over function.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmarks-menu.c
	
	Added the 'Local' topic to bookmarks menu.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/Makefile.am
	
	Forgotten Makefile changes.
	
	* src/epiphany.defs

	'Fixes' for the python interface.
	Probably need to regenerate somehow, but don't know how do it correctly.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/Makefile.am

	Removed ephy-new-bookmark and ephy-topics-selector from the Makefile.
	
	* src/ephy-history-window.c
	* src/popup-commands.c
	* src/window-commands.c
	* src/bookmarks/ephy-bookmarks-editor.c
	
	Removed all the slightly different bits of code to create a
	bookmark and called ephy_bookmarks_ui_add_bookmark instead.
	
	* src/bookmarks/ephy-bookmarks.c
	* src/bookmarks/ephy-bookmarks.h
	
	Moved the hashtable for bookmark windows to ephy-bookmarks-ui.
	Added a new field "usericon" to the ephynode/bookmarks database,
	to store the URL of the user-defined icon (if any). It can be
	NULL (use site icon), "" (use none), or a URL.

	* src/bookmarks/ephy-bookmark-properties.c
	* src/bookmarks/ephy-bookmark-properties.h
	
	Large changes to the bookmark properties window to handle different
	use cases (adding or changing a bookmark), to use the new topics
	palette widget, and to support the new usericon.
	
	* src/bookmarks/ephy-bookmarks-ui.c
	* src/bookmarks/ephy-bookmarks-ui.h

	Large additions to ephy-bookmarks-ui to replace ephy-new-bookmark.
	Fixed some bugs in the datatype handlers for the toolbar which
	are supplied by ephy-bookmarks-ui.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-topics-palette.c
	* src/bookmarks/ephy-topics-palette.h
	
	Implemented a new widget for topic selection that tries
	to organise the topics for the user.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-topic-action.c
	
	Handle DnD to topics on the toolbar.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* lib/egg/egg-editable-toolbar.h
	
	Checking in forgotten changes to the editable toolbar API.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* src/bookmarks/ephy-bookmark-action.c
	
	Cleaned up ephy-bookmark-action.c to match the new
	gtk-ui-manager based popup menu on the toolbar.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* lib/egg/egg-editable-toolbar.c
	
	EggEditableToolbar no longer supports middle-mouse-button drag.
	Fixed a bug in the popup-menu drag.
	Now uses GtkUIManager for the popup-menu.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* lib/ephy-stock-icons.c
	* lib/ephy-stock-icons.h
	
	Added stock_bookmark as one of our stock icons.

2006-01-17  Peter Harvey  <peter.a.harvey@gmail.com>

	* lib/ephy-node.c
	
	Do not try to store a string parameter if it is null (avoids segfault).

2006-01-16  Crispin Flowerday  <gnome@flowerday.cx>

	* embed/mozilla/EphyBrowser.cpp:

	When looking at modified text areas and forms, don't
	look at disabled or invisible elements. Patch by
	chpe, part of bug #155603
	
2006-01-15  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-single.cpp:
	* src/Makefile.am:

	Add NetworkManager magic for connection status autodetection.
	Defaults to disabled because I'm not very happy with the libnm-glib
	implementation. Oh, and it may crash on startup, too.

2006-01-15  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* lib/ephy-adblock.h:
	* lib/ephy-adblock.c:
	* embed/ephy-adblock-manager.h:
	* embed/ephy-adblock-manager.c:

	Add a method to EphyAdblock interface, ephy_adblock_manager_edit_rule,
	so one can allow/disallow an url.
	Add a method to EphyAdblockManager, ephy_adblock_manager_has_blocker, 
	so one can ask it whether a blocker is running.

2006-01-15  Crispin Flowerday  <gnome@flowerday.cx>

	* data/chrome/Makefile.am:
	* data/chrome/about.xhtml:
	* data/chrome/brand.dtd.in:
	* data/chrome/brand.properties.in:
	* data/chrome/epiphany.manifest.in:

	Override the page that is shown for the about: url so
	that it doesn't say "Deer Park"

2006-01-14  Chrhristian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-single.cpp:

	Only use the directory service provider on gecko 1.8;
	gecko 1.7 uses a different method to register chrome.

2006-01-14  Crispin Flowerday  <gnome@flowerday.cx>

	* embed/mozilla/mozilla-embed-single.cpp (init_services): 

	Simplify creation and reference counting of the
	EphyDirectoryProvider class.

2006-01-14  Christian Persch  <chpe@cvs.gnome.org>

	* m4/gecko.m4:
	
	Add defines and automake conditional for toolkit flavour.

	* configure.ac:
	* data/Makefile.am:
	A data/chrome/.cvsignore:
	A data/chrome/Makefile.am:
	A data/chrome/brand.dtd.in:
	A data/chrome/brand.properties.in:
	A data/chrome/epiphany.manifest.in:
	
	Provide branding so mozilla dialogues don't show "Deer Park" or
	"Firefox" but "Epiphany" instead.

	* embed/mozilla/Makefile.am:
	A embed/mozilla/EphyDirectoryProvider.cpp:
	A embed/mozilla/EphyDirectoryProvider.h:
	* embed/mozilla/mozilla-embed-single.cpp:

	Add a directory service provider.

2006-01-13  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-stock-icons.c:
	* lib/ephy-stock-icons.h:

	Remove obsolete close-tab stock icon.

2006-01-13  Christian Persch  <chpe@cvs.gnome.org>

        * data/ui/epiphany-toolbar.xml:
	* src/ephy-window.c:

	Fix zoom buttons order on default toolbar. Set short-label
	property for zoom actions.

2006-01-13  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EventContext.cpp:

	Don't require a HTML document to activate typeaheadfind.
	Bug #326813.

2006-01-13  Christian Persch  <chpe@cvs.gnome.org>

	A embed/mozilla/EphyPromptService.cpp:
	A embed/mozilla/EphyPromptService.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozRegisterComponents.cpp:
	* po/POTFILES.in:

	Implement nsIPromptService ourself.

2006-01-12  Christian Persch  <chpe@cvs.gnome.org>

	* data/ui/epiphany-toolbar.xml:
	* src/ephy-toolbars-model.c: (ephy_toolbars_model_load):

	Add Zoom In/Out buttons to default toolbar layout and toolbars
	editor repertoire. Bug #117923.

2006-01-12  Christian Persch  <chpe@cvs.gnome.org>

        * configure.ac:
	* Makefile.am:

	Enable zeroconf by default now that gnome-vfs dns-sd can use
	avahi and more distros are hopefully shipping with that.
	Still can be disabled by --disable-zeroconf.

2006-01-12  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* src/ephy-dbus.c: (ephy_dbus_connect_to_session_bus):

	Fix compiler warnings.

2006-01-11  Christian Persch  <chpe@cvs.gnome.org>

        * data/default-prefs-common.js:

	Disable <a ping>.
	
2006-01-11  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Add another contract ID check, only on gecko >= 1.8.

2006-01-11  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:

	Don't delete epiphany-fonts.schemas on make clean.

2006-01-11  Christian Persch  <chpe@cvs.gnome.org>

	* data/mime-types-permissions.xml:

	More mime types.

2006-01-10  Christian Persch  <chpe@cvs.gnome.org>

	* m4/gecko.m4:

	Fix gecko version check to use AC_EGREP_CPP instead of
	grepping the header file directly. Misc fixes.

2006-01-08  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/EphyContentPolicy.h:
	* embed/mozilla/EphyContentPolicy.cpp: (ShouldLoad):
	* embed/ephy-embed.h:
	* embed/ephy-embed.c: (ephy_embed_base_init):

	EphyContentPolicy now emits a signal when a content is blocked.

2006-01-08  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:

	Fix pkgconfig_DATA.

2006-01-08  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	R data/epiphany-1.10.pc.in:
	A data/epiphany.pc.in:
	* m4/gecko.m4:

	Various improvements to gecko.m4. Generate the versioned .pc file
	from the unversioned .pc.in file.

2006-01-05  thetroublemaker  <thetroublemaker@inventati.org>

	* src/ephy-notebook.c:

	changed ephy_tab_get_title_composite to ephy_tab_get_title,
	so that now 'Loading ' is not displayed when loadin' a new
	tab. Bug #323468.

2006-01-08  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (ephy_window_delete_event):

	Exit ppv mode when clicking the window close button. Bug #326136.

2006-01-08  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/ContentHandler.cpp:

	Make ESC cancel the content handler dialogue. Bug #325811.

2006-01-06  Crispin Flowerday  <gnome@flowerday.cx>

	* src/window-commands.c (window_cmd_help_about): 

	Change the copyright year to 2006

2006-01-06  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	R data/epiphany.applications:

	Remove applications file.

2006-01-04  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-adblock.c:
	* lib/ephy-file-helpers.c:

	Fix compiler warnings.

2006-01-04  Christian Persch  <chpe@cvs.gnome.org>

	R data/art/epiphany-close-tab.png:
	* lib/ephy-stock-icons.c: (ephy_stock_icons_init):
	* lib/ephy-stock-icons.h:
	* src/ephy-notebook.c: (build_tab_label):

	Go back to using the gtk stock close icon, to get correct
	themeing in a11y themes.

2006-01-04  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-find-toolbar.c: (entry_changed_cb), (set_focus_cb),
	(ephy_find_toolbar_grab_focus), (ephy_find_toolbar_find_next),
	(ephy_find_toolbar_find_previous), (ephy_find_toolbar_open),
	(ephy_find_toolbar_close):

	Fix warning when Ctrl-F while the find toolbar is already shown.
	Fix next/prev button sensitivity when find wrapped around.

	* src/ephy-window.c:

	Add more XF86XK key codes.

2006-01-03  Crispin Flowerday  <gnome@flowerday.cx>

	* configure.ac:
	* src/ephy-main.c:
	R src/ephy-automation.h:

	Remove various references to bonobo, ephy is now officially
	monkey free!

2006-01-03  Crispin Flowerday  <gnome@flowerday.cx>

	* src/Makefile.am:

	Fix some white space issues to keep make and emacs happy

2006-01-03  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-dbus.c (ephy_dbus_connect_to_session_bus) 

	Fix the arguments to the dbus_connection_set_exit_on_disconnect call
	for the session bus.

2006-01-03  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-dbus.c (ephy_dbus_connect_to_session_bus) 

	Tell dbus not to exit the application if the bus disconnects.

2006-01-03  Christian Persch  <chpe@cvs.gnome.org>

	* src/Makefile.am:

	Remove unneeded LINK line.

2006-01-03  Christian Persch  <chpe@cvs.gnome.org>

	* embed/Makefile.am:
	* embed/mozilla/Makefile.am:
	* lib/Makefile.am:
	* lib/egg/Makefile.am:
	* src/Makefile.am:
	* src/bookmarks/Makefile.am:

	Don't include generated files in the tarball. Bug #319440.

	R help/C/Makefile.am:
	R help/es/Makefile.am:
	R help/eu/Makefile.am:
	R help/fi/Makefile.am:
	R help/ja/Makefile.am:
	R help/uk/Makefile.am:

	Remove obsolete files.

2006-01-03  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* src/ephy-dbus.c: (ephy_dbus_connect_to_session_bus):

	Fix compilation with DBUS 0.6 (DBUS_NAME_FLAG_PROHIBIT_REPLACEMENT constant removed).

2006-01-02  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:
	* autogen.sh:
	* configure.ac:
	R data/GNOME_Epiphany_Automation.server.in:
	* data/Makefile.am:
	A data/epiphany-service.xml:
	A data/org.gnome.Epiphany.service.in:
	* doc/reference/Makefile.am:
	R idl/.cvsignore:
	R idl/EphyAutomation.idl:
	R idl/Makefile.am:
	* lib/Makefile.am:
	R lib/ephy-dbus.c:
	R lib/ephy-dbus.h:
	* lib/ephy-file-helpers.c: (ephy_file_launch_application):
	* src/Makefile.am:
	A src/ephy-activation.c:
	A src/ephy-activation.h:
	A src/ephy-dbus.c:
	A src/ephy-dbus.h:
	* src/ephy-main.c: (main):
	* src/ephy-shell.c: (ephy_shell_init), (open_urls),
	(dbus_g_proxy_finalized_cb), (ephy_shell_startup),
	(ephy_shell_dispose):

	Bonobo is dead; long live the Bonobos!
	Patch by Gustavo Gama, bug #322463.

2006-01-01  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2006-01-01  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.4 ===

	* NEWS:
	* configure.ac:
	* data/Makefile.am:

2005-12-31  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-encoding-dialog.c: (sync_encoding_against_embed),
	(embed_net_stop_cb), (sync_embed_cb),
	(ephy_encoding_dialog_finalize):

	When in automatic mode, update the treeview to reflect
	the currently selected encoding. Fixes bug #127757

2005-12-30  Christian Persch  <chpe@cvs.gnome.org>

	* plugins/desktop-file/Makefile.am:
	
	Add include subdirs for broken distros. Bug #321841.
	Add plugins.symbols to EXTRA_DIST.

2005-12-30  Christian Persch  <chpe@cvs.gnome.org>

	* m4/gecko.m4:

	Improve "gecko not found" message. Bug #319253.

2005-12-30  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-file-helpers.c: (ephy_file_helpers_init),
	(my_gdk_spawn_make_environment_for_screen),
	(make_spawn_environment_for_sn_context),
	(ephy_file_launch_application), (launch_desktop_item):

	Put a marker in the environment to detect when we launch ourself
	as a helper app. Fixes bug #324828.

2005-12-30  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c:

	Zoom on Ctrl-=, Ctrl-KP+, Ctrl-KP- too. Bug #105183.

2005-12-23  Christian Neumair  <chris@gnome-de.org>

	* src/ephy-session.c: (offser_to_resume):

	Always center dialog on screen. Bug #324896.

2005-12-20  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c:

	Show warning on mixed content in the tooltip. Bug #321508.

2005-12-19  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* embed/Makefile.am:
	* embed/ephy-adblock-manager.c:
	* embed/ephy-adblock-manager.h:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_finalize):
	* embed/ephy-embed-shell.h:
	* embed/mozilla/EphyContentPolicy.cpp: (EphyContentPolicy::ShouldLoad):
	* lib/Makefile.am:
	* lib/ephy-adblock.h:
	* lib/ephy-adblock.c:
	* src/ephy-shell.c: (ephy_shell_get_extensions_manager):

	Add some code so ad blocking should be more easy. Based on the fact
	that Epiphany already has its own content policy component (EphyContentPolicy).
	The new design adds:
	- an interface, EphyAdBlock
	- a manager, EphyAdBlockManager, pointing to a blocker (possibly no one).

2005-12-16  Claudio Saavedra  <csaavedra@alumnos.utalca.cl>

	* lib/egg/egg-editable-toolbar.c: (configure_item_cursor):
	Use a gtk stock cursor (GDK_HAND2) instead of already removed image. 
	Fixes bug #324265.

2005-12-15  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/mozilla-embed-single: (impl_import):

	Fix a compile warning.
	
2005-12-14  Christian Persch  <chpe@cvs.gnome.org>

	* plugins/desktop-file/Makefile.am:
	A plugins/desktop-file/plugin.symbols:

	Only export necessary symbols.

2005-12-14  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:

	Install the fonts schemas file too.

2005-12-12  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2005-12-12  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.3.1 ===

	* NEWS:
	* configure.ac:

2005-12-12  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:

	Fix desktop file install.

2005-12-11  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2005-12-11  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.3 ===

	* NEWS:
	* configure.ac:

2005-12-11  Christian Persch  <chpe@cvs.gnome.org>

	* src/Makefile.am:
	A src/ephy-cert-manager-dialog.c:
	A src/ephy-cert-manager-dialog.h:
	R src/ephy-certificate-manager.c:
	R src/ephy-certificate-manager.h:
	* src/window-commands.c:

	Fix stupid mistake.

2005-12-11  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* data/glade/Makefile.am:
	* data/glade/certs-manager.glade:
	* data/ui/epiphany-ui.xml:
	* embed/Makefile.am:
	A embed/ephy-certificate-manager.c:
	A embed/ephy-certificate-manager.h:
	A embed/ephy-x509-cert.c:
	A embed/ephy-x509-cert.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-single.cpp:
	A embed/mozilla/mozilla-x509-cert.cpp:
	A embed/mozilla/mozilla-x509-cert.h:
	* src/Makefile.am:
	A src/ephy-certificate-manager.c:
	A src/ephy-certificate-manager.h:
	* src/ephy-window.c:
	* src/window-commands.c:
	* src/window-commands.h:

	Add certificate manager. Patch by Robert Marcano and Crispin
	Flowerday. Fixes bug #119090.

2005-12-08  Christian Persch  <chpe@cvs.gnome.org>

	* src/pdm-dialog.c: (pdm_dialog_cookies_construct),
	(pdm_dialog_cookie_add):

	Fix crash when adding a cookie while the dialogue is open.

2005-12-07  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyFind.cpp:

	Minor code cleanup.

	* src/ephy-find-toolbar.c: (entry_key_press_event_cb),
	(ephy_find_toolbar_close):

	Also check for GDK_ISO_Enter.

	* src/ephy-window.c: (sync_tab_address):

	Close the find toolbar when loading a new page.

2005-12-07  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed.c: (ephy_embed_scroll),
	(ephy_embed_page_scroll), (ephy_embed_scroll_pixels):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	* embed/mozilla/mozilla-embed.cpp:

	Add ephy_embed_scroll_pixels.

2005-12-06  Crispin Flowerday  <gnome@flowerday.cx>

	* embed/ephy-embed.c: (ephy_embed_scroll),
	(ephy_embed_page_scroll):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	* embed/mozilla/mozilla-embed.cpp:
	* src/ephy-find-toolbar.c: (entry_key_press_event_cb):

	Forward up/down/page up/page down from the findbar entry
	to the embed.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

        * src/bookmarks/ephy-related-action.c: (node_destroyed_cb):
	
        Don't try to connect signals to the destroyed node!
		
2005-12-05  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-find-toolbar.c: (entry_changed_cb),
	(ephy_find_toolbar_request_close):

	Fix a compile warning, and don't bother requesting a close
	if the find bar is already closed

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-tabs-menu.c: (tab_set_action_accelerator):
	
	Use sizeof() here.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-langs.c:
	
	Updated comment to refer to the schema autogeneration tool.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* data/ui/epiphany-ui.xml:

	Remove a unused popup menu declaration.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/print.glade:
	* embed/print-dialog.c: (ephy_print_setup_dialog_new):

	Remove the paper selector from the print setup dialogue,
	we have one in the print dialogue already.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/certificate-dialogs.glade:
	* data/glade/epiphany.glade:
	* embed/mozilla/GtkNSSClientAuthDialogs.cpp:
	* embed/mozilla/GtkNSSDialogs.cpp:
	* src/pdm-dialog.c: (show_cookies_properties), (pdm_dialog_init):

	Fix spacings to be HIG compliant. Set window roles.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* src/languages.h:

	Add "tt".

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* data/mime-types-permissions.xml:

	Add image/x-png type.

2005-12-05  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:

	Use --with-gecko in the distcheck configure args.

2005-12-04  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-find.c: (ephy_embed_find_set_selection):
	* embed/ephy-embed-find.h:
	* embed/mozilla/EphyFind.cpp:
	* embed/mozilla/EphyFind.h:
	* embed/mozilla/mozilla-embed-find.cpp:

	While in find mode, set the selection colour to "attention".

	* src/ephy-find-toolbar.c: (set_status), (clear_status),
	(tab_search_key_press_cb), (entry_key_press_event_cb),
	(entry_activate_cb), (set_focus_cb),
	(ephy_find_toolbar_set_window), (ephy_find_toolbar_init),
	(ephy_find_toolbar_class_init), (ephy_find_toolbar_set_embed),
	(ephy_find_toolbar_open), (ephy_find_toolbar_close),
	(ephy_find_toolbar_request_close):
	* src/ephy-find-toolbar.h:
	* src/ephy-window.c: (sync_tab_document_type),
	(find_toolbar_close_cb), (ephy_window_set_print_preview),
	(ephy_window_get_find_toolbar), (ephy_window_get_context_event):

	Refactor find toolbar closing not to crash with auto-closing popups.
	Unset the selection colour on close.
	Remove dead #ifdef FIND_WHILE_TYPING_IN_EMBED code.

2005-12-04  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSDialog.cpp:

	Add a comment for translators.

2005-11-29  Christian Persch  <chpe@cvs.gnome.org>

	* src/pdm-dialog.c: (pdm_dialog_cookie_scroll_to):

	Fix transposed arguments.

2005-11-29  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-string.c: (ephy_string_collate_key_for_domain):
	* lib/ephy-string.h:

	Add a method to generate collation keys for domain names.

	* src/pdm-dialog.c: (cookie_search_equal),
	(pdm_dialog_cookies_construct), (cookie_host_to_iter),
	(compare_cookie_host_keys), (pdm_dialog_fill_cookies_list),
	(pdm_dialog_cookies_destruct), (pdm_dialog_cookie_add),
	(pdm_dialog_cookie_scroll_to), (sync_notebook_tab),
	(pdm_dialog_init), (pdm_dialog_finalize), (pdm_dialog_open):
	* src/pdm-dialog.h:
	* src/window-commands.c: (window_cmd_edit_personal_data):

	Open the PDM dialogue on the cookies page scrolled to show the
	cookies of the currently loaded page, if there are any. Sort
	cookies by domain. Allow treeview typeaheadfind search to find
	by substring not prefix.

2005-11-29  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* data/Makefile.am:
	R data/bme.desktop.in:
	A data/bme.desktop.in.in:
	R data/epiphany.desktop.in:
	A data/epiphany.desktop.in.in:

	Remove empty DocPath from desktop files, and add bugzilla version.
	Generate the .in files from configure.

2005-11-28  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Suppress some C++ compiler warnings.

2005-11-28  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* m4/gecko.m4:

	Move more checks to gecko.m4.

2005-11-27  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Correctly save and restore CXXFLAGS.

2005-11-18  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyContentPolicy.cpp:
	* embed/ephy-embed-single.c:
	* embed/ephy-embed-single.h:
	* src/epiphany.defs:

	Add chrome: and resource: to the safe list; otherwise
	forms and scrollbars break. Fixes bug #316498.

2005-11-18  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-extensions-manager.c:

	Don't warn when reading a .xml when we previously read the
	.ephy-extension for this identifier. Allows .xml and .ephy-extension
	to co-exist in ~/.gnome2/epiphany/extensions.

2005-11-18  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-tab.c:

	Delay reloads when we get many change notifications in a short time.
	Fixes bug #319993.

2005-11-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c:

	Add F5 as accel for reload.

2005-11-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/pdm-dialog.c:

	Set the model's sort column only after filling it. Vastly improves
	delay when opening the PDM dialogue when you have many cookies.

2005-11-16  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Fix the nsIPassword.h presence check.

2005-11-16  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSDialogs.cpp:

	Prettify CRL import dialogue. Fixes bug #321590.

2005-11-15  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:
	* data/glade/prefs-dialog.glade:
	* data/glade/print.glade:
	* src/pdm-dialog.c: (pdm_dialog_response_cb), (pdm_dialog_init):
	* src/prefs-dialog.c: (setup_add_language_dialog),
	(prefs_dialog_init):

	Don't put the prefs/pdm dialogue over all windows. Make the
	add-language dialogue modal to the prefs dialogue.

2005-11-14  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Mark message for translation. Patch by Guilherme de S. Pastore,
	fixes bug #319988.

2005-11-13  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp:
	* embed/mozilla/EphyAboutModule.h:

	Fix for mozilla API change.

2005-11-12  Philip Langdale  <philipl@mail.utexas.edu>

	* data/ui/epiphany-ui.xml: Remove accelerator actions
	for extra keybindings.

	* src/ephy-lockdown.c: (update_window):
	Don't manipulate removed "FileSave" action.

	* src/ephy-toolbar.c
	* src/ephy-toolbar.h: (ephy_toolbar_get_action_group):

	Add getter for the toolbar's action group.

	* src/ephy-window.c: (ephy_window_key_press_event):

	Transition over to the Galeon mechanism for handling
	extra keybindings. This maps the keybindings to
	actions so that no extra actions are required. The
	only subtlety is that some of the actions come from
	the toolbar, so access to its action group is required.

	* src/window-commands.c
	* src/window-commands.h: (window_cmd_go_back/forward/home):
	Remove the now unsued back/forward/home callbacks.

2005-11-12  Christian Persch  <chpe@cvs.gnome.org>

        * data/Makefile.am:

	Fix schemas install and add generate-font-schemas.py
	to EXTRA_DIST.

2005-11-12  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	* data/default-prefs-common.js:
	* data/generate-font-schemas.py:
	* data/epiphany-fonts.schemas:

	Add schema entries for the fonts keys.

2005-11-12  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2005-11-12  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.2 ===

	* Makefile.am:

	Pass make distcheck.

	* NEWS:
	* configure.ac:

	Updated for 1.9.2.

	* lib/egg/egg-toolbars-model.c: (egg_toolbars_model_to_xml),
	(egg_toolbars_model_save), (parse_data_list), (parse_item_list),
	(parse_toolbars):
	* src/bookmarks/ephy-bookmarks-ui.c:
	(ephy_bookmarks_ui_attach_toolbar_model):

	Fix compile warnings.

2005-11-10  Crispin Flowerday  <gnome@flowerday.cx>

	* lib/ephy-file-helpers.c
	* lib/widgets/ephy-location-entry.c
	* src/ephy-session.c
	* src/bookmarks/ephy-bookmarks-import.c:

	Remove some unused variables
	
2005-11-09  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* m4/gecko.m4:

	Rewrite the contractid check. Now works with builds without
	--with-default-mozilla-five-home.
	Balance AC_LANG_POP/PUSH.
			
2005-11-09  Christian Persch  <chpe@cvs.gnome.org>

	* m4/gecko.m4:

	Use $PACKAGE_NAME.

2005-11-09  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* m4/gecko.m4:

	Tiny output improvements.
		
2005-11-09  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* m4/gecko.m4:

	Add check for contract IDs which we need but are only provided
	by extensions which may or may not have been built into gecko.
	We cannot check for the headers here since they are always present.

2005-11-09  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:

	Because the Dwnloads window is a GtkDiaog for technical reasons,
	we set the type hint to 'normal' so it still has close/minimise
	buttons.

2005-11-09  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	A m4/gecko.m4:

	Distill the gecko detection logic into a macro package.

2005-11-08  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-persist.c: (ephy_embed_persist_class_init):

	Use canonical name form.

2005-11-08  Christian Persch  <chpe@cvs.gnome.org>

	* lib/egg/eggstatusicon.c: (egg_status_icon_class_init):
	* lib/egg/eggtrayicon.c: (egg_tray_icon_class_init):
	* lib/egg/eggtraymanager.c: (egg_tray_manager_class_init):

	Don't translate param spec strings.

2005-11-08  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-single.c: (ephy_embed_single_iface_init):
	* embed/mozilla/mozilla-embed-single.cpp:

	Make "network-status" property readwrite.

2005-11-08  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-single.c: (ephy_embed_single_iface_init):
	* lib/egg/eggstatusicon.c: (egg_status_icon_class_init):
	* lib/egg/eggtrayicon.c: (egg_tray_icon_class_init):
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_class_init):
	* src/bookmarks/ephy-bookmark-action.c:
	(ephy_bookmark_action_class_init):
	* src/bookmarks/ephy-topic-action.c:
	(ephy_topic_action_class_init):
	* src/ephy-find-toolbar.c: (ephy_find_toolbar_class_init):
	* src/ephy-fullscreen-popup.c: (ephy_fullscreen_popup_class_init):
	* src/ephy-location-action.c: (ephy_location_action_class_init):
	* src/ephy-python-extension.c: (ephy_python_extension_class_init):
	* src/ephy-session.c: (ephy_session_class_init):
	* src/ephy-tab.c: (ephy_tab_class_init):
	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_class_init):
	* src/ephy-toolbar.c: (ephy_toolbar_class_init):
	* src/ppview-toolbar.c: (ppview_toolbar_class_init):

	More static strings.

2005-11-08  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-dialog.c: (ephy_embed_dialog_class_init):
	* embed/ephy-embed-persist.c: (ephy_embed_persist_class_init):
	* embed/ephy-history.c: (ephy_history_class_init):
	* embed/mozilla/mozilla-download.cpp:
	* lib/egg/egg-editable-toolbar.c:
	(egg_editable_toolbar_class_init):
	* lib/egg/egg-toolbar-editor.c: (egg_toolbar_editor_class_init):
	* lib/egg/eggstatusicon.c: (egg_status_icon_class_init):
	* lib/egg/eggtraymanager.c: (egg_tray_manager_class_init):
	* lib/ephy-dialog.c: (ephy_dialog_class_init):
	* lib/ephy-file-chooser.c: (ephy_file_chooser_class_init):
	* lib/ephy-node-db.c: (ephy_node_db_class_init):
	* lib/widgets/ephy-node-view.c: (ephy_node_view_class_init):
	* lib/widgets/ephy-tree-model-node.c:
	(ephy_tree_model_node_class_init):
	* lib/widgets/ephy-zoom-action.c: (ephy_zoom_action_class_init):
	* lib/widgets/ephy-zoom-control.c: (ephy_zoom_control_class_init):
	* src/bookmarks/ephy-bookmark-action.c:
	(ephy_bookmark_action_class_init):
	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_class_init):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_class_init):
	* src/bookmarks/ephy-new-bookmark.c:
	(ephy_new_bookmark_class_init):
	* src/bookmarks/ephy-topic-action.c:
	(ephy_topic_action_class_init):
	* src/bookmarks/ephy-topics-selector.c:
	(ephy_topics_selector_class_init):
	* src/ephy-encoding-menu.c: (ephy_encoding_menu_class_init):
	* src/ephy-history-window.c: (ephy_history_window_class_init):
	* src/ephy-location-action.c: (ephy_location_action_class_init):
	* src/ephy-navigation-action.c:
	(ephy_navigation_action_class_init):
	* src/ephy-notebook.c: (ephy_notebook_class_init):
	* src/ephy-tab.c: (ephy_tab_class_init):
	* src/ephy-tabs-menu.c: (ephy_tabs_menu_class_init):
	* src/ephy-window.c: (ephy_window_class_init):

	Mark strings in param specs as static.

2005-11-07  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Allow compilation against xulrunner. Patch by
	Robert O'Callahan <rocallahan@novell.com>.

2005-11-07  Bastien Nocera  <hadess@hadess.net>

	reviewed by: Christian Persch <chpe@gnome.org>

	* plugins/desktop-file/plugin.cpp: Fix memleaks in the usage of
	g_key_file_get_string(). Fixes bug #320901.

2005-11-05  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSDialog.cpp:

	Scroll the view so the selected cert is visible. Fixes bug #320758.

2005-11-04  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-gui.c: (ephy_gui_check_location_writable):

	String cleanup.

2005-11-03  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-find.c:
	* embed/ephy-embed-find.h:
	* embed/mozilla/EphyFind.cpp:
	* embed/mozilla/EphyFind.h:
	* embed/mozilla/mozilla-embed-find.cpp:

	More detailed result code from find backend.

	* src/ephy-find-toolbar.c: (set_status), (clear_status),
	(entry_changed_cb), (ephy_find_toolbar_init),
	(ephy_find_toolbar_find_next), (ephy_find_toolbar_find_previous),
	(ephy_find_toolbar_open):

	Add status text to the find toolbar.
	Reverse Next/Previous button order.

2005-11-03  Christian Persch  <chpe@cvs.gnome.org>

	* data/art/Makefile.am:
	R data/art/hand-open.png:
	* lib/egg/egg-toolbar-editor.c: (drag_data_get_cb),
	(set_drag_cursor):

	Use a gtk stock cursor (GDK_HAND2) instead of our own, un-themed one.

2005-11-03  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-location-entry.c: (favicon_drag_begin_cb),
	(ephy_location_entry_construct_contents):

	Simplify the drag icon code.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-location-entry.c: (favicon_create_drag_pixmap),
	(favicon_button_press_event_cb), (favicon_button_release_event_cb),
	(favicon_motion_notify_event_cb),
	(ephy_location_entry_construct_contents):

	Show drag icon with page title + URL when dragging from the drag
	handle.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* data/ui/epiphany-ui.xml:
	* src/ephy-window.c: (update_popup_actions_visibility),
	(show_embed_popup):

	Simplify context menu code by removing the extra
	EphyDocument*FramePopup variants, and just setting the OpenFrame
	action's visibility accordingly; and fix its accelerator.
	Fixes bug #320520.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp:
	* embed/mozilla/EphyAboutModule.h:

	Add titles with title capitalisation, and chanage the icon
	on the netOffline error page.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* lib/egg/egg-editable-toolbar.c: (create_item_from_action),
	(item_added_cb):

	Return early when the action doesn't exist; don't crash.
	Patch by Peter Harvey.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* data/ui/epiphany-fs-toolbar.xml:

	Remove spinner from fullscreen toolbars file.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (settings_change_notify),
	(settings_changed_cb), (ephy_window_key_press_event),
	(ephy_window_constructor):

	Use a single connection to the settings object, and
	also store the menubar accel instead of parsing it on
	each keypress.

2005-11-02  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c:

	Revert change from H18 patch which shouldn't have been committed.

2005-11-01  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-window.c: (ephy_window_key_press_event),
	(gtk_key_theme_changed_cb), (ephy_window_constructor),
	(ephy_window_class_init): I accidentally committed my
	half-complete port of the Galeon key-press event handler
	that allows emacs keybindings to work when I made my last
	commit. Whoops.

	This change addresses post-facto comments made by chpe :-)

	Nothing terribly profound; just attaching the GktSettings
	listener on a per-window, rather than global, basis and
	detecting the other keycodes for Enter/Return.

	As the original change wasn't described, I will do it here:
	Gtk+ has optional support for emacs style keybindings in
	GtkEditable based widgets. But, these keybindings often
	conflict with toplevel accelerators. To make things work
	sanely, we'd like the emacs keybindings to take priority when
	the Editable is focused, and the toplevel accelerators take
	priority for other widgets. As gtk2 uses outside-in event
	propagation, we have to attach a topevel event handler to
	get the event and then pass it on to the focused widget if
	appropriate - and that is what this change does.

2005-11-01  Christian Persch  <chpe@cvs.gnome.org>

	* lib/egg/egg-toolbars-model.c: (item_node_new), (item_node_free),
	(egg_toolbars_model_get_n_avail), (egg_toolbars_model_set_n_avail):

	Use GINT_TO_POINTER/GPOINTER_TO_INT when stuffing ints into pointers,
	and fix gcc 2.95 issues.

2005-11-01  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed.c: (ephy_embed_base_init):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyBrowser.cpp:
	* src/ephy-tab.c: (popups_manager_free_info), (popups_manager_add),
	(popups_manager_show), (popups_manager_hide),
	(ephy_tab_popup_blocked_cb):

	Get the window name from the popup-blocked event.

2005-11-01  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/GtkNSSClientAuthDialogs.cpp:
	* embed/mozilla/GtkNSSDialogs.cpp:
	* embed/print-dialog.c: (ephy_print_verify_postscript):
	* lib/ephy-gui.c: (ephy_gui_check_location_writable):
	* src/bookmarks/ephy-bookmark-properties.c: (update_window_title):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(delete_topic_dialog_construct), (add_bookmarks_source),
	(import_bookmarks):
	* src/bookmarks/ephy-bookmarks.c: (redirect_cb):
	* src/bookmarks/ephy-new-bookmark.c: (duplicate_dialog_construct):
	* src/ephy-extensions-manager.c: (dir_changed_cb):
	* src/ephy-tab.c: (update_net_state_message):

	More curly quotes.

2005-11-01  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (update_popups_tooltips):

	Use curly quotes.

2005-10-31  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-dbus.c:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init_defaults):

	Constification.

2005-10-31  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-history-window.c: (cmd_bookmark_link):

	Use the history window as parent for the new-bookmark dialogue.
	Fixes bug #320329.

2005-10-31  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-history-window.c: (build_search_box):

	Fix capitalisation, bug #320330.

2005-10-31  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-history.c: (ephy_history_class_init),
	(ephy_history_add_page), (impl_add_page):
	* embed/ephy-history.h:
	* embed/mozilla/GlobalHistory.cpp:
	* lib/ephy-marshal.list:
	* src/epiphany.defs:

	Store the redirect and toplevel attributes when
	adding pages to the history (doesn't do anything with
	the info yet, though). Based on a galeon patch by tko.

2005-10-31  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSDialogs.cpp:
	* embed/print-dialog.c:
	* lib/Makefile.am:
	* lib/ephy-dialog.c: (impl_construct):
	R lib/ephy-glade.c:
	R lib/ephy-glade.h:

	Remove ephy-glade since we don't need autoconnect anymore.

2005-10-30  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:
	* data/glade/prefs-dialog.glade:
	* data/glade/print.glade:
	* embed/downloader-view.c: (update_buttons),
	(downloader_view_build_ui), (download_dialog_pause),
	(download_dialog_stop), (download_dialog_response_cb),
	(download_dialog_delete_event_cb):
	* embed/print-dialog.c: (ephy_print_setup_dialog_response_cb),
	(ephy_print_setup_dialog_new):
	* src/ephy-encoding-dialog.c: (ephy_encoding_dialog_init):
	* src/pdm-dialog.c: (show_cookies_properties),
	(cookies_properties_clicked_cb), (pdm_dialog_cookies_construct),
	(passwords_show_toggled_cb), (pdm_dialog_passwords_construct),
	(pdm_dialog_response_cb), (pdm_dialog_init), (pdm_dialog_finalize):
	* src/prefs-dialog.c: (create_language_section),
	(prefs_dialog_response_cb), (prefs_clear_cache_button_clicked_cb),
	(set_homepage_entry), (prefs_homepage_current_button_clicked_cb),
	(prefs_homepage_blank_button_clicked_cb), (prefs_dialog_init):

	Remove glade callbacks, and connect from code instead.

2005-10-30  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-module.c: (ephy_module_load):

	Don't use BIND_LAZY when enabling debugging. That way we can find
	missing symbols in extensions more easily.

2005-10-30  Emmanuele Bassi  <ebassi@cvs.gnome.org>

	* lib/ephy-glade.c: (glade_signal_connect_func):
	* lib/ephy-module.c: (ephy_module_load):
	
	Use G_MODULE_BIND_LAZY when dlopening modules.

2005-10-30  Christian Persch  <chpe@cvs.gnome.org>

	* src/prefs-dialog.c: (create_download_path_button):

	Fix title capitalisation.

2005-10-30  Christian Persch  <chpe@cvs.gnome.org>

	* src/prefs-dialog.c: (create_download_path_button):

2005-10-30  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-nodes-cover.c: (ephy_nodes_get_covering):

	Add array bounds check; fixes bug #320169.

2005-10-30  Christian Persch  <chpe@cvs.gnome.org>

	* lib/egg/egg-editable-toolbar.c: (create_item_from_action):

	Set the action's accel group. Fixes bug #319536.

2005-10-29  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/MozDownload.cpp:
	* lib/ephy-file-chooser.c: (ephy_file_chooser_constructor):
	* lib/ephy-file-helpers.c: (ephy_file_get_downloads_dir):
	* lib/ephy-file-helpers.h:
	* src/prefs-dialog.c: (download_path_changed_cb),
	(create_download_path_button):

	Add ephy_file_get_downloads_dir() to get the actual downloads
	directory, and use it in the prefs dialogue, the filechooser, and
	the backend.

2005-10-29  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* src/ephy-window.c: (ephy_window_key_press_event):

	Removed unused variable.

	* src/ephy-window.c: (ephy_window_constructor), (ephy_window_init),
	(ephy_window_set_is_popup):

	Move most of ephy_window_init code to constructor so properties are
	fully initialized before running that code.
	
2005-10-29  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-module.c: (ephy_module_load):

	Use G_MODULE_BIND_LAZY | G_MODULE_BIND_LOCAL when opening
	the extension module.

2005-10-29  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-spinner.c: (bump_spinner_frame_cb),
	(ephy_spinner_start):

	Skip spinner update when we're not loaded. Should fix
	bug #320079.

2005-10-26  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:
	* embed/downloader-view.c: (status_icon_popup_menu_cb):

	Change downloader and pdm dialogue titles, bug #319843.

2005-10-25  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-link-action.c
	* src/ephy-link-action.h:
	(proxy_button_press_event_cb),
	(proxy_button_release_event_cb), (proxy_drag_begin_cb),
	(ephy_link_action_connect_proxy),
	(ephy_link_action_disconnect_proxy),
	(ephy_link_action_class_init), (ephy_link_action_init):

	Well, that didn't last long. Turns out this was a solved
	problem in EphyBookmarkAction but no one pointed it out
	until just now. Using gtk_button_pressed/released fixes
	everything.

2005-10-25  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-link-action.c
	* src/ephy-link-action.h:
	(proxy_button_release_event_cb), (proxy_drag_begin_cb),
	(ephy_link_action_connect_proxy),
	(ephy_link_action_disconnect_proxy),
	(ephy_link_action_class_init), (ephy_link_action_init):

	Fix bug #319529. Don't activate the action on a middle mouse
	button release event if the release is linked to a DnD.

	This requires adding state to the action to allow us to link
	the drag-begin event to the button-release event.

2005-10-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_add),
	(build_editing_table), (ephy_new_bookmark_construct),
	(ephy_new_bookmark_set_property), (ephy_new_bookmark_get_property):

	Remove info text referring to the not-committed markers in H18.

2005-10-23  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2005-10-23  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.1 ===

	* NEWS:
	* configure.ac:
	* doc/reference/tmpl/EphySingle.sgml:
	* doc/reference/tmpl/ephy-embed-single.sgml:
	* doc/reference/tmpl/ephy-embed.sgml:
	* doc/reference/tmpl/epiphany-unused.sgml:
	* src/Makefile.am:

2005-10-22  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/mozilla-embed-single.cpp: (impl_list_passwords):
	* src/pdm-dialog.c:
	* data/glade/epiphany.glade:

	Add a way to view stored password. Fix bug 316821.

2005-10-22  Christian Persch  <chpe@cvs.gnome.org>

	* data/mime-types-permissions.xml:

	Add another mime type.

	* src/ephy-notebook.c:

	Remove the accidental commit from the H18 patch.

2005-10-21  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_parse_keyfile),
	(ephy_extensions_manager_load_ini_file),
	(ephy_extensions_manager_load_xml_file), (path_to_identifier),
	(ephy_extensions_manager_load_file), (reload_sync_cb), (reload_cb),
	(schedule_load_from_monitor), (dir_changed_cb), (cancel_timeout),
	(ephy_extensions_manager_init), (ephy_extensions_manager_dispose),
	(ephy_extensions_manager_class_init):

	Load the key files and xml files directly from disc, instead of
	getting their contents and parsing from memory.
	When a file changes, schedule a reload instead of processing it
	immediately, to cope with multiple changes (CREATED + CHANGED) in
	a row.

2005-10-21  Philip Langdale  <philipl@mail.utexas.edu>

	* data/ui/epiphany-ui.xml:
	Point main menu UI at toolbar actions.
	* src/ephy-lockdown.c:
	(update_window): Don't try and change the state of
	the now non-existent menu specific actions.
	* src/ephy-toolbar.c
	(ephy_toolbar_set_window): Sync up toolbar actions
	so that they will appear in menus to be identical to
	the old menu specific actions. This just means adding
	accelerators and shortcuts and adjusting tooltip text.	
	* src/ephy-window.c
	(sync_tab_navigation): Remove the menu specific actions
	and consequently, don't try to manipulate them.
	* src/window-commands.c
	* src/window-commands.h:
	(window_cmd_go_up): Remove unused callback.

2005-10-21  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-loader.c: (ephy_loader_get_object):
	* lib/ephy-loader.h:
	* lib/ephy-module.c: (ephy_module_load), (ephy_module_new):
	* lib/ephy-module.h:
	* lib/ephy-shlib-loader.c: (impl_get_object),
	(ephy_shlib_loader_class_init):
	* src/ephy-extensions-manager.c: (free_extension_info),
	(ephy_extensions_manager_load_ini_string), (get_loader_for_type),
	(load_extension):
	* src/ephy-python-loader.c: (impl_get_object):

	Expose the extension description keyfile directly to the loaders.

2005-10-20  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-stock-icons.c: (ephy_stock_icons_init):

	Minor code cleanup.

2005-10-20  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-stock-icons.c: (ephy_stock_icons_init):
	* lib/ephy-stock-icons.h:
	* src/ephy-fullscreen-popup.c: (ephy_fullscreen_popup_constructor):
	* src/ephy-toolbar.c: (ephy_toolbar_constructor):
	* src/ephy-window.c:

	Remove fullscreen and leave-fullscreen stock icons; they're available
	in gtk+ since 2.8.

2005-10-18  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-bookmarks-import.c: (xbel_parse_folder),
	(ephy_bookmarks_import_mozilla):

	Adapt folder import to new menu code, patch by Peter Harvey.
	
2005-10-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar.c: (ephy_toolbar_set_security_state),
	(ephy_toolbar_init):
	* src/ephy-toolbar.h:

	Remove lock visibility setter.

	* src/window-commands.c: (window_cmd_help_about):

	Add Peter Harvey to about credits.

2005-10-17  Crispin Flowerday  <gnome@flowerday.cx>

	* src/epiphany.override
	* src/epiphany.defs
	* src/Makefile.am:

	Update python API to the new bookmark headers.

2005-10-17  Crispin Flowerday  <gnome@flowerday.cx>

	* src/Makefile.am:

	Fix the check-python-binding makefile target to work properly

2005-10-16  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	A data/ephy-xml2ini.xsl:
	* src/ephy-extensions-manager.c:

	Remove .xml parsing code and translate the .xml files to
	the new format with XSLT instead.

2005-10-16  Peter Harvey <pah06@uow.edu.au>

	H18 patch, by Peter Harvey <pah06@uow.edu.au>.
	
	* data/ui/epiphany-bookmark-editor-ui.xml:
	* data/ui/epiphany-ui.xml:
	* lib/egg/egg-editable-toolbar.c: (get_dock_position),
	(get_toolbar_position), (get_toolbar_nth), (find_action),
	(drag_data_delete_cb), (drag_begin_cb), (drag_end_cb),
	(drag_data_get_cb), (move_item_cb), (set_dock_visible),
	(remove_item_cb), (remove_toolbar_cb), (toggle_visibility_cb),
	(egg_editable_toolbar_add_visibility_items),
	(egg_editable_toolbar_add_popup_items), (popup_context_menu_cb),
	(button_press_event_cb), (configure_item_sensitivity),
	(configure_item_cursor), (connect_widget_signals),
	(action_sensitive_cb), (create_item_from_action),
	(create_item_from_position), (toolbar_drag_data_received_cb),
	(toolbar_drag_drop_cb), (toolbar_drag_motion_cb),
	(toolbar_drag_leave_cb), (configure_drag_dest), (create_dock),
	(toolbar_changed_cb), (unparent_fixed), (update_fixed),
	(toolbar_added_cb), (toolbar_removed_cb), (item_added_cb),
	(item_removed_cb), (egg_editable_toolbar_construct),
	(egg_editable_toolbar_set_ui_manager),
	(egg_editable_toolbar_set_property),
	(egg_editable_toolbar_get_property), (egg_editable_toolbar_init),
	(egg_editable_toolbar_finalize),
	(egg_editable_toolbar_get_edit_mode),
	(egg_editable_toolbar_set_edit_mode),
	(egg_editable_toolbar_set_fixed):
	* lib/egg/egg-editable-toolbar.h:
	* lib/egg/egg-toolbar-editor.c: (compare_items),
	(item_added_or_removed_cb), (toolbar_removed_cb),
	(egg_toolbar_editor_set_model), (egg_toolbar_editor_finalize),
	(drag_begin_cb), (drag_end_cb), (drag_data_get_cb),
	(editor_create_item), (editor_create_item_from_name),
	(append_table), (update_editor_sheet), (egg_toolbar_editor_init):
	* lib/egg/egg-toolbar-editor.h:
	* lib/egg/egg-toolbars-model.c: (egg_toolbars_model_to_xml),
	(egg_toolbars_model_save), (toolbar_node_new), (item_node_new),
	(item_node_free), (toolbar_node_free),
	(egg_toolbars_model_get_flags), (egg_toolbars_model_set_flags),
	(egg_toolbars_model_get_data), (egg_toolbars_model_get_name),
	(impl_add_item), (egg_toolbars_model_add_item),
	(egg_toolbars_model_add_toolbar), (parse_data_list),
	(parse_item_list), (parse_toolbars), (egg_toolbars_model_load),
	(egg_toolbars_model_class_init), (egg_toolbars_model_init),
	(egg_toolbars_model_finalize), (egg_toolbars_model_remove_toolbar),
	(egg_toolbars_model_remove_item), (egg_toolbars_model_move_item),
	(egg_toolbars_model_n_items), (egg_toolbars_model_item_nth),
	(egg_toolbars_model_n_toolbars), (egg_toolbars_model_toolbar_nth),
	(egg_toolbars_model_get_types), (egg_toolbars_model_set_types),
	(fill_avail_array), (egg_toolbars_model_get_avail),
	(egg_toolbars_model_get_n_avail), (egg_toolbars_model_set_n_avail):
	* lib/egg/egg-toolbars-model.h:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmark-action-group.c: (smart_added_cb),
	(smart_removed_cb), (node_changed_cb), (node_added_cb),
	(node_removed_cb), (ephy_bookmark_group_new):
	* src/bookmarks/ephy-bookmark-action-group.h:
	* src/bookmarks/ephy-bookmark-action.c: (create_tool_item),
	(ephy_bookmark_action_sync_icon), (show_context_menu),
	(popup_menu_cb), (button_press_cb), (button_release_cb),
	(connect_proxy), (ephy_bookmark_action_updated),
	(ephy_bookmark_action_get_bookmark),
	(ephy_bookmark_action_set_bookmark),
	(ephy_bookmark_action_set_property),
	(ephy_bookmark_action_get_property),
	(ephy_bookmark_action_finalize), (ephy_bookmark_action_class_init),
	(ephy_bookmark_action_init), (ephy_bookmark_action_name),
	(ephy_bookmark_action_new):
	* src/bookmarks/ephy-bookmark-action.h:
	* src/bookmarks/ephy-bookmark-factory-action.c:
	(ephy_bookmark_factory_action_get_type), (activate_item_cb),
	(build_menu_for_topic), (build_menu), (remove_placeholder_cb),
	(activate_placeholder_cb), (clicked_placeholder_cb),
	(realize_placeholder_cb), (create_tool_item), (connect_proxy),
	(ephy_bookmark_factory_action_class_init),
	(ephy_bookmark_factory_action_new):
	* src/bookmarks/ephy-bookmark-factory-action.h:
	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_set_property),
	(ephy_bookmark_properties_get_property),
	(bookmark_properties_response_cb), (update_entry),
	(location_entry_changed_cb), (build_ui):
	* src/bookmarks/ephy-bookmarks-editor.c: (add_entry_monitor),
	(cmd_add_topic), (delete_topic_dialog_construct),
	(cmd_bookmarks_import), (ephy_bookmarks_editor_finalize),
	(ephy_bookmarks_editor_node_activated_cb),
	(ephy_bookmarks_editor_update_menu), (view_focus_cb),
	(add_focus_monitor), (remove_focus_monitor), (bookmarks_filter),
	(search_entry_search_cb), (ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_set_parent),
	(ephy_bookmarks_editor_set_property),
	(ephy_bookmarks_editor_get_property), (ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks-menu.c: (append_bookmarks),
	(append_menu), (ephy_bookmarks_menu_build):
	* src/bookmarks/ephy-bookmarks-menu.h:
	* src/bookmarks/ephy-bookmarks-ui.c: (find_action),
	(activate_bookmarks_menu), (activate_favorites_menu),
	(erase_bookmarks_menu), (erase_favorites_menu), (tree_changed_cb),
	(node_added_cb), (node_changed_cb), (node_removed_cb),
	(ephy_bookmarks_ui_attach_window),
	(ephy_bookmarks_ui_detach_window), (toolbar_node_removed_cb),
	(topic_has_data), (topic_get_data), (topic_get_name),
	(bookmark_has_data), (bookmark_get_data), (bookmark_get_name),
	(bookmark_new_name), (ephy_bookmarks_ui_attach_toolbar_model),
	(ephy_bookmarks_ui_detach_toolbar_model):
	* src/bookmarks/ephy-bookmarks-ui.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_type),
	(ephy_bookmarks_init_defaults), (ephy_bookmarks_class_init),
	(ephy_bookmarks_save_delayed), (add_to_favorites),
	(update_bookmark_keywords), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_add),
	(ephy_bookmarks_set_address), (ephy_bookmarks_set_icon),
	(ephy_bookmarks_add_keyword),
	(ephy_bookmarks_show_bookmark_properties),
	(ephy_bookmarks_get_from_id), (ephy_bookmarks_compare_topics),
	(ephy_bookmarks_compare_topic_pointers),
	(ephy_bookmarks_compare_bookmarks),
	(ephy_bookmarks_compare_bookmark_pointers):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-bookmarksbar-model.c:
	* src/bookmarks/ephy-bookmarksbar-model.h:
	* src/bookmarks/ephy-bookmarksbar.c:
	* src/bookmarks/ephy-bookmarksbar.h:
	* src/bookmarks/ephy-favorites-menu.c:
	* src/bookmarks/ephy-favorites-menu.h:
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_add),
	(build_editing_table), (ephy_new_bookmark_construct),
	(ephy_new_bookmark_set_property), (ephy_new_bookmark_get_property):
	* src/bookmarks/ephy-nodes-cover.c: (ephy_nodes_count_covered),
	(ephy_nodes_remove_covered), (ephy_nodes_remove_not_covered),
	(ephy_nodes_get_covered), (ephy_nodes_covered),
	(ephy_nodes_get_covering):
	* src/bookmarks/ephy-nodes-cover.h:
	* src/bookmarks/ephy-open-tabs-action.c: (activate_cb),
	(node_added_cb), (node_removed_cb), (ephy_open_tabs_group_new),
	(ephy_open_tabs_action_name):
	* src/bookmarks/ephy-open-tabs-action.h:
	* src/bookmarks/ephy-related-action.c: (node_changed),
	(node_destroyed), (open_link), (iface_init),
	(ephy_related_action_get_type), (ephy_related_action_new):
	* src/bookmarks/ephy-related-action.h:
	* src/bookmarks/ephy-topic-action-group.c: (node_changed_cb),
	(node_added_cb), (node_removed_cb), (ephy_topic_group_new):
	* src/bookmarks/ephy-topic-action-group.h:
	* src/bookmarks/ephy-topic-action.c: (ephy_topic_action_get_type),
	(create_tool_item), (ephy_topic_action_sync_label), (get_popup),
	(erase_popup), (child_added_cb), (child_changed_cb),
	(child_removed_cb), (menu_destroy_cb), (menu_init_cb),
	(button_deactivate_cb), (button_toggled_cb), (button_release_cb),
	(button_press_cb), (connect_proxy), (ephy_topic_action_updated),
	(ephy_topic_action_get_topic), (ephy_topic_action_set_topic),
	(ephy_topic_action_set_property), (ephy_topic_action_get_property),
	(ephy_topic_action_class_init), (ephy_topic_action_init),
	(ephy_topic_action_name), (ephy_topic_action_new):
	* src/bookmarks/ephy-topic-action.h:
	* src/bookmarks/ephy-topic-factory-action.c:
	(ephy_topic_factory_action_get_type), (sort_topics),
	(activate_item_cb), (build_menu), (remove_placeholder_cb),
	(activate_placeholder_cb), (clicked_placeholder_cb),
	(realize_placeholder_cb), (create_tool_item), (connect_proxy),
	(ephy_topic_factory_action_class_init),
	(ephy_topic_factory_action_new):
	* src/bookmarks/ephy-topic-factory-action.h:
	* src/ephy-link-action.c: (ephy_link_action_group_get_type),
	(ephy_link_action_group_new):
	* src/ephy-link-action.h:
	* src/ephy-lockdown.c: (find_name), (find_action_group),
	(update_window):
	* src/ephy-notebook.c: (move_tab_to_another_notebook),
	(ephy_notebook_switch_page_cb), (ephy_notebook_init),
	(tab_label_style_set_cb), (build_tab_label),
	(ephy_notebook_add_tab):
	* src/ephy-shell.c: (ephy_shell_get_toolbars_model):
	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_constructor),
	(ephy_toolbar_editor_finalize), (ephy_toolbar_editor_set_property),
	(ephy_toolbar_editor_class_init):
	* src/ephy-toolbar.c: (ephy_toolbar_realize),
	(ephy_toolbar_unrealize), (ephy_toolbar_finalize):
	* src/ephy-toolbars-model.c: (update_flags),
	(ephy_toolbars_model_load):
	* src/ephy-window.c: (ephy_window_get_type),
	(get_chromes_visibility), (sync_chromes_visibility),
	(ephy_window_key_press_event), (tool_item_enter_cb),
	(tool_item_leave_cb), (tool_item_drag_begin_cb),
	(connect_tool_item), (disconnect_tool_item), (disconnect_proxy_cb),
	(connect_proxy_cb), (update_chromes_actions), (show_embed_popup),
	(tab_added_cb), (tab_removed_cb), (ephy_window_set_chrome),
	(ephy_window_dispose), (ephy_window_class_init),
	(ephy_window_init), (ephy_window_finalize),
	(ephy_window_remove_tab), (ephy_window_set_zoom),
	(sync_prefs_with_chrome), (ephy_window_view_toolbar_cb):
	* src/ephy-window.h:

	Revision history:

	h18, released 2005/09/23, for Epiphany 1.8.0

	* Just an update for 1.8.0.
	
	h17, released 2005/08/30, for Epiphany 1.7.6 or CVS HEAD
	
	* Mostly just an update for 1.7.6.
	* Topic menus on the toolbar now open without releasing the mouse button.
	* Topic menus on the toolbar are now also hierarchical (see if you like it.
	
	h16, released 2005/08/25, for Epiphany 1.7.5 or CVS HEAD
	
	* Just an update for 1.7.5. Sorry, I've been busy. :)
	
	h15, released 2005/07/19, for Epiphany 1.7.2 or CVS HEAD
	
	* Code cleanup
	
	h14, released 2005/07/9, for Epiphany 1.7.1 or CVS HEAD
	
	* Improved helpful tip when adding a bookmark
	* Improved toolbar context menu
	* Toolbar visibility state is now saved
	* Separated bookmark/topic action groups into separate files
	* Topics in the overflow menu now behave as submenus
	* Now importing old bookmarksbar, and saving to new filename
	* Incremented toolbar file format version number to 1.1
	* Fixed the 'sticky' statusbar help
	* Fixed a crashing bug (dnd then open a topic on the toolbar)
	
	h13, released 2005/05/12, for CVS HEAD
	
	* Added middle-mouse drag-drop for the editable toolbar.
	* Fixed some warnings at compile and run time.
	* Added brief help for the user when adding a new bookmark.
	* Cleaned up the editable toolbar code a little.
	
	h12, released 2005/05/10, for CVS HEAD
	
	* Added new editing facilities for the editable toolbar.
	
	h11, released 2005/04/29, for CVS HEAD
	
	* Fixed bug in statusbar information for toolbar items.
	* Added an all-new 'Related' toolbar widget which changes to show 
	the most related topic whenever a bookmark is activated.
	
	h10, released 2005/04/15, for Epiphany 1.6.2 or CVS HEAD
	
	* Added statusbar information for all toolbar items.
	* Empty toolbars are now only deleted when exiting edit mode.
	* Fixed regression of middle-click for bookmarks on toolbar.
	* Fixed regression of ellipsized bookmark names in menus.
	
	h9, released 2005/04/12, for Epiphany 1.6.1
	
	* Updated patch for 1.6.1. Long time no see.
	* Now using EphyLink objects everywhere.
	
	h7, released 2004/10/21, for Epiphany 1.4.4
	
	* Updated patch for 1.4.4.
	* Fixed bugs causing crashes when bookmarks were added (thanks Reinout).
	* Added "Open in Tabs" back into bookmark menus where suitable.
	
	h6, released 2004/09/20, for Epiphany 1.4.0
	
	* Updated patch for 1.4.0.
	* Removed the bookmarks bar.
	* Generate shared XML string for bookmarks menu.
	* Slightly improve performance of node-cover code.
	* Delay adding bookmarks menu until it is first used.
	* Fixed bug(?) in ephy-node.
	
	h4, released 2004/08/08, for Epiphany 1.3.4
	
	* Updated patch due to changes to topics selector.
	* Removed 'Most Visited' from the min-cover calculations.
	* Fixed Epiphany 1.3.4 bug where topics in selector aren't sorted.
	* Updated patch due to other changes in Epiphany 1.3.4 source.
	
	h3, released 2004/07/12, for Epiphany 1.3.2
	
	* Simple update for Epiphany 1.3.2
	
	h3, released 2004/05/24, for Epiphany 1.2.5
	
	* Moved duplicated functions into a seperate file.
	* Improved topic selector.
	* Bookmarks toolbar topic menus now have subdivisions.
	* Topic names in menu now change if modified in the bookmarks editor.
	
	h2, released 2004/05/23, for Epiphany 1.2.5
	
	* Significantly cleaned up the code.
	* 'Most Visited' no longer appears as a submenu.
	* Subtopics are selected much more intelligently, giving a better
 	  approximation to a true minimum cover.
	* Topic selector now shows suggestions with arrows, not bold font.
	
	h1, released 2004/05/19, for Epiphany 1.2.5
	
	* Initial release.

2005-10-16  Philip Langdale  <philipl@mail.utexas.edu>

	* configure.ac: Add another necessary mozilla include subdir to
	the includes for tests. This is necessary when compiling against
	an uninstalled mozilla build (header organisation is only done
	at make install time) or, apparently, against gentoo's mozilla
	packages.

2005-10-16  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-link-action.c:
	(proxy_button_release_event_cb), (get_event_widget),
	(ephy_link_action_connect_proxy), (ephy_link_action_disconnect_proxy),
	(ephy_link_action_class_init), (ephy_link_action_get_type):
	Exten the EphyLinkAction to attach a mouse-release-event handler
	which turns around and calls gtk_action_activate in response to a
	middle-click even on the proxy. This allows us to fully encapsulate
	the extra work needed to catch middle clicks.
	The GoHome action will automatically start working correctly now
	that it is getting activated in this case.

	* src/ephy-navigation-action.c:
	(activate_by_history_index), (activate_back_or_forward_menu_item_cb),
	(ephy_navigation_action_activate), (ephy_navigation_action_class_init):
	Fully enscapsulate 'activate' handling inside the action. This is more
	consistent because the menus are already handled internally. Also
	add support for middle-click on back/forward/up.
	
	* src/ephy-toolbar.c:
	(ephy_toolbar_set_window): Don't attach 'activate' signal handlers
	to the navigate actions because activation is now handled internally
	to the action.

	I intend to make a followup change that removes the separate actions
	for GoUp/Back/Forward in the menu and replace them with the main
	actions already used in the toolbar. This means the menu items will
	get middle-click support for free.

	* lib/ephy-gui.c: (ephy_gui_is_middle_click):
	Only consider an unmodified middle-click to be a middle-click.

2005-10-16  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_get):
	* embed/mozilla/EphyBrowser.cpp:

	Enable favicons for https: sites on gecko 1.8.

2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/prefs-dialog.glade:
	* src/prefs-dialog.c: (prefs_dialog_finalize),
	(download_path_changed_cb), (create_download_path_button),
	(prefs_dialog_init), (prefs_homepage_blank_button_clicked_cb):

	Use a GtkFileChooserButton for the download path selector.
	Fixes bug #135738.

2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_download),
	(ephy_favicon_cache_get):
	* embed/mozilla/EphyBrowser.cpp:

	Allow favicons for https: sites on gecko 1.9.

2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyBadCertRejector.h:

	Remove debug output.
	
2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-persist.h:

	Add EPHY_EMBED_PERSIST_NO_CERTDIALOGS flag.

        * embed/mozilla/Makefile.am:
	A embed/mozilla/EphyBadCertRejector.cpp:
	A embed/mozilla/EphyBadCertRejector.h:

	A class implementing nsIBadCertListener which always rejects.

	* embed/mozilla/EphyHeaderSniffer.cpp:
	* embed/mozilla/EphyHeaderSniffer.h:
	* embed/mozilla/MozDownload.cpp:
	* embed/mozilla/MozDownload.h:

	For gecko 1.8, implement nsIInterfaceRequestor for EphyHeaderSniffer
	and MozDownload, and make GetInterface hand out a EphyBadCertRejector
	if the EPHY_EMBED_PERSIST_NO_CERTDIALOGS flag is set.

2005-10-14  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/mozilla-embed.cpp:

	Work around mozilla bug
	https://bugzilla.mozilla.org/show_bug.cgi?id=312241 .

2005-10-12  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-tab.c: (open_link_in_new_tab):
	Copy the back history when a link is opened in
	a new tab from a middle-click or a ctrl-click.

2005-10-12  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-navigation-action.c:
	(activate_back_or_forward_menu_item_cb). Forgot to
	remove the unused url variable.

2005-10-12  Philip Langdale  <philipl@mail.utexas.edu>

	* embed/ephy-embed.c
	* embed/ephy-embed.h: (ephy_embed_shistory_copy).
	Add a method to copy the back/forward history from
	one embed to another.

	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	(EphyBrowser::CopySHistory) Implementation of 
	history copying.

	* embed/mozilla/mozilla-embed.cpp:
	Implement ephy_embed_shistory_copy by calling into
	EphyBrowser.

	* src/ephy-navigation-action.c:
	(activate_back_or_forward_menu_item_cb). If a
	history menu item is middle-clicked on, open a new
	tab, copy the history over and then go to the
	relevant page in the history.

	* src/ephy-toolbar.c: (ephy_toolbar_set_window) Attach
	handler for "open-link" to back/forward actions.

2005-10-12  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-single.c: (ephy_embed_single_iface_init),
	(ephy_embed_single_set_network_status),
	(ephy_embed_single_get_network_status):
	* embed/ephy-embed-single.h:
	* embed/mozilla/EphySingle.cpp:
	* embed/mozilla/EphySingle.h:
	* embed/mozilla/mozilla-embed-single.cpp:
	* src/ephy-window.c: (sync_tab_icon), (sync_network_status),
	(ephy_window_dispose), (ephy_window_init):
	* src/epiphany.defs:
	* src/window-commands.c: (window_cmd_file_work_offline):

	Remove the "network-status" signal from the embed single, and
	make it a property instead. Keep track of the network status in
	EphySingle, and emit property notification when it changes.

2005-10-12  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp:
	* embed/mozilla/EphyAboutModule.h:
	A embed/mozilla/EphyRedirectChannel.cpp:
	A embed/mozilla/EphyRedirectChannel.h:
	* embed/mozilla/Makefile.am:

	Implement about:recover. Build the about module on all geckos, and
	only #ifdef the about:neterror implementation for gecko 1.8.

	* src/ephy-session.c: (tab_added_cb), (impl_attach_window),
	(ephy_session_autoresume), (write_tab), (ephy_session_save),
	(parse_embed), (ephy_session_load):

	Record the page load status and page title in the session file, and
	use about:recover when the page was still loading when the browser
	crashed.

2005-10-10  Christian Persch  <chpe@cvs.gnome.org>

        * lib/ephy-string.c: (ephy_string_shorten):

	Fix constness and don't strdup when returning early.
		
2005-10-10  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-string.c: (ephy_string_blank_chr),
	(ephy_string_shorten):
	* lib/ephy-string.h:

	Bring back ephy_string_shorten.

	* src/ephy-tab.c: (ephy_tab_file_monitor_cb), (ephy_tab_set_title):

	Shorten overlong tab titles, hard. Increase reload delay slightly.
	Strip whitespace from tab title before determining if it's empty.

2005-10-09  Christian Persch  <chpe@cvs.gnome.org>

        * lib/ephy-debug.c:

	Search the needle in the haystack, not the other way 'round.

2005-10-09  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.c:

	Fix logging.

2005-10-09  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* data/ui/epiphany-ui.xml:
	* src/ephy-window.c: (show_embed_popup), 
	(update_image_actions_visibility):

	Eliminate the *Popup/*ImagePopup popup variants.
	Add image context to all popups it can show up.
	Display image context dynamically.
	
2005-10-09  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-shell.c:

	Remove DBUS define, it's always compiled now.

2005-10-08  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.c:

	Fix profiling in builddir != srcdir builds.

2005-10-08  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_start),
	(ephy_spinner_dispose), (ephy_spinner_finalize),
	(ephy_spinner_class_init):

	Ensure the images are loaded before starting to spin.
	Should fix crashes on start/new tab.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar.c: (ephy_toolbar_update_spinner):

	Remove unused variable.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:

	Sync with gnome-2-12.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar.c: (ephy_toolbar_update_spinner),
	(ephy_toolbar_set_show_leave_fullscreen),
	(ephy_toolbar_set_security_state),
	(ephy_toolbar_set_lock_visibility), (ephy_toolbar_set_spinning):

	Use flags to save memory for the priv struct.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_style_set), (ephy_location_entry_class_init),
	(ephy_location_entry_set_favicon),
	(ephy_location_entry_set_secure):
	* lib/widgets/ephy-location-entry.h:

	Add style properties for 'secure-[bg|fg]-color', and apply them when
	the entry is in 'secure' mode. Reset the IM context before emitting
	the 'activate' signal.

	* src/ephy-location-action.c: (sync_secure), (connect_proxy),
	(ephy_location_action_set_property),
	(ephy_location_action_get_property),
	(ephy_location_action_class_init):
	* src/ephy-toolbar.c: (ephy_toolbar_set_security_state),
	(ephy_toolbar_init):
	* src/ephy-toolbar.h:
	* src/ephy-window.c: (sync_chromes_visibility),
	(sync_tab_security):

	Set the location entry's 'secure' property on secure sites,
	and also always show the lock for secure sites.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-single.cpp:

	Add out private plugin directory to MOZ_PLUGIN_PATH too.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:
	* configure.ac:
	* plugins/.cvsignore:
	* plugins/Makefile.am:
	* plugins/desktop-file/.cvsignore:
	* plugins/desktop-file/Makefile.am:
	* plugins/desktop-file/plugin.cpp:
	* po/POTFILES.in:

	Add "desktop-file" plugin, adapted from the
	"mozilla-desktop-file-plugin" written by Jorn Baayen <jbaayen@gnome.org>.
	For now only handle .desktop files from file:/// URIs, for security 
	reasons.

2005-10-03  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-state.c: (paned_sync_position_cb),
	(ephy_state_add_paned):

	Use "position" property notification instead of
	size-allocate to monitor the paned's position.

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):

	Use resize=FALSE with gtk_paned_pack1. Fixes growing size of
	the left pane of the bookmarks editor by repeated opening.

2005-10-03  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (setup_ui_manager), (ephy_window_dispose),
	(ephy_window_finalize):

	Fix memory leak.

2005-10-03  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-shell.c: (ephy_embed_shell_dispose):
	* src/ephy-shell.c: (ephy_shell_dispose):

	Make sure we don't unref NULL objects.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* src/bookmarks/ephy-bookmarks.c: (save_filter),
	(ephy_bookmarks_save), (update_bookmark_keywords),
	(bookmark_is_categorized), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_topic_uri),
	(ephy_bookmarks_find_keyword):
	* src/epiphany.defs:

	Add configure switch to disable zeroconf bookmarks, since
	they're almost useless since just about nobody ships gnome-vfs
	with howl support enabled, and have also been reported to
	cause long delays on startup.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-tab.c: (ephy_tab_finalize):
	* src/ephy-window.c: (ephy_window_finalize):

	Schedule a GC in finalize of EphyTab and EphyWindow, to 
	work around bug #317242.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_dispose),
	(ephy_embed_shell_finalize), (ephy_embed_shell_class_init):
	* embed/ephy-embed.c: (ephy_embed_base_init),
	(ephy_embed_show_page_certificate), (ephy_embed_close):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	* embed/mozilla/mozilla-embed.cpp:
	* src/ephy-notebook.c: (ephy_notebook_class_init),
	(close_button_clicked_cb):
	* src/ephy-notebook.h:
	* src/ephy-python.c: (ephy_python_init), (ephy_python_shutdown),
	(ephy_python_schedule_gc):
	* src/ephy-shell.c: (ephy_shell_class_init), (gnome_session_init),
	(ephy_shell_dispose), (ephy_shell_finalize):
	* src/ephy-tab.c: (ephy_tab_init):
	* src/ephy-window.c: (construct_confirm_close_dialog),
	(confirm_close_with_modified_forms), (embed_modal_alert_cb),
	(idle_tab_remove_cb), (schedule_tab_close),
	(embed_close_request_cb), (embed_destroy_browser_cb),
	(tab_added_cb), (tab_removed_cb), (tab_close_request_cb),
	(setup_notebook), (remove_true), (ephy_window_dispose),
	(cancel_handler), (ephy_window_init), (ephy_window_finalize):
	* src/window-commands.c: (event_with_shift),
	(window_cmd_view_reload), (window_cmd_file_close_window):

	Use nsIDOMWindowInternal::Close to close tabs. Delay tabs destruction
	to an idle handler, to avoid crashes when tabs are closed from signal
	handlers (blur, mousedown, keydown etc).
	Fixes bug #172878, bug #172879, bug #172882, bug #303254, bug #313425.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* embed/print-dialog.c: (ephy_print_do_print_idle_cb):

	Remove unused variable.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widget/ephy-spinner.c:

	Remove unused code.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.h:
	
	Don't include config.h here.

	* lib/widgets/ephy-spinner.c: (ephy_spinner_cache_data_unload),
	(ephy_spinner_cache_data_load), (ephy_spinner_cache_data_new),
	(ephy_spinner_cache_data_free), (ephy_spinner_cache_get_images),
	(ephy_spinner_cache_init), (ephy_spinner_cache_finalize),
	(ephy_spinner_load_images), (ephy_spinner_init),
	(bump_spinner_frame_cb), (ephy_spinner_start),
	(ephy_spinner_set_timeout), (ephy_spinner_finalize),
	(ephy_spinner_screen_changed), (ephy_spinner_class_init):
	
	Make spinner multihead safe.

	* lib/widgets/testspinner.c:
	
	Add a tiny spinner test program.

2005-10-01  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_init),
	(ephy_spinner_start), (ephy_spinner_stop), (ephy_spinner_map),
	(ephy_spinner_unmap), (ephy_spinner_class_init):

	Don't spin unmapped spinners. Slightly decrease the frequency.
	Might help with bug #315232.

2005-10-01  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-location-entry.c: (entry_key_press_cb):

	Reset the IM context before activating the entry.

	* lib/widgets/ephy-node-view.c: (ephy_node_view_key_press_cb):
	* src/ephy-find-toolbar.c: (tab_search_key_press_cb):

	Add GDK_ISO_Enter to recognised keyvals.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp:

	Return error on failure.

2005-09-28  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_file_bookmark_page):

	Don't free const strings.

2005-09-28  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-notebook.c: (sync_label):
	* src/ephy-tab.c: (ephy_tab_get_title_composite),
	(ephy_tab_get_title):
	* src/ephy-tab.h:
	* src/ephy-tabs-menu.c: (sync_tab_title):
	* src/ephy-window.c: (sync_tab_title):
	* src/window-commands.c: (window_cmd_file_send_to),
	(window_cmd_file_bookmark_page):

	Add a function to get the tab's real title, and use it
	where appropriate. Fixes bug #317418.

2005-09-28  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/FilePicker.cpp:

	Hide the filters combo if there's only the "All" filter.

2005-09-27  Christian Persch  <chpe@cvs.gnome.org>

	* data/default-prefs-common.js:

	Back out the fix for bug #158486 by re-enabling keyword:
	searches. Fixes bug #314974.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-notebook.c: (tab_label_style_set_cb),
	(build_tab_label):

	Use the tab label's outer hbox for the size calculation instead
	of the label itself. Fixes size oscillations with the Tab States
	extension.

2005-09-26  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* src/ephy-lockdown.c: (update_window):
	* src/ephy-window.c: (update_popups_tooltips), (show_embed_popup):
	* src/popup-commands.c:
	* src/popup-commands.h:
	* embed/mozilla/EventContext.cpp: (GetEventContext):
	* data/ui/epiphany-ui.xml:

	Unify background image and image code (contex menu, conext event). 
	Fix bug 154887.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/Makefile.am:
	* embed/mozilla/GtkNSSSecurityWarningDialogs.cpp: (DoDialog):

	Back out previous change, it doesn't work right when there
	are *two* dialogues shown: the 1st one can only be dismissed
	after the 2nd one has been dismissed.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/Makefile.am:
	* embed/mozilla/AutoEventQueue.cpp:
	* embed/mozilla/AutoEventQueue.h:
	* embed/mozilla/GtkNSSSecurityWarningDialogs.cpp: (DoDialog):
	
	Push a new event queue while showing the dialogue
	with gtk_dialog_run. This fixes the problem (caused by the
	braindead API of showing this dialogue synchronously) that
	networking is blocked in all other windows while the dialogue
	is shown.
	
2005-09-25  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* data/epiphany-lockdown.schemas.in:

	Add disable_quit to lockdown gconf schema. Fix bug 316499.

2005-09-24  Crispin Flowerday  <gnome@flowerday.cx>

	* data/epiphany.m4:

	Rename the autoconf macro to EPIPHANY_EXTENSION_INIT() and make it
	check the ephy version, get the extension directory and find out
	whether python is enabled.

2005-09-24  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp: (GetErrorMessage):

	Handle contentEncodingError error.

2005-09-24  Crispin Flowerday  <gnome@flowerday.cx>

	* lib/Makefile.am:
	* lib/ephy-module.c: (ephy_module_load):

	If the library path isn't absolute, look in the main extension
	dir, and then the users own extension directory

2005-09-23  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_load_ini_string):

	Don't crash if the Authors key is missing, or
	there are no keys in the Loader section

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-extensions-manager.c:

	s/DOT_INIT/DOT_INI/g.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/epphy-extensions-manager.c: (free_extension_info),
	(ephy_extensions_manager_load_xml_string), (path_to_identifier),
	(ephy_extensions_manager_load_file), (load_file_from_monitor),
	(dir_changed_cb), (ephy_extensions_manager_load_dir):

	Don't read unused variables, and use a #define for the
	keyfile extension.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-python-loader.c: (impl_get_object):

	Accept "Module" argument.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-shlib-loader.c: (impl_get_object)
	(ephy_shlib_loader_class_init):

	Support "Library" argument.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	R data/epiphany-extension.xsd:
	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_load_xml_string),
	(ephy_extensions_manager_startup),
	(ephy_extensions_manager_finalize):

	Since the .xml format is deprecated, remove the (already #if 0'd)
	schema validation code.

2005-09-23  Crispin Flowerday  <gnome@flowerday.cx>

	* data/epiphany.m4: Really add the file

2005-09-23  Crispin Flowerday  <gnome@flowerday.cx>

	* data/Makefile.am:
	* data/epiphany.m4:
	* src/ephy-extensions-manager.c: (free_extension_info),
	(ephy_extensions_manager_load_xml_string),
	(ephy_extensions_manager_load_ini_string), (path_to_identifier),
	(ephy_extensions_manager_load_file), (load_extension),
	(load_file_from_monitor), (dir_changed_cb),
	(ephy_extensions_manager_load_dir):

	Add support for extension description files in the keyfile
	format, using the extension .ephy-extension. Also included
	is a m4 macro to help do the translation of these files.
	
2005-09-21  Jean-Fran√ßois Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/mozilla-embed-single.cpp: (have_gnome_url_handler):

	Remove unused function.

2005-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-gui.c:

	Fix compile warnings.

2005-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:
	* embed/print-dialog.c: (ephy_print_do_print_idle_cb):

	Don't use "cat >" as output command, it fails inpredicably.
	Instead, use the tempfile setting, and set "PostScript/default"
	as printer name. fflush before printing the temp file
	using gnome-print. If not using gecko 1.9, translate the paper
	name to the one mozilla expects (mozilla bug 
	https://bugzilla.mozilla.org/show_bug.cgi?id=307404).

2005-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-gui.c: (ephy_gui_check_location_writable):
	* lib/ephy-gui.h:

	New function to check the filename/directory for writability,
	derived from the now removed ephy_gui_confirm_overwrite_file.
	
	* src/bookmarks/ephy-bookmarks-editor.c:
	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/EphyHeaderSniffer.cpp:

	Use the filechooser's stock confirm-overwrite checking, but
	we still need our own writability check.

2005-09-19  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed.h:
	* embed/mozilla/mozilla-embed.cpp:

	Add EPHY_EMBED_STATE_RESTORING and conversion from
	GTK_MOZ_EMBED_FLAG_RESTORING.

2005-09-19  Christian Persch  <chpe@cvs.gnome.org>

	* data/mime-types-permissions.xml:

	Add another mime alias.

2005-09-19  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (_ephy_window_set_context_event),
	(_ephy_window_unset_context_event), (embed_popup_deactivate_cb),
	(show_embed_popup), (ephy_window_dispose):
	* src/ephy-window.h:

	Make the methods to unset/release the context event semi-public.

2005-09-16  Raphael Slinckx  <rslinckx@cvs.gnome.org>

	* src/bookmarks/ephy-bookmark-action.c:
	(bookmark_activate_with_flags), (open_in_tab_activate_cb),
	(open_in_window_activate_cb), (activate_cb):
	* src/bookmarks/ephy-bookmarks.c: (impl_resolve_address):
	Repair the previous b0rkage, see previous log

2005-09-15  Raphael Slinckx  <rslinckx@cvs.gnome.org>

	* src/bookmarks/ephy-bookmarks.c: (impl_resolve_address):
	If the search term is empty for a smart bookmark use the normal
	URL instead of the smart url with the %s replaced by ""

2005-09-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSDialog.cpp:

	Don't focus the checkbox initially. Fixes bug #163371.

2005-09-15  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_construct):

	Make Close the default button.

2005-09-14  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Set "website-label" property.

2005-09-09  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphySingle.cpp:

	Manually emit the "profile-change-net-teardown" notification;
	works around bug https://bugzilla.mozilla.org/show_bug.cgi?id=292699.

2005-09-07  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:

	Remove unused code.

2005-09-05  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GlobalHistory.cpp:
	* embed/ephy-history.h:

	Implement [SG]etGeckoURIFlags for gecko 1.9.

2005-09-05  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:

	Mozilla printing code is braindead. Bug #163255.

2005-09-03  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Depend on pygtk 2.8. Fixes bug #314557.

	* src/languages.h:

	Remove duplicate entries.

2005-09-01  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_constructor):
	* src/pdm-dialog.c: (show_cookies_properties):

	Fix HIG spacings.

2005-09-01  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:

	Remove find dialogue, and tweak spacings to be HIG compliant.

2005-09-01  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/EphyBrowser.cpp:

	Only listen for trusted events.

2005-08-31  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Update gtk requirement.

2005-08-31  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSSecurityWarningDialogs.cpp:

	Better message on the enter-secure warning.

2005-08-29  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.c:

	Only include execinfo.h if it exists.

2005-08-29  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* lib/ephy-debug.c: (trap_handler):

	Check for execinfo.h. Fixes bug #314776.

2005-08-28  Christian Persch  <chpe@cvs.gnome.org>

	* ChangeLog-20050828:
	* Makefile.am:
	* autogen.sh:
	* configure.ac:
	* data/Makefile.am:
	* data/epiphany-1.10.pc.in:
	* data/epiphany-1.8.pc.in:
	* doc/reference/Makefile.am:
	* embed/Makefile.am:
	* embed/mozilla/Makefile.am:
	* lib/Makefile.am:
	* lib/egg/Makefile.am:
	* lib/ephy-dbus.c: (session_filter_func), (system_filter_func),
	(ephy_dbus_connect_to_session_bus), (ephy_dbus_disconnect_bus):
	* lib/widgets/Makefile.am:
	* src/Makefile.am:
	* src/bookmarks/Makefile.am:

	Version 1.9.
