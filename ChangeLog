2003-05-22  David Bordoley  <bordoley@msu.edu>

	* embed/mozilla/mozilla-embed-single.cpp:
	(mozilla_set_default_prefs):

	Disable Blink and Marquee, cuz they are annoying and
	non-standard. Don't fetch sidebar whats related stuff.
	Line Wrap View->Source. CTRL-Mousewheel scrolls by one page.
	Enable Image Auto-Resizing. Enable Browsing with the Caret.

2003-05-22  Christian Persch  <chpe+gnomebugz@stud.uni-saarland.de>
 
 	* lib/widgets/ephy-zoom-control.c: (ephy_zoom_control_init):
 
 	Don't set a border width on the zoom control, so that it
 	fits on the address toolbar.

2003-05-22  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2003-05-21  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_is_unique):

	Correct indentation of args.

	* src/ephy-window.c: (ephy_window_selection_received_cb):

	Yet more new tab logic fixes.

2003-05-21  Xan Lopez  <xan@masilla.org>

	* embed/ephy-favicon-cache.c: (remove_obsolete_icons),
	(kill_download):

	s/g_object_unref/ephy_node_unref/ on EphyNodes.

2003-05-21  Xan Lopez  <xan@masilla.org>

	* src/ephy-tab.c: (ephy_tab_dom_mouse_click_cb):
	* src/session.c: (parse_embed):

	Fix according to new tab logic.

2003-05-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-notebook.c: (child_realize_cb),
	(ephy_notebook_insert_page):

	Implement our own drag dest on the embed. Dnd of multiple
	urls on embed now open them in tabs.

2003-05-21  Christian Neumair  <chris@gnome-de.org>

	* embed/downloader-view.c: (downloader_view_set_download_info):

	Add gettext call to l10nize string displayed in remaining column when
	download is complete.

2003-05-21  David Bordoley  <bordoley@msu.edu>

	* src/bookmarks/ephy-new-bookmark.c: (duplicate_dialog_construct):

	s/address/page. This always bothered me.

2003-05-21  Christian Neumair  <chris@gnome-de.org>

	* data/glade/epiphany.glade
	* data/glade/prefs-dialog.glade
	* data/epiphany.schemas.in
	* embed/downloader-view.c
	* embed/downloader-view.h:

	Applied patch from #113367 which inter alia removes the keep_open
	option from the download manager and does various download UI tweakage.

2003-05-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(cmd_open_bookmarks_in_tabs),
	(ephy_bookmarks_editor_node_activated_cb):
	* src/ephy-automation.c: (impl_ephy_automation_loadurl):
	* src/ephy-history-window.c: (cmd_open_bookmarks_in_tabs),
	(cmd_open_bookmarks_in_browser):
	* src/ephy-notebook.c: (notebook_drag_data_received_cb):
	* src/ephy-shell.c: (ephy_shell_new_tab):
	* src/ephy-shell.h:
	* src/popup-commands.c: (popup_cmd_link_in_new_window),
	(popup_cmd_link_in_new_tab), (popup_cmd_image_in_new_tab),
	(popup_cmd_image_in_new_window), (popup_cmd_frame_in_new_tab),
	(popup_cmd_frame_in_new_window):
	* src/window-commands.c: (window_cmd_file_new_window),
	(window_cmd_file_new_tab), (window_cmd_view_page_source):

	Cleanup new tab logic, and ever use window for new instances.

2003-05-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_save):

	Do not free memory is not a good idea

	* lib/ephy-node-db.c: (ephy_node_db_set_name):

	Free it two times is even worst

2003-05-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-dnd.c: (ephy_dnd_drag_data_get),
	(ephy_dnd_node_list_extract_nodes):
	* lib/ephy-node-db.c: (ephy_node_db_set_name), (node_from_id_real),
	(ephy_node_db_get_name):
	* lib/ephy-node-db.h:
	* lib/ephy-node.c: (ephy_node_get_db):
	* lib/ephy-node.h:
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_button_press_event_cb),
	(ephy_location_entry_build):
	* lib/widgets/ephy-tree-model-sort.c: (each_node_get_data_binder):

	Fix nodes drag and drop.
	Make double click select the whole address in toolbar entry.

2003-05-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-dnd.c: (ephy_dnd_drag_data_get),
	(ephy_dnd_node_list_extract_nodes):
	* lib/ephy-node-db.c: (ephy_node_db_set_name), (node_from_id_real),
	(ephy_node_db_get_name):
	* lib/ephy-node-db.h:
	* lib/ephy-node.c: (ephy_node_get_db):
	* lib/ephy-node.h:
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_button_press_event_cb),
	(ephy_location_entry_build):
	* lib/widgets/ephy-tree-model-sort.c: (each_node_get_data_binder):

2003-05-20  Christian Neumair  <chris@gnome-de.org>

	* embed/downloader-view.c: (format_time):

	Mark time format strings for translation.

2003-05-20  Xan Lopez  <xan@masilla.org>

	* data/glade/epiphany.glade:
	* embed/find-dialog.c: (impl_show):

	Make find dialog unresizable, blah.

2003-05-19  Christian Persch <chpe+gnomebugz@stud.uni-saarland.de>

 	Simplified and reorganised zoom. Implement a zoom control for the
 	toolbar.
 
 	* lib/widgets/ephy-zoom-action.h:
 	* lib/widgets/ephy-zoom-action.c:
 	* lib/widgets/ephy-zoom-control.h:
 	* lib/widgets/ephy-zoom-control.c:
 
 	New. A simple zoom control and a corresponding egg action.
 
 	* lib/ephy-zoom.h:
 	* lib/ephy-zoom.c:
 
 	New. Define the supported zoom levels, plus some helper functions.
 
 	* data/ui/epiphany-toolbar.xml.in:
 	* src/toolbar.h:
 	* src/toolbar.c: (toolbar_update_zoom_control),
 	(zoom_to_level_cb), (toolbar_setup_actions):
 
 	Hook up zoom control.
 
 	* src/ephy-window.c: (toolbar_update_zoom_control):
 
 	New. Updates toolbar zoom control and menu item sensitivity.
 
 	* embed/mozilla/mozilla-embed.c: (impl_zoom_set, impl_zoom_get):
 	* embed/ephy-embed.[ch]: (zoom_set), (zoom_get), (ephy_embed_zoom_set),
 	(ephy_embed_zoom_get):
 	* lib/ephy-marshal.list:
 	* src/ephy-nautilus-view.c: (gnv_embed_zoom_change_cb),
 	(gnv_zoomable_set_zoom_level_cb):
 	* src/ephy-tab.c: (ephy_tab_zoom_changed_cb):
 	* src/ephy-window.c: (ephy_window_set_zoom):
 
 	Use float zoom factor instead of int percent for zoom.
 
 	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init),
 	(ephy_nautilus_view_class_init), (gnv_zoomable_set_zoom_level_cb),
 	(gnv_zoomable_zoom_in_cb), (gnv_zoomable_zoom_out_cb),
 	(gnv_zoomable_zoom_to_default_cb), (gnv_embed_zoom_change_cb):
 	* src/window-commands.c: (window_cmd_view_zoom_in),
 	(window_cmd_view_zoom_out), (window_cmd_view_zoom_normal):
 
 	Simplified; use ephy-zoom.h where appropriate.

2003-05-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/downloader-view.c: (downloader_view_build_ui):
	* embed/mozilla/Makefile.am:
	* embed/mozilla/default-prefs.js:
	* embed/mozilla/mozilla-embed-single.cpp:
	* embed/mozilla/mozilla-notifiers.cpp:
	* embed/mozilla/mozilla-prefs.cpp:
	* embed/mozilla/mozilla-prefs.h:
	* lib/ephy-dnd.c: (ephy_dnd_node_list_extract_nodes):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/ephy-history-window.c: (ephy_history_window_construct):

	Fix some warnings.
	Go back hardcoding defaults in the code, mozilla pref api sucks :/
	Cleanup mozilla prefs code, we can use mozilla api directly now,
	no need for a wrapper like in galeon1.

2003-05-19  Christian Neumair  <chris@gnome-de.org>

	* data/glade/epiphany.glade
	* data/glade/prefs-dialog.glade
	* data/glade/print.glade
	* src/bookmarks/ephy-bookmark-properties.c
	* src/bookmarks/ephy-new-bookmark.c
	* src/pdm-dialog.c
	* src/session.c
	* src/window-commands.c :

	Made (hopefully) all dialogs HIG compliant, at least when it comes to spacing.
	Last patch of the #112781 patch series.

2003-05-19  David Bordoley  <bordoley@msu.edu>

	* embed/downloader-view.c: (downloader_view_build_ui):
	* lib/ephy-stock-icons.c: (ephy_stock_icons_init):
	* lib/ephy-stock-icons.h:
	* src/ephy-history-window.c: (ephy_history_window_construct):
	* src/bookmarks/ephy-bookmarks-editor.c: 
	ephy_bookmarks_editor_construct):

	Use stock icons instead of the files directly to set window
	border icons.

2003-05-19  David Bordoley  <bordoley@msu.edu>

	* data/epiphany.schemas.in:
	* data/glade/prefs-dialog.glade:
	* lib/ephy-prefs.h:
	* src/ephy-shell.c: (build_homepage_url):
	* src/pref-dialog.c: (properties[])

	Shortest patch ever!!! Kill the new page pref.
	Make Seth happy :)

2003-05-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/Makefile.am:
	* lib/ephy-dnd.c: (ephy_dnd_node_list_extract_nodes):
	* lib/ephy-node.c: (write_lock_to_read_lock),
	(read_lock_to_write_lock), (lock_gdk), (unlock_gdk), (callback),
	(ephy_node_emit_signal), (ephy_node_finalize), (real_remove_child),
	(remove_child), (signal_object_weak_notify),
	(unref_signal_objects), (ephy_node_dispose), (ephy_node_new),
	(ephy_node_new_with_id), (ephy_node_get_id), (ephy_node_ref),
	(ephy_node_unref), (ephy_node_freeze), (ephy_node_thaw),
	(child_changed), (real_set_property), (ephy_node_set_property),
	(ephy_node_get_property), (ephy_node_get_property_string),
	(ephy_node_get_property_boolean), (ephy_node_get_property_long),
	(ephy_node_get_property_int), (ephy_node_get_property_double),
	(ephy_node_get_property_float), (ephy_node_get_property_node),
	(save_parent), (ephy_node_save_to_xml), (real_add_child),
	(ephy_node_new_from_xml), (ephy_node_add_child),
	(ephy_node_remove_child), (ephy_node_has_child),
	(ephy_node_real_get_child_index), (ephy_node_sort_children),
	(ephy_node_reorder_children), (ephy_node_get_children),
	(ephy_node_get_n_children), (ephy_node_get_nth_child),
	(get_child_index_real), (ephy_node_get_child_index),
	(ephy_node_get_next_child), (ephy_node_get_previous_child),
	(ephy_node_signal_connect_object), (ephy_node_signal_disconnect):
	* lib/ephy-node.h:
	* lib/ephy-state.c: (ephy_states_load), (ensure_states),
	(ephy_state_add_window), (ephy_state_add_paned), (ephy_state_save):
	* lib/widgets/ephy-node-view.c: (ephy_node_view_class_init),
	(ephy_node_view_selection_changed_cb),
	(ephy_node_view_set_property), (ephy_node_view_get_property),
	(ephy_node_view_remove):
	* lib/widgets/ephy-tree-model-node.c:
	(ephy_tree_model_node_class_init),
	(ephy_tree_model_node_set_property),
	(ephy_tree_model_node_get_property),
	(ephy_tree_model_node_get_value), (ephy_tree_model_node_get_path),
	(ephy_tree_model_node_iter_next),
	(ephy_tree_model_node_node_from_iter):
	* src/bookmarks/ephy-bookmark-action.c:
	(ephy_bookmark_action_init), (ephy_bookmark_action_new):
	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_class_init),
	(ephy_bookmark_properties_set_property):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(cmd_show_in_bookmarks_bar), (cmd_open_bookmarks_in_tabs),
	(cmd_open_bookmarks_in_browser), (cmd_delete),
	(cmd_bookmark_properties), (cmd_copy),
	(ephy_bookmarks_editor_node_activated_cb),
	(ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_dispose), (node_dropped_cb),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks-export.c: (add_topics_list):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_load),
	(ephy_bookmarks_init), (ephy_bookmarks_add),
	(ephy_bookmarks_add_keyword), (ephy_bookmarks_get_from_id):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-topic-action.c: (menu_activate_cb),
	(sort_bookmarks), (sort_topics), (build_menu),
	(ephy_topic_action_init), (ephy_topic_action_new):
	* src/bookmarks/ephy-topics-selector.c:
	(ephy_topics_selector_class_init),
	(ephy_topics_selector_set_property),
	(ephy_topics_selector_get_property):
	* src/ephy-history-window.c: (cmd_open_bookmarks_in_tabs),
	(cmd_open_bookmarks_in_browser), (cmd_copy), (cmd_bookmark_link),
	(ephy_history_window_node_activated_cb),
	(ephy_history_window_update_menu):
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_finalize):
	* src/ephy-toolbars-model.c: (impl_add_item):
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_load),
	(ephy_favicon_cache_init), (ephy_favicon_cache_finalize),
	(ephy_favicon_cache_get):
	* embed/ephy-history.c:
	(ephy_history_autocompletion_source_foreach), (ephy_history_load),
	(pages_removed_cb), (ephy_history_init), (ephy_history_finalize),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_add_page):

	Ok biggest commit of ephy history.
	Extend node api to allow to branch different databases, deobjectify
	nodes for better perfomance, smarted id factory.
	Convert code to use the new api.
	This will very likely break something, please backup your bookmarks (the .xml)
	and report them.

2003-05-19  David Bordoley  <bordoley@msu.edu>

	* data/epiphany.schemas.in:
	* data/glade/prefs-dialog.glade:
	* embed/ephy-embed-prefs.h:
	* embed/mozilla/default-prefs.js:
	* embed/mozilla/mozilla-notifiers.cpp: (conversion_table []):
	* src/prefs-dialog.c: (properties []):

	Remove fine grain color settings. Always use the system theme
	colors in the case where a page doesn't set it own colors.	

2003-05-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Makefile.am:
	* data/Makefile.am:
	* data/starthere/Makefile.am:

	Fix uninstallation

2003-05-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* NEWS:
	* configure.in:

	0.6.1

	* embed/find-dialog.c: (dialog_constrain_height):

	Missing cast.

	* lib/ephy-start-here.c:

	Missing header.

2003-05-18  Xan Lopez  <xan@masilla.org>

	* NEWS: Updates, typos.

2003-05-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* NEWS: update for 0.6.1, feel free to improve

2003-05-17  Xan Lopez  <xan@masilla.org>

	* embed/find-dialog.c: (dialog_constrain_height), (impl_show):

	Do not allow to resize the dialog vertically, fixes #112727.
	
	* embed/mozilla/FilePicker.cpp:

	Remove unused header.

2003-05-17  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (ephy_window_set_chrome):

	Use gtk api for fullscreen, not wm directly

2003-05-17  Christian Neumair  <chris@gnome-de.org>

	(#112781)

	* data/starthere/index.xml.in
	* data/starthere/section.xsl
	* data/starthere/smartbookmarks.xml.in:
	
	i18nized page title and links, fixed semantic inconsistency.

	* data/ui/epiphany-ui.xml.in
	* src/ephy-favorites-menu.c:

	Only construct Go menu's third separator if there are menu items added
	after it.

	* embed/downloader-view.c:

	Re-added mnemonics to pause/resume button.

	* embed/mozilla/mozilla-i18n.c
	* embed/mozilla/mozilla-notifiers.cpp
	* embed/downloader-view.c
	* embed/ephy-embed-event.c
	* embed/ephy-embed-persist.c
	* embed/ephy-embed-utils.c
	* embed/ephy-history.c
	* lib/widgets/ephy-autocompletion-window.c
	* lib/widgets/ephy-node-view.c
	* lib/widgets/ephy-tree-model-node.c
	* lib/eel-gconf-extensions.c
	* lib/ephy-file-helpers.c
	* lib/ephy-gui.c
	* lib/ephy-node.c
	* lib/ephy-start-here.c
	* lib/ephy-string.c
	* src/bookmarks/ephy-bookmark-action.c
	* src/bookmarks/ephy-bookmark-properties.c
	* src/bookmarks/ephy-bookmarks-editor.c
	* src/bookmarks/ephy-bookmarks.c
	* src/bookmarks/ephy-new-bookmark.c
	* src/bookmarks/ephy-topic-action.c
	* src/ephy-encoding-menu.c
	* src/ephy-history-window.c
	* src/ephy-notebook.c
	* src/ephy-window.c
	* src/ppview-toolbar.c
	* src/session.c
	* src/toolbar.c:
	
	Various i18n include fixes, inter alia included config.h where
	required.

	* src/ephy-go-action.c:
	
	Ditto, plus fixed gettext call.

	* src/pdm-dialog.c:

	Ditto, plus some slight string fixes.

	* src/prefs-dialog.c:
	
	Ditto, plus added some gettext calls to localize language and encoding
	selection.

	* src/window-commands.c:

	Capitalized "Toolbar Editor" in the toolbar editor window's title.

2003-05-17 David Bordoley <bordoley@msu.edu>
	   Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/Makefile.am:
	* src/bookmarks/ephy-bookmark-action.c: (create_tool_item):
	* src/ephy-notebook.c: (ephy_notebook_class_init),
	(ephy_notebook_move_page), (move_tab),
	(notebook_drag_data_received_cb), (ephy_notebook_init),
	(ephy_notebook_set_page_status), (update_tabs_visibility),
	(ephy_notebook_insert_page), (ephy_notebook_remove_page),
	(ephy_notebook_set_page_title):
	* src/ephy-notebook.h:
	* src/ephy-tabs-menu.c: (ephy_tabs_menu_class_init),
	(ephy_tabs_menu_init), (ephy_tabs_menu_clean),
	(ephy_tabs_menu_finalize_impl), (ephy_tabs_menu_set_property),
	(ephy_tabs_menu_get_property), (ephy_tabs_menu_new),
	(ephy_tabs_menu_verb_cb), (ephy_tabs_menu_set_action_accelerator),
	(ephy_tabs_menu_rebuild), (ephy_tabs_menu_update):
	* src/ephy-tabs-menu.h:
	* src/ephy-window.c: (setup_window),
	(update_tabs_menu_sensitivity), (ephy_window_tabs_changed_cb),
	(setup_notebook), (ephy_window_init), (ephy_window_finalize),
	(ephy_window_update_control), (ephy_window_update_all_controls),
	(ephy_window_notebook_switch_page_cb):
	* src/ephy-window.h:
	* src/window-commands.c: (window_cmd_tabs_move_left),
	(window_cmd_tabs_move_right), (window_cmd_tabs_detach):

	Implement a list of tabs at the bottom of tabs menu.
	Add a changed signal to the notebook and use it to update
	list and sensitivity.

2003-05-16  Christian Persch  <chpe+gnomebugz@stud.uni-saarland.de>

	* lib/ephy-string.h: (ephy_string_shorten):

	Make it utf-8 safe. Fixes bug 113114.

2003-05-15  David Bordoley <bordoley@msu.edu>

	* data/epiphany.schemas.in:
	
	Remove unused history prefs and filtering prefs.

2003-05-15  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmark_popup_entries []):

	Add elipses to rename menu entry.

2003-05-14  Miloslav Trmac  <mitr@volny.cz>

	* configure.in: Added Czech (cs) to ALL_LINGUAS.

2003-05-14  David Bordoley <bordoley@msu.edu>

	* lib/ephy-state.c: (ephy_state_add_window):
	* lib/ephy-state.h: (EphyStateWindowFlags):

	Add some flags so that we can choose to save
	position or size or both.

	* lib/ephy-dialog.c: (setup_default_size):
	* src/ephy-window.c: (ephy_window_show):
	* src/window-commands.c: (window_cmd_edit_toolbar):
	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_construct):

	Only save size for dialogs and main windows.

	* src/ephy-history-window.c: (ephy_history_window_construct):
	* src/bookmarks/ephy-bookmarks-editor.c: 
	(ephy_bookmarks_editor_construct):

	Save size and position.	

2003-05-14  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-new-bookmark.c: (duplicate_dialog_construct):

	Don't split sentences, fixes #112938. Patch by dave, l10n iron fist by
	menthos.

2003-05-13  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-history-window-ui.xml.in:
	* src/ephy-history-window.c:

	s/bookmark page/bookmark link, more consistent with
	the docs and better ui.

	* help/C/epiphany.xml:

	Start the create a bookmark section. Needs more work.
	Finish to open/copy address bookmark/history link sections.
	
2003-05-13  Xan Lopez  <xan@masilla.org>

	* data/starthere/smartbookmarks.xml.in:

	s/&/&amp;/, fix by kenneth.

2003-05-13  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks.c: (get_topics_list):

	Fix the no_topics pointer writing, fixes adding bookmarks to
	Uncategorized when they are removed from a topic and they still are in
	other topics (Bad Marco).

2003-05-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/ExternalProtocolService.cpp:

	Revert api change. So we keep 2.2 compatibility.

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_class_init), (location_focus_out_cb),
	(ephy_location_entry_activate_cb):
	* lib/widgets/ephy-location-entry.h:

	Add a finished callback to know when the user finished
	using location.

	* src/bookmarks/ephy-bookmarks.c: (history_site_visited_cb),
	(ephy_bookmarks_set_icon):

	Remove unused vars. Bad xan.

	* src/toolbar.c: (location_finished_cb),
	(toolbar_activate_location):

	Show the toolbar on ctrl+l, hide it again when the user
	finished to edit (focus out/activate)

2003-05-13  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-new-bookmark.c: (duplicate_dialog_construct),
	(duplicate_bookmark_response_cb), (ephy_new_bookmark_is_unique):

	Don't go modal when showing the duplicate bookmark dialog.

2003-05-13  David Bordoley <bordoley@msu.edu>

	* src/ephy-history-window.c: (cmd_bookmark_page):
	* src/popup-commands.c: (popup_cmd_bookmark_link):
	* src/window-commands.c: (window_cmd_file_bookmark_page):
	* src/bookmarks/ephy-new-bookmark.c: (response_cb),
	(ephy_new_bookmark_response_cb):
	* src/bookmarks/ephy-new-bookmark.h:

	Get rid of the unneeded convenience callback since no
	one is try to make the new bookmark dialog modal anymore.

2003-05-12  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init_defaults),
	(history_site_visited_cb), (ephy_bookmarks_find_bookmark),
	(ephy_bookmarks_set_icon), (ephy_bookmarks_remove_keyword):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c: (duplicate_dialog_construct),
	(ephy_new_bookmark_is_unique), (ephy_new_bookmark_new):
	* src/bookmarks/ephy-new-bookmark.h:
	* src/ephy-history-window.c: (cmd_bookmark_page):
	* src/popup-commands.c: (popup_cmd_bookmark_link):
	* src/window-commands.c: (window_cmd_file_bookmark_page):

	Don't allow to have more than one bookmark with the same
	URL^H^H^Haddress, warn the user with a nice dialog.
	Fixes #110854.

2003-05-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/ExternalProtocolService.cpp:

	Use new gnome vfs show_url api.

	* embed/mozilla/MozRegisterComponents.cpp:

	Register external protocols !

	* embed/mozilla/mozilla-embed-single.cpp:

	Check that the ftp handler is not epiphany, to
	avoid infinite loop.

2003-05-11  Xan Lopez  <xan@masilla.org>

	* lib/Makefile.am:

	Fix make dist, patch by Osma Ahvenlampi <oak@iki.fi>

2003-05-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/starthere/smartbookmarks.xml.in:

	Fix google smart bookmarks to use utf8

	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_solve_smart_url):

	Fix google smart bookmarks to use utf8.
	Escape the search string before merging it in the url.

2003-05-11  Christian Persch  <chpe+gnomebugz@stud.uni-saarland.de>

	* src/statusbar.c: (statusbar_init), (statusbar_finalize):

	Correct ref-counting of tooltips.

2003-05-10  Christian Persch  <chpe+gnomebugz@stud.uni-saarland.de>

 	* src/ephy-notebook.c: (ephy_notebook_init), (tab_get_label),
 	(tab_build_label), (ephy_notebook_set_page_tite):
 
 	Show the full page title in tooltip on the tab label.
 	Loosely based on a patch for galeon2 by Tommi Komulainen
 	(attached to bug 64737).

2003-05-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-action.c:
	* lib/egg/eggseparatortoolitem.c:
	* lib/egg/eggtoggletoolbutton.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolbutton.c:
	* lib/egg/eggtoolitem.c:
	* lib/egg/eggtoolitem.h:
	
	Update

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c:
	* src/bookmarks/ephy-bookmarks-export.c:
	* src/bookmarks/ephy-bookmarks-export.h:

	Export bookmarks in an rdf format (RSS was perfect,
	so I just used it instead of inventing a new one).
	This is useful to ensure compatibility in case
	of database formats changes. It will be used also
	as import format for ephy. Also I think it can be easily
	displayed, need to talk with Edd about the css url though.

	Thanks to Edd Dumbill for the help with this.

2003-05-11  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-topic-action.c: (build_bookmarks_menu):

	Small cleanup.

2003-05-10  Xan Lopez  <xan@masilla.org>

	* lib/ephy-node.c: (ephy_node_real_get_child_index),
	(ephy_node_sort_children), (ephy_node_get_child_index):
	* lib/ephy-node.h:

	Add ephy_node_sort_children, unused but kept for future reference
	in jorn's s3kr3t project (and it's cool to be the state of the art
	implementation of node stuff anyway).

2003-05-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/ContentHandler.cpp:

	Fix Open, typo.

2003-05-10  Xan Lopez  <xan@masilla.org>

	* embed/ephy-favicon-cache.c:
	* embed/ephy-history.c: (ephy_history_init):
	* lib/ephy-node-common.h:
	* lib/ephy-state.c:
	* lib/ephy-types.h:
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_delete),
	(ephy_bookmarks_editor_update_menu):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init),
	(ephy_bookmarks_add_keyword):
	* src/bookmarks/ephy-topic-action.c: (sort_bookmarks),
	(build_bookmarks_menu), (sort_topics), (build_topics_menu):

	Alphabetical sort of bookmarks menu elements, fixes #111315.
	Also create ephy-node-common.h with some general enums.

2003-05-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:

	Use sys language as default

	* data/glade/prefs-dialog.glade:

	Put back stuff I accidentally removed.

	* data/glade/print.glade:

	Set it has hidden in glade, so we can set position
	before it's showed.

	* embed/mozilla/mozilla-notifiers.cpp:
	* src/prefs-dialog.c:

	Add system language

2003-05-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* data/glade/prefs-dialog.glade:
	* embed/ephy-embed-prefs.h:
	* embed/mozilla/mozilla-notifiers.cpp:
	* src/language-editor.h:
	* src/prefs-dialog.c:

	Implement security page. Remove some useless
	hidden prefs in the process.

2003-05-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* data/glade/prefs-dialog.glade:
	* lib/ephy-prefs.h:
	* src/Makefile.am:
	* src/ephy-shell.c: (ephy_shell_new_window_cb):
	* src/ephy-tab.c: (ephy_tab_new_window_cb):
	* src/prefs-dialog.c: (prefs_dialog_get_type), (prefs_dialog_new),
	(prefs_dialog_show_help), (setup_font_menu), (save_font_menu),
	(font_entry_changed_cb), (attach_font_signal),
	(attach_fonts_signals), (size_spinbutton_changed_cb),
	(attach_size_controls_signals), (setup_size_control),
	(setup_size_controls), (setup_fonts),
	(default_charset_menu_changed_cb), (find_charset_in_list_cmp),
	(create_default_charset_menu), (general_prefs_new_language_menu),
	(language_menu_changed_cb), (create_language_menu),
	(set_homepage_entry), (prefs_dialog_init),
	(prefs_dialog_response_cb),
	(prefs_clear_disk_cache_button_clicked_cb),
	(fonts_language_optionmenu_changed_cb),
	(prefs_homepage_current_button_clicked_cb),
	(prefs_homepage_blank_button_clicked_cb), (fill_language_editor),
	(language_dialog_changed_cb),
	(prefs_language_more_button_clicked_cb):
	* src/prefs-dialog.h:
	* src/window-commands.c: (window_cmd_edit_prefs):

	Rework prefs dialog ui a bit. Remove jumpto and tabbed_popups
	prefs (jumpto is still in the schemas.
	Remove the crazy page by page separation in the code.

2003-05-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/mozilla-embed.cpp:

	Share signal emission for all dom mouse events, so
	they dont go out of sync.

	* src/ephy-tab.c: (ephy_tab_dom_mouse_click_cb),
	(ephy_tab_dom_mouse_down_cb), (ephy_tab_security_change_cb),
	(ephy_tab_init):

	Take middle click actions on click instead of on mouse down.
	Cleanups.

2003-05-09  Christopher Blizzard  <blizzard@redhat.com>
	 
       * src/ephy-navigation-action.c (activate_up_menu_item_cb):
       * src/ephy-navigation-action.c (activate_back_or_forward_menu_item_cb):
       * lib/eel-gconf-extensions.c (ephy_notification_add):

       Fix 64 bit problems.  Patch from katzj@redhat.com.

2003-05-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/prefs-dialog.c: (prefs_dialog_show_help):

	Remove unused var

2003-05-07  Lee Willis <lwillis@plus.net>

	* src/bookmarks/ephy-topic-action.c:

	Don't show broken sub-menus for topics that
	have no children in the bookmark toolbar. 
	Follow IE behaviour and show an insensitive
	"Empty" entry

2003-05-09  David Adam Bordoley <bordoley@msu.edu>

	* src/ephy-history-window.c: 
	(confirmation_dialog_construct):

	s/items/links to match the docs.

2003-05-08  David Adam Bordoley <bordoley@msu.edu>

	* data/epiphany.schemas.in:
	* data/starthere/index.xml.in:
	* data/starthere/smartbookmarks.xml.in:

	s/location/address and some other minor changes.

2003-05-08  David Adam Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmark-action.c:
	(ephy_bookmark_action_sync_icon), 
	(ephy_bookmark_action_sync_label):

	Don't set an icon unless their is a favicon.
	Append a colon onto the label of smartbookmarks.

2003-05-08  David Adam Bordoley <bordoley@msu.edu>

	* TODO:
	* data/glade/epiphany.glade:
	* data/glade/prefs-dialog.glade:
	* data/glade/print.glade:
	* src/ephy-history-window.c: (ephy_history_ui_entries [])
	(ephy_history_window_update_menu), 
	(ephy_history_window_construct):
	* src/ephy-window.c: (ephy_popups_entries []),
	* src/toolbar.c: (toolbar_setup_actions):
	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	* src/bookmarks/ephy-bookmarks-editor.c: 
	(ephy_bookmark_popup_entries []),
	(ephy_bookmarks_editor_update_menu):

	s/location/address. Fix up mnemonic collisions
	in the print dialog. Mark toolbar action names
	for translation. s/location/"address entry" for
	the entry bar name (this may change depending
	on what the docs team says). Add a todo
	about changing code to use address where 
	appropriate.

2003-05-08  David Adam Bordoley <bordoley@msu.edu>

	* data/glade/epiphany.glade:

	Add a label to the find field.
	Use nicer language.

2003-05-08  David Adam Bordoley <bordoley@msu.edu>

	* lib/ephy-gui.c: (ephy_gui_help):
	* lib/ephy-gui.h:
	
	Convenience function for displaying help.
	Remove unneeded include of gnome-dialog.h

	* src/ephy-history-window.c: (cmd_help_contents):
	* src/prefs-dialog.c: (prefs_dialog_show_help):
	* src/window-commands.c: (window_cmd_help_contents),
	(window_cmd_help_about):
	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_help), 
	(bookmark_properties_response_cb):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(cmd_help_contents):
	* src/bookmarks/ephy-new-bookmark.c:
	(ephy_new_bookmark_help), (response_cb):

	Hook up help to windows/dialogs.
	Add the guilty parties to about.

	* help/C/epiphany.xml:
	
	Fixed the "To Create a New Bookmark" id.

2003-05-08  Anders Carlsson  <andersca@codefactory.se>

	* autogen.sh: Require automake >= 1.6

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:
	
	Add "To Select Bookmarks and Topics" section.

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Add help for adding/removing bookmarks/topics
	from the bookmarks bar, renaming and deleting. 

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Slight reorganization to the "Browsing the
	web" section. Added "To Save a Page to a File"
	section. s/file/page in the find help section. 

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Add find help.

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Add Zooming help.

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Document New Window and New Tab.

2003-05-07  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Fixed some badly formed xml, bad dave!

2003-05-06  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Docs for "To Show and Hide Browser Window 
	Components" section.

2003-05-06  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Write the Browser Windows section. 
	Minor touchups to other sections.

2003-05-06  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:
	
	Remove the editorializing from the introduction section,
	since the Documentation Style Guide specifically states
	not to do this. Remove the screenshot from the docs too,
	its old and needs to be redone to meet our guidlines.
	Write the Getting Started section, changing terminology
	to "open" instead of "start." Marco would it be worthwhile
	to add a docs specific changelog?

2003-05-06  David Adam Bordoley <bordoley@msu.edu>

	* help/C/epiphany.xml:

	Initial checkin of the help stubs. Need to hook
	these up to the ui and actually write the help.

2003-05-06  Edd Dumbill <edd@usefulinc.com>

	* configure.in:
	
	Use AM_CXX_FLAGS

2003-05-05  Christian Persch  <chpe+gnomebugz@stud.uni-saarland.de>

 	* src/ephy-shell.c:
 	* src/ephy-shell.h: (ephy_shell_new_tab):
 
 	Implement the EPHY_NEW_TAB_APPEND_AFTER flag.
 
 	* src/ephy-window.c:
 	* src/ephy-window.h: (ephy_window_add_tab):
 
 	Changed parameter (gboolean) groupde to (gint) position, to support
 	specifying the position in the notebook to insert the new tab into.
 
 	* src/ephy-shell.c: (ephy_shell_new_window_cb):
 	* src/ephy-tab.c: (ephy_tab_new_window_cb):
 
 	Fix callers of ephy_window_add_tab for new parameter.
 	
 	* src/ephy-notebook.c: (notebook_drag_data_received_cb),
 	(ephy_notebook_init), (ephy_notebook_insert_page):
 
 	Implement drag-and-drop of links to tabs.

2003-05-06  Christian Persch  <chpe+gnomebugz@stud.uni-saarland.de>
 
 	* embed/mozilla/EphyWrapper.cpp: (EphyWrapper::SetZoomOnDocshell):
 
 	Check for NULL PresContext.

2003-05-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/mozilla-embed-single.cpp:

	Remove proxy prefs initialization. Now we call the gconf
	notifier on startup for all mozilla prefs, so it should
	be no more necessary.

	* embed/mozilla/mozilla-notifiers.cpp:

	Fix a nice infinite loop with EmbedSingle being shell_get from
	his _init. General cleanup of that code. Galeon1 code is so messy :/

2003-05-04 Osma Ahvenlampi <oa@iki.fi>

	* src/bookmarks/ephy-bookmarks.c:
 	* src/bookmarks/ephy-bookmarks.h:
 	* src/bookmarks/ephy-bookmarks-import.c:
 	* src/bookmarks/ephy-new-bookmark.c:
 	
 	Fix memory leak while saving bookmarks, and performance problem
 	during import.

2003-05-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added sr and sr@Latn to ALL_LINGUAS.

2003-05-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (build_search_box):
	* src/ephy-history-window.c: (confirmation_dialog_response_cb),
	(confirmation_dialog_construct), (cmd_clear), (cmd_bookmark_page),
	(ephy_history_window_class_init), (entry_selection_changed_cb),
	(add_entry_monitor), (view_focus_cb), (add_focus_monitor),
	(remove_focus_monitor), (ephy_history_window_show_popup_cb),
	(build_search_box), (view_selection_changed_cb),
	(ephy_history_window_construct), (ephy_history_window_dispose):
	* src/window-commands.c: (toolbar_editor_destroy_cb),
	(toolbar_editor_response_cb), (window_cmd_edit_toolbar),
	(window_cmd_help_contents):

	Better sensitivity updates for history

2003-05-05  David Adam Bordoley <bordoley@msu.edu>

	* src/toolbar.c: (update_toolbar_remove_flag),
	(toolbar_set_window):

	If there is only one "toolbar" make it non-removable.

	* src/bookmarks/ephy-bookmarks.c: (default_bookmarks []),
	(default_topics []), (ephy_bookmarks_init_defaults):
	
	Make the default topic similar to safari's. Mark
	the default google smartbookmark for translation and
	include a comment instructing translators how to properly
	translate it. Add the google smartbookmark to the 
	bookmarks bar by default.

	* src/bookmarks/ephy-topic-action.c: (create_tool_item):

	Change the space between the topic and it arrow to 3px.
	6px seemed like too much.

2003-05-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-toolbar-editor.c:
	* lib/egg/egg-toolbar-editor.h:
	* lib/egg/egg-toolbars-model.c:
	* lib/egg/egg-toolbars-model.h:

	Update (removing toolbars with context menu works again).

	* src/window-commands.c: (toolbar_editor_help_cb),
	(window_cmd_edit_toolbar):

	Build the tbe dialog, update for new egg api.
	Fix position of new toolbars to be before bookmarks toolbar.

2003-05-02  Jon Svendsen  <jon-sven@frisurf.no>

	* src/ephy-history-window.c: (cmd_clear), (cmd_close),
	(confirmation_dialog_response_cb), (confirmation_dialog_construct),

 	Port confirmation dialog for clearing history to new history dialog.

2003-05-04  David Adam Bordoley <bordoley@msu.edu>

	* data/epiphany.schemas.in:

	Fix two descriptions

2003-05-04  Christian Persch <chpe+gnomebugz@stud.uni-saarland.de>

	* src/ephy-tab.c: (ephy_tab_title_cb):

	Use uri as title when the page is untitled.

2003-05-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c:

	ctrl+u view source

2003-05-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/mozilla-embed-single.cpp:
	* embed/mozilla/mozilla-notifiers.cpp:
	* embed/mozilla/mozilla-notifiers.h:

	Initialize mozilla prefs on startup every time. That is necessary
	if people change them with gconf-editor. This is a 10 ms regression
	on startup but ... it's necessary. What worries me more is the 130 ms
	the notifiers registration takes, that's odd.

2003-05-03 MArk Finlay <sisob@eircom.net>
	   Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:
	* data/epiphany.applications:

	Register ephy for mime types

	* data/epiphany.desktop.in:

	Use %U, so drag and drop on ephy icon will work

	Ready for 0.6.0

2003-05-03  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* data/ui/epiphany-history-window-ui.xml.in:

	Hide view menus in the xml, not working.

	* src/window-commands.c: (toolbar_editor_destroy_cb):

	Update ui after tb editing, so location is not lost.

2003-05-03  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init),
	(gnv_bonobo_control_activate_cb):

	Search for ui files in the share dir

	* src/statusbar.c: (statusbar_set_message):

	Strip \n \r from messages

	* src/toolbar.c:

	Allow reorder of bookmarks

2003-05-03  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_load):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_load):
	* src/ephy-history-window.c: (ephy_history_window_construct):

	Do not assert on corrupted xml, just warn.
	Put back views shadows for now.

2003-05-03  Xan Lopez  <xan@masilla.org>

	* NEWS:

	Minor changes.

2003-05-03  Marco Pesenti Gritti  <marco@it.gnome.org>

	* NEWS:
	* configure.in:

	Update for the release.

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-editable-toolbar.h:
	* lib/egg/egg-toolbar-editor.c:

	Update.

2003-05-02  Xan Lopez  <xan@masilla.org>

	* data/glade/epiphany.glade:
	* embed/downloader-view.c: (downloader_view_class_init),
	(controls_info_foreach), (downloader_view_update_controls),
	(downloader_view_update_details),
	(downloader_view_set_download_info),
	(downloader_view_add_download), (downloader_view_build_ui),
	(download_dialog_pause_cb), (download_dialog_abort_cb),
	(downloader_treeview_selection_changed_cb),
	(download_dialog_delete_cb):
	* embed/downloader-view.h:
	* embed/mozilla/ProgressListener.cpp:
	* embed/mozilla/ProgressListener.h:

	Workaround to not act on every download, ongoing or finished,
	when we click on Pause/Resume or Remove.
	
	Minor UI changes to the download dialog, including merging Pause
	and Resume in one button, and removing File: from the details view.


2003-04-30  David Bordoley <bordoley@msu.edu>

	* data/epiphany.schemas.in:
	* embed/ephy-embed-types.h:
	* lib/ephy-prefs.h:
	* src/ephy-window.c:

	Remove old unused sidebar and toolbar config stuff.	

2003-04-30  David Bordoley <bordoley@msu.edu>

	* lib/ephy-state.c: (ephy_state_window_set_position),
	(ephy_state_window_save_position):

	Don't set/save window position if it is maximized.

	* src/ephy-history-window.c: (ephy_history_window_construct):
	* src/bookmarks/ephy-bookmarks-editor.c: 
	(ephy_bookmarks_editor_construct):

	Don't set the shadow_type to GTK_SHADOW_IN 
	the ScrolledWindows. It breaks some fitts law considerations,
	and really amounts to just visual noise.

2003-04-30  David Bordoley <bordoley@msu.edu>
	
	* src/ephy-window.c
	* data/epiphany.schemas.in
	* lib/ephy-prefs.h:

	Remove fullscreen-only prefs for which UI items to display.
	Now fullscreen respects the "View" menu toggles for UI
	items - but the menu bar is not shown in fullscreen view.
	See bug 111747 for details.

	Patch from Lee Willis <lwillis@plus.net>	

2003-04-30  David Bordoley <bordoley@msu.edu>

	* src/session.c: (parse_embed):

	Remove unused variables.

	Patch from Christian Persch <chpe+gnomebugz@stud.uni-saarland.de>

2003-04-30  David Bordoley <bordoley@msu.edu>

	* src/session.c: (parse_embed):

	Use ephy_shell_new_tab instead of doing 
	exactly the same work itself.

	Patch from Christian Persch <chpe+gnomebugz@stud.uni-saarland.de>

2003-04-30  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(cmd_open_bookmarks_in_tabs):
	* src/ephy-history-window.c: (cmd_open_bookmarks_in_tabs):
	* src/ephy-shell.c: (ephy_shell_new_tab):
	* src/ephy-shell.h:

	Respect all the new_tab used flags, drop unused ones.
	Patch by Christian Perch <chpe+gnomebugz@stud.uni-saarland.de>

2003-04-29  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-ui.xml.in:

	Update go menu to match the default toolbar layout.

	* src/ephy-history-window.c: (build_search_box), 
	(ephy_history_window_construct):
	* src/bookmarks/ephy-bookmarks-editor.c: (build_search_box ),
	(ephy_bookmarks_editor_construct):

	Remove unneccessary padding on the window. Add
	some padding around the search box.

2003-04-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (remove_obsolete_pages),
	(pages_removed_cb), (ephy_history_get_last_page):
	* embed/ephy-history.h:

	We dont need a _remove api, unrefing the node will work
	better.
	Try to remove the host when it's empty. It still doesnt work
	properly, prolly EphyNode bug.

	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_get_node):
	* src/bookmarks/ephy-bookmark-properties.h:
	* src/bookmarks/ephy-bookmarks-editor.c: (prop_dialog_destroy_cb),
	(show_properties_dialog), (cmd_bookmark_properties),
	(ephy_bookmarks_editor_finalize), (ephy_bookmarks_editor_init):

	Do not open more than one dialog per node, just present it.
	Picky picky Dave.

	* src/ephy-automation.c: (impl_ephy_automation_loadurl):
	* src/ephy-shell.c: (ephy_shell_new_tab):

	Ever present the window when opening windows through automation.

2003-04-29  Christian Persch <chpe+gnomebugz@stud.uni-saarland.de>

	* lib/ephy-dnd.c: (ephy_dnd_drag_data_get),
	(ephy_dnd_node_list_extract_nodes):
	* lib/ephy-dnd.h:

	Remove unused function and fix a leak.

2003-04-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/eggtoggletoolbutton.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolbutton.c:
	* lib/egg/eggtoolbutton.h:

	Update

2003-04-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c: (create_toolbar):

	Update

2003-04-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-state.c: (ephy_states_save)

	Check if there are states before saving, fix a crash
	closing the nautilus view.

2003-04-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/Makefile.am:

	Install epiphany-bookmarks.png also in art dir, we are
	forced to do it because it's a menu icon too.

2003-04-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-node-view.c: (ephy_node_view_add_column):
	* lib/widgets/ephy-node-view.h:
	
	Remove add_icon_column func and add the functionality to the 
	normal add_column. The icon will be packed in the same column.

	* src/bookmarks/ephy-bookmarks-editor.c:
	(entry_selection_changed_cb), (add_entry_monitor),
	(add_text_renderer_monitor), (cmd_add_topic), (cmd_rename),
	(build_search_box), (ephy_bookmarks_editor_construct),
	(toolbar_items_changed_cb), (ephy_bookmarks_editor_init):

	Fix for api change.

	Deal with 2 more sensitivity cases:
	bookmarks added by dnd to the toolbar and treeview text
	renderers.

	Remove hints until we have more columns.

	* src/ephy-history-window.c: (ephy_history_window_construct):

	Fix for new api

	* src/ephy-toolbars-model.c: (impl_add_item):

	Dont check if normal items are already in the toolbar:
	fix warnings.

2003-04-28  David Bordoley  <bordoley@msu.edu>

	* po/POTFILES.in:

	Add lib/egg/egg-toolbar-editor.c.

2003-04-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* po/POTFILES.in:

	Update ephy-notebook.c path

2003-04-28  David Bordoley  <bordoley@msu.edu>
	
	* data/ui/epiphany-toolbar.xml.in:

	New default toolbar layout. See bug 105983 for reasoning
	behind the layout.

2003-04-28  David Bordoley  <bordoley@msu.edu>

	* src/ephy-toolbars-model.c: (impl_add_item):
	
	Check if the bookmarks bar already contains the dragged
	bm or topic before adding it to the toolbar.

2003-04-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-notebook.c:
	* lib/widgets/ephy-notebook.h:
	* src/Makefile.am:
	* src/ephy-notebook.c: (ephy_notebook_get_type),
	* src/ephy-notebook.h:

	Move notebook in src/. An abstract notebook is an overkill.

	* src/toolbar.c: (ensure_bookmark_action):

	Fix compilation issue on 2.95

2003-04-28  David Bordoley  <bordoley@msu.edu>

	* embed/ephy-embed-types.h:
	s/GALEON/EPIPHANY in the defines.

	* embed/ephy-embed-utils.c: (ephy_embed_utils_save)
	s/GaleonEmbedPersist/EphyEmbedPersist in the comment.

	* embed/mozilla/mozilla-embed-persist.cpp: (impl_save):
	s/mozilla_embed_get_galeon_wrapper/mozilla_embed_get_ephy_wrapper.

	* embed/mozilla/mozilla-embed.cpp: (mozilla_embed_get_galeon_wrapper),
	(mozilla_embed_get_ephy_wrapper):
	Remove duplicate function (keep the galeon one, since it was the one
	actually being used in the code). 
	s/galeon/ephy.

	* embed/mozilla/mozilla-embed.h:
	s/mozilla_embed_get_galeon_wrapper/mozilla_embed_get_ephy_wrapper.

2003-04-28  David Bordoley  <bordoley@msu.edu>

	* data/epiphany.schemas.in:
	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* data/ui/epiphany-toolbar.xml.in:
	* data/ui/epiphany-ui.xml.in:
	* embed/ephy-embed-types.h:
	* embed/mozilla/mozilla-embed.cpp: (mozilla_embed_new_window_cb):
	* lib/ephy-prefs.h:
	* src/ephy-toolbars-model.c: (ephy_toolbars_model_remove_bookmark),
	(ephy_toolbars_model_add_bookmark), (ephy_toolbars_model_has_bookmark):
	* src/ephy-window.c: (save_window_chrome), (translate_default_chrome),
	(update_layout_toggles), (ephy_window_set_chrome):
	* src/toolbar.c: (init_bookmarks_toolbar), (toolbar_set_visibility):
	* src/window-commands.c: (window_cmd_view_bookmarks_bar):
	* src/window-commands.h:
	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_show_in_bookmarks_bar),
	(ephy_bookmarks_editor_update_menu):

	Consistent use of the term "Bookmarks Bar" in the code, ui and schema.
	Replaces "Bookmarks Toolbar" and "Personal Toolbar." You'll probably
	have to delete your epiphany-toolbar.xml file to get the bm toolbar to 
	work now.

2003-04-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-automation.c:
	(impl_ephy_automation_open_bookmarks_editor):
	* src/ephy-shell.c: (ephy_shell_show_bookmarks_editor),
	(ephy_shell_show_history_window):
	* src/ephy-shell.h:
	* src/window-commands.c: (window_cmd_go_bookmarks),
	(window_cmd_go_history):

	Actually pass a parent to history/bookmarks window, where
	to open the url. Bad who regressed this ;)

2003-04-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-menu-merge.c: (egg_menu_merge_finalize),
	(egg_menu_merge_class_init):

	Reapply one of our MenuMerge patches. Fixes crashes on
	window close.

2003-04-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmark-action.c: (sync_bookmark_properties),
	(bookmarks_child_changed_cb), (ephy_bookmark_action_init),
	(ephy_bookmark_action_new):
	* src/bookmarks/ephy-topic-action.c:
	(ephy_topic_action_set_property), (ephy_topic_action_get_property),
	(ephy_topic_action_class_init), (sync_topic_properties),
	(topic_child_changed_cb), (ephy_topic_action_init),
	(ephy_topic_action_new):

	Sync toolbar on bookmark properties changes.

2003-04-27  David Bordoley <bordoley@msu.edu>

	* data/glade/epiphany.glade:
	
	Removed old history dialog, since it is dead now.
	Set the border width of the passwords tab in the PDM
	to 12px	to match that of the cookies tab. 

2003-04-27  David Bordoley <bordoley@msu.edu>

	* lib/ephy-state.c: (ephy_state_window_set_position),
	(ephy_state_window_save_position), (window_configure_event_cb),
	(window_state_event_cb), (ephy_state_add_window):

	Save the position of windows on the screen, 
	and checks if the position is off the screen.

	* src/toolbar.c: (init_bookmarks_toolbar):

	Pass arguments to egg_toolbars_model_set_flags in the
	correct order.

2003-04-27  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmarks-editor.c: (ephy_bookmarks_editor_construct):
	
	Make the view paned and monitor the state.

2003-04-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-node.c: (real_remove_child):
	
	Emit removed signal after the node is actually removed.
	This could cause bugs, test test test ;)

	* src/bookmarks/ephy-bookmarks.c: (topics_removed_cb):

	Update topics list and uncategorized folder on topics
	removal.

2003-04-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_update_menu), (view_selection_changed_cb),
	(ephy_bookmarks_editor_construct):

	Update sensitivity on selection changes. Thanks xan to find
	this one.

	* src/toolbar.c: (remove_action), (topic_remove_cb),
	(bookmark_remove_cb):

	Get back bookmarks/toolbar sync on bookmark removal.

2003-04-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (view_focus_cb),
	(add_focus_monitor), (remove_focus_monitor),
	(ephy_bookmarks_editor_show_popup_cb),
	(ephy_bookmarks_editor_dispose), (keyword_node_show_popup_cb),
	(search_selection_changed_cb), (build_search_box),
	(ephy_bookmarks_editor_construct):

	Change the way sensitivity is updated once again.
	We need to test this really really well and then port it
	to the history dialog.

2003-04-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-editable-toolbar.h:
	* lib/egg/egg-toolbar-editor.c:
	* lib/egg/egg-toolbars-model.c:
	* lib/egg/egg-toolbars-model.h:
	* lib/egg/eggtoolbar.c:

	update

	* src/ephy-shell.c: (save_toolbars),
	(ephy_shell_get_toolbars_model):
	* src/ephy-toolbars-model.c: (impl_add_item),
	(ephy_toolbars_model_class_init):
	* src/ephy-toolbars-model.h:
	* src/toolbar.c: (action_request_cb), (init_bookmarks_toolbar),
	(toolbar_set_window):

	Load the toolbars model in EphyShell so bookmarks editor
	alone can use it.
	Update the actions on a new editable toolbar signal,
	actions are per toolbar, not per model.

2003-04-27  David Bordoley <bordoley@msu.edu>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-toolbar-editor.c:
	* lib/egg/egg-toolbar-editor.h:

	Update.

	* src/window-commands.c: (toolbar_editor_help_cb),
	(window_cmd_edit_toolbar):

	Add and help button.

2003-04-26  Xan Lopez  <xan@masilla.org>

	* src/window-commands.c: (window_cmd_help_about):

	Use epiphany logo in about window.

2003-04-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-toolbars-model.c:
	* lib/egg/eggtoolbar.c:

	Update.

	* src/bookmarks/ephy-bookmark-properties.c:
	(toolbar_checkbox_changed_cb), (build_ui),
	(ephy_bookmark_properties_init):
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_show_in_the_toolbar),
	(cmd_delete), (ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks.h:
	* src/ephy-toolbars-model.c: (ephy_toolbars_model_new),
	(get_item_pos), (get_action_name), (get_toolbar_pos),
	(ephy_toolbars_model_remove_bookmark),
	(ephy_toolbars_model_add_bookmark),
	(ephy_toolbars_model_has_bookmark):
	* src/ephy-toolbars-model.h:

	Implement the checkbox to add bookmarks to the toolbar.

2003-04-25  David Bordoley <bordoley@msu.edu>

	* src/ephy-history-window.c: (cmd_bookmark_page):
	* src/popup-commands.c: (popup_cmd_bookmark_link):
	* src/window-commands.c: (window_cmd_file_bookmark_page):
	
	Hookup to the response signal instead of using gtk_dialog_run.
	Prevents us from going modal.
	
	* src/bookmarks/ephy-new-bookmark.c: (response_cb),
	(ephy_new_bookmark_response_cb):
	* src/bookmarks/ephy-new-bookmark.h

	Add a convenience callback function, that callers can
	use to destroy the dialog after a response.

	* src/ephy-shell.c: (ephy_shell_command_cb):
	
	Use a callback to the gtk_widget_destroy on the "response"
	signal instead of using gtk_dialog_run. eg. don't go modal.
	Some code cleanups too.

2003-04-25  Xan Lopez  <xan@masilla.org>

	* lib/ephy-node.c: (ephy_node_class_init), (ephy_node_has_child),
	(ephy_node_reorder_children):
	* lib/ephy-node.h:
	* lib/widgets/ephy-tree-model-node.c:
	(ephy_tree_model_node_set_property), (root_child_changed_cb),
	(root_children_reordered_cb):

	Implement ephy_node_reorder_children (from Rhythmbox).

2003-04-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolitem.c:
	* lib/egg/eggtoolitem.h:

	Update

2003-04-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-toolbar.xml.in:
	* data/ui/epiphany-ui.xml.in:
	* lib/egg/egg-editable-toolbar.c: (egg_editable_toolbar_hide),
	(egg_editable_toolbar_set_drag_dest):
	* lib/egg/egg-editable-toolbar.h:
	* src/bookmarks/ephy-topic-action.c: (create_tool_item):
	* src/ephy-shell.c: (save_toolbars), (ephy_shell_finalize),
	(ephy_shell_get_toolbars_model):
	* src/ephy-toolbars-model.c: (impl_add_item),
	(ephy_toolbars_model_class_init):
	* src/ephy-toolbars-model.h:
	* src/ephy-window.c: (ephy_window_set_chrome):
	* src/toolbar.c: (ensure_bookmark_action), (toolbar_ensure_action),
	(action_added_cb), (init_bookmarks_toolbar), (toolbar_set_window),
	(toolbar_new), (toolbar_set_visibility):
	* src/toolbar.h:
	* src/window-commands.c: (toolbar_editor_destroy_cb),
	(window_cmd_edit_toolbar):

	Get back toolbar editing functionalities.
	More work on the bookmarks toolbars implementation.
	The toolbars context menus are regressed but it's not my fault :/
	The signal on EggToolbar is borked.

2003-04-25  David Bordoley <bordoley@msu.edu>
	
	* src/bookmarks/ephy-topic-action.c: (button_toggled_cb),
	(connect_proxy):
	
	Connect to the "toggled" signal instead of "button_press_event"
	so that keynav works.

2003-04-25  David Bordoley <bordoley@msu.edu>

	* src/toolbar.c:
	
	Commented out the include egg_toolbars_group.h
	so that it builds.

2003-04-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-toolbar.xml.in:
	* lib/egg/Makefile.am:
	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-editable-toolbar.h:
	* lib/egg/egg-menu-merge.c:
	* lib/egg/egg-radio-action.c:
	* lib/egg/eggmarshalers.c:
	* lib/egg/eggmarshalers.h:
	* lib/egg/eggmarshalers.list:
	* lib/egg/eggtoggletoolbutton.c:
	* lib/egg/eggtoggletoolbutton.h:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolbar.h:
	* lib/egg/eggtoolbutton.c:
	* lib/egg/eggtoolbutton.h:
	* lib/egg/eggtoolitem.c:
	* lib/egg/eggtoolitem.h:
	* lib/egg/eggtreemodelfilter.c:

	Update from egg

	* src/Makefile.am:
	* src/ephy-location-action.c: (create_tool_item):
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_get_bookmarks),
	* src/ephy-shell.h:
	* src/ephy-window.c: (setup_window), (ephy_window_finalize),
	(ephy_window_set_chrome):
	* src/toolbar.c: (toolbar_class_init), (toolbar_set_window),
	(topic_remove_cb), (bookmark_remove_cb), (toolbar_init),
	(toolbar_new):
	* src/window-commands.c: (window_cmd_edit_toolbar):

	Use the new toolbar editor api. This is incomplete, if you
	use bookmarks toolbars please still do not update.

2003-04-23  David Bordoley <bordoley@msu.edu>

	* embed/ephy-embed-single.c: (ephy_embed_single_show_file_picker):
	* embed/ephy-embed-single.h: 
	* embed/ephy-embed-utils.c: (ephy_embed_utils_save):
	* embed/ephy-embed-utils.h: 
	* embed/mozilla/FilePicker.cpp: (GFilePicker::GFilePicker),
	(GFilePicker::Show), (GFilePicker::HandleFilePickerR):
	* embed/mozilla/FilePicker.h:
	* embed/mozilla/mozilla-embed-persist.cpp: (impl_save):
	* embed/mozilla/mozilla-embed-single.cpp: (impl_show_file_picker):
	* src/window-commands.c: (window_cmd_file_open):
	
	Always save a page's content if there i content to be saved. 
	Remove the checkbox from the save as dialog.

	Patch from Christian Persch <chpe+gnomebugz@stud.uni-saarland.de>

2003-04-23  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-topic-action.c: (create_tool_item):
	
	Set spacing between a topic and the arrow to 6px.
	
2003-04-23  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-topic-action.c: (create_tool_item):
	
	Add a down arrow to topics in bm toolbars.

2003-04-23  Xan Lopez  <xan@masilla.org>

	* idl/EphyAutomation.idl:
	* src/ephy-automation.c: (impl_ephy_automation_loadurl):
	* src/ephy-main.c: (ephy_main_start):

	Remove --geometry option, we weren't respecting it anyway (this
	patch patronized by marco's "DropDropDrop" project).

	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_delete):

	Fix leak.

2003-04-23  Christian Neumair  <chris@gnome-de.org>

	* src/ephy-window.c (setup_window):

	Use gettext instead of gettext_noop call for g_object_set's third
	argument. Makes some i18n magic in tbe dialog actually visible.

2003-04-22  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-history-window-ui.xml.in:

	Rearrange the File menu so that delete 
	is below bookmark page. Add delete and bookmark to 
	the context menu. s/BMK/HST.

2003-04-21  Xan Lopez  <xan@masilla.org>

	* data/starthere/section.xsl:

	Use em instead of px to respect user selected font sizes.

2003-04-21  David Bordoley <bordoley@msu.edu>

	* src/ephy-history-window.c: (key_pressed_cb),
	(ephy_history_window_construct):
	
	Use delete key to remove history items.
	
	* src/bookmarks/ephy-bookmarks-editor: (cmd_delete), 
	(key_pressed_cb), (ephy_bookmarks_editor_construct):
	
	Call cmd_delete from key_press_cb for code reuse.
	Don't allow deletion of special topics with the keyboard delete.	

2003-04-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-toolbar.c:
	* src/bookmarks/ephy-bookmarks-toolbar.h:
	* src/ephy-window.c: (ephy_window_init), (ephy_window_set_chrome):

	Revert the bookmarks toolbar implementation. We really need to
	integrate it with normal toolbars editor code.

2003-04-21  David Bordoley <bordoley@msu.edu>

	* src/ephy-history-window.c:
	* src/bookmarks/ephy-bookmarks-editor.c:

	Added tooltips to all the actions.

2003-04-21  David Bordoley <bordoley@msu.edu>

	* src/ephy-history-window.c: (cmd_clear):

	Added back code to clear the location entry.
	Marco I hope this is ok with you :)

2003-04-21  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	
	Fixed a duplicate seperator. Add a view menu.

	* data/ui/epiphany-history-window-ui.xml.in:
	
	Add a view menu.

	* src/ephy-history-window.c: (ephy_history_window_construct):
	
	Clean up ephy_history_ui_entries[] so that it is a little more
	organized. Add a view menu, but still needs to be hooked up.

	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	
	s/"Show in the bookmarks _toolbar"/"_Show in the bookmarks toolbar".
	Fixes a mnemonic collision.

	* src/bookmarks/ephy-bookmarks-editor.c: (ephy_bookmarks_editor_construct):
	Clean up ephy_bookmark_popup_entries[] so that it is a little more
	organized. Add a view menu, but still needs to be hooked up. Add mnemonic
	to the "_Show in Toolbar" menu entry.

2003-04-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-keywords-entry.c:
	* src/bookmarks/ephy-keywords-entry.h:

	Remove unused files

2003-04-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_show_in_the_toolbar),
	(cmd_copy), (ephy_bookmarks_editor_update_menu):
	* src/bookmarks/ephy-bookmarks-toolbar.c: (bookmarks_changed_cb),
	(ephy_bookmarks_toolbar_init), (ephy_bookmarks_toolbar_clean),
	(go_location_cb), (add_toolitem), (ephy_bookmarks_toolbar_rebuild),
	(ephy_bookmarks_toolbar_update):

	Allow to add topics, update when changing bookmarks.

2003-04-20  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_copy):
	* src/ephy-history-window.c: (cmd_copy):

	Use g_list_free instead of g_free.

2003-04-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:

	Update

	* data/epiphany.schemas.in:
	* data/ui/epiphany-ui.xml.in:
	* lib/egg/egg-editable-toolbar.h:
	* lib/ephy-prefs.h:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmark-properties.c: (update_checkbox),
	(update_window_title), (toolbar_checkbox_changed_cb),
	(set_window_icon), (build_ui):
	* src/bookmarks/ephy-bookmarks.h:
	* src/ephy-window.c: (add_widget), (ephy_window_init),
	(save_window_chrome), (ephy_window_finalize),
	(translate_default_chrome), (update_layout_toggles),
	(ephy_window_set_chrome):
	* src/window-commands.c: (window_cmd_view_bookmarks_toolbar):
	* src/window-commands.h:

	First implementation of the new bookmarks toolbar thing.
	Still doesnt work properly ... old bmk toolbars are still there
	though.
	Dave I dont like much the position of the checkbox in properties :/
	Maybe a different tab dunno ....

2003-04-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-history-window-ui.xml.in:

	Looks like Erich forgot the xml changes

2003-04-20  Erich Lesh <eclesh@pacbell.net>

	* src/ephy-history-window.c: (cmd_copy), (cmd_delete),
	(cmd_bookmark_page), (ephy_history_window_update_menu):

	Delete and Bookmark page menu.

2003-04-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/window-commands.c: (window_cmd_tabs_move_left),
	(window_cmd_tabs_move_right):

	Update tabs menu sensitivity when switching.

2003-04-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (setup_window), (update_tabs),
	(ephy_window_update_control), (ephy_window_update_all_controls),
	(ephy_window_set_zoom):

	Update Tabs and Zoom menus sensitivity

2003-04-19  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	
	Add copy to the bookmark context menu.
	
	* data/ui/epiphany-history-window-ui.xml.in:

	Add an edit menu. Add copy to history item context menu.

	* src/ephy-history-window.c: (cmd_cut), (cmd_copy),
	(cmd_paste), (cmd_select_all), (ephy_history_window_update_menu),
	(ephy_history_window_construct):

	Add edit menu actions. Update the edit menu when activated. 
	Support copying the location of a history item and change
	the label to "Copy Location".

	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_copy),
	(ephy_bookmarks_editor_update_menu):
	
	Support copying the location of a bookmark and change
	the label to "Copy Location".

2003-04-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (menu_activate_cb), (setup_window):
	
	Update Edit menu sensitivity

2003-04-19  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/ephy-tree-model-node.c: (ephy_tree_model_node_init),
	(ephy_tree_model_node_finalize),
	(ephy_tree_model_node_add_prop_column),
	(ephy_tree_model_node_add_func_column),
	(ephy_tree_model_node_get_column_type),
	(ephy_tree_model_node_get_value):

	Use a GPtrArray rather than a GList for columns.

2003-04-19  Xan Lopez  <xan@masilla.org>

	* src/ephy-shell.c: (ephy_shell_new_tab):

	Open view source and copy page next to the current tab, not at the
	end (this was actually a multi-liner patch, sorry marco :P).

2003-04-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-node-view.c: (ephy_node_view_add_column),
	(ephy_node_view_remove), (ephy_node_view_edit):

	Fix bookmarks editing and warnings when openining the dialog.

	* lib/widgets/ephy-node-view.h:

	Remove unused api.

2003-04-19  Xan Lopez  <xan@masilla.org>

	* embed/downloader-view.c: (controls_info_foreach),
	(downloader_view_update_controls),
	(downloader_view_set_download_info),
	(downloader_view_set_download_progress):
	* embed/downloader-view.h:
	* embed/mozilla/ProgressListener.cpp:
	* embed/mozilla/ProgressListener.h:

	Assume Pause/Resume is available for every channel, "fixes" resume for
	HTTP among others. Drop some useless code.

2003-04-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp:

	from galeon. Don't assume sizeof(gsize) == sizeof(guint)
        makes epiphany build better on 64-bit architectures

2003-04-19  Erich Lesh <eclesh@pacbell.net>

	* data/starthere/smartbookmarks.xml.in:

	s/Page/Link

2003-04-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-arrow-toolbutton.c: (button_state_changed_cb):

	Fix the bug with back/fwd buttons auto prelighting.

2003-04-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_set_page_title),
	(ephy_history_set_icon), (ephy_history_clear):
	* embed/ephy-history.h:
	* src/ephy-history-window.c: (cmd_clear), (provide_favicon),
	(ephy_history_window_construct):
	* src/ephy-tab.c: (ephy_tab_set_favicon):

	Implement clear history. Put favicons near sites names.

2003-04-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/Makefile.am:

	Do not install two copies of epiphany.png

	* embed/ephy-history.c: (ephy_history_save),
	(ephy_history_set_page_title):

	Use host name as title for sites, not the real
	title.

	* lib/ephy-state.c: (ephy_state_add_window),
	(paned_size_allocate_cb), (ephy_state_add_paned):
	* lib/ephy-state.h:

	Add a way to persist paned.

	* lib/widgets/ephy-node-view.h:
	* lib/widgets/ephy-node-view.c: (ephy_node_view_sort_func),
	(provide_text_weight), (ephy_node_view_add_column),
	(ephy_node_view_has_selection):

	Improve add_column api a bit to support both auto sorting
	and user sorting.

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):

	Updates for changed api.

	* src/ephy-history-window.c: (ephy_history_window_construct):

	Set a max size for title/location. Not very good, but the
	best we can do with current treeview api prolly.
	Persist the paned size.
	Make columns user sortable.

2003-04-17  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/Makefile.am:
	* embed/ephy-history.c: (ephy_history_init):
	* embed/ephy-history.h:
	* lib/widgets/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_value):
	* src/Makefile.am:
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_finalize),
	(ephy_shell_show_bookmarks_editor), (history_window_hide_cb),
	(ephy_shell_show_history_window):
	* src/ephy-shell.h:
	* src/ephy-window.c: (ephy_window_finalize),
	(update_embed_dialogs), (ephy_window_get_find_dialog):
	* src/ephy-window.h:
	* src/window-commands.c: (window_cmd_go_history):

	New history dialog implementation. More similar
	to bookmarks. Yeah it still sucks ... but the hard
	part is done.

2003-04-17  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-node-view.c:
	* lib/widgets/ephy-node-view.h:
	* lib/widgets/ephy-tree-model-node.c:
	* lib/widgets/ephy-tree-model-node.h:

	New abstracted implementations.
	Nicer and will be useful for 
	history dialog interface rehash to make
	it more consistent with bookmarks (this
	was the hard part of the work).

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:

	Use them.

	* src/history-dialog.c:

	Temp hack to keep the thing building until
	I actually rewrite history dialog.

2003-04-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/Makefile.am:
	* data/ui/epiphany-toolbar-popup-ui.xml.in:

	Remove, no more used

2003-04-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolitem.h:
	
	Update.

2003-04-16  Dave Camp  <dave@ximian.com>

	* embed/ephy-embed-shell.c: (ephy_embed_shell_class_init):
	* embed/ephy-embed-single.c: (ephy_embed_single_class_init):
	* src/ephy-shell.c: (ephy_shell_init): Moved the
	new_window_orphan signal to EphyEmbedSingle.

2003-04-16  Jeremy Katz <katzj@redhat.com>

	* epiphany.spec: New file. Rpm spec.

2003-04-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_rename),
	(cmd_delete), (cmd_select_all),
	(ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_show_popup_cb),
	(keyword_node_show_popup_cb), (menu_activate_cb):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_key_press_cb),
	(ephy_node_view_button_press_cb), (ephy_node_view_construct),
	(ephy_node_view_is_editing), (ephy_node_view_is_target):
	* src/bookmarks/ephy-node-view.h:

	Add a way to decide if the view is target. The impl is an hack
	but we keep ephy-bookmarks clean. The best we can do right now.

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-tab.c: (ephy_tab_set_favicon):

	Dont set icon on bookmarks when the url is NULL !
	Fix a bad crasher.

2003-04-15  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_remove):

	"Intelligent" selection in node removal.

2003-04-15  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-node-view.c: 
	(ephy_node_view_add_icon_column):
	
	Set sizing of the icon column to GTK_TREE_VIEW_COLUMN_GROW_ONLY.

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_show_popup_cb),
	(keyword_node_show_popup_cb), (menu_activate_cb):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_selection_changed_cb), (get_node_from_path),
	(ephy_node_view_button_press_cb), (ephy_node_view_init),
	(ephy_node_view_get_selection), (ephy_node_view_has_selection):

	Fix context menu selection mess, tricky,
	tricky, tricky. It's all kris fault.

2003-04-15  David Bordoley <bordoley@msu.edu>

	*src/bookmarks/ephy-bookmark-editor.c:
	(ephy_bookmarks_editor_update_menu):

	Paste = False when not in an editable.

2003-04-15  David Bordoley <bordoley@msu.edu>

	*src/bookmarks/ephy-bookmark-editor.c:
	(ephy_bookmarks_editor_update_menu):
	
	Fix select all for the bmview. Paste only
	sensitive when in an editable.

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/EphyAboutRedirector.h:

	Remove some obsolete factory code

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* lib/ephy-prefs.h:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_dom_mouse_down_cb):

	Hidden pref for middle click open url. Default off.

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_dispose), (keyword_node_selected_cb),
	(keyword_node_show_popup_cb), (build_search_box),
	(menu_activate_cb), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-node-view.c: (cell_renderer_edited),
	(ephy_node_view_init), (ephy_node_view_edit),
	(ephy_node_view_is_editing):
	* src/bookmarks/ephy-node-view.h:

	Rework sensitivity updates and complete them with cut/copy/select all
	
2003-04-15  David Bordoley <bordoley@msu.edu>

	* src/history-dialog.c: (history_clear_button_clicked_cb),
	(clear_history_dialog_response_cb):

	Added a confirmation dialog for clearing history.

	Patch from Jon Svendsen  <jon-sven@frisurf.no>

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/eggmarshalers.list:
	* lib/egg/eggtoggletoolbutton.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolbar.h:
	
	Update, fix remove toolbar regressions.

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_select_all),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_add_column),
	(ephy_node_view_remove):
	* src/bookmarks/ephy-node-view.h:

	Remove some api that was just silly wrappers.
	Return GtkTreeViewColumn on add_column.

	* src/ephy-nautilus-view.c: (gnv_embed_new_window_cb):
	* src/ephy-shell.c: (ephy_shell_new_window_cb),
	(ephy_shell_new_tab):
	* src/ephy-tab.c: (ephy_tab_new_window_cb):
	* src/ephy-window.c: (ephy_window_add_tab):
	* src/ephy-window.h:
	* src/session.c: (parse_embed):

	Ever open tab as last on File->New tab and similars.

2003-04-13  Vincent Untz  <vincent@vuntz.net>

	* src/prefs-dialog.c: (prefs_dialog_show_help):

	Declare all the variables before the first instruction. Fixes a
	compilation problem under gcc 2.95.

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-types.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_add), (get_topics_list), (update_topics_list),
	(ephy_bookmarks_set_keyword), (ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_update_node):

	Implement Not categorized special topic, note that only
	new/modified bookmarks will be added to it.

2003-04-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-types.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_add), (get_topics_list), (update_topics_list),
	(ephy_bookmarks_set_keyword), (ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_update_node):

2003-04-14  Hasbullah Bin Pit  <sebol@ikhlas.com>

        * configure.in(ALL_LINGUAS): Added "ms".

2003-04-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* data/starthere/index.xml.in:
	* data/starthere/section.xsl:
	* data/starthere/smartbookmarks.xml.in:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* embed/mozilla/StartHereProtocolHandler.h:

	Use home:, have titles.

	* lib/ephy-node.c: (ephy_node_get_from_id):

	Do not assert on 0 id. It's valid.

2003-04-14  David Bordoley <bordoley@msu.edu>
	
	* src/bookmarks/ephy-bookmark-properties.c: 
	(ephy_bookmark_properties_help), (bookmark_properties_response_cb), 
	(build_ui):	
	* src/bookmarks/ephy-new-bookmark.c: (phy_new_bookmark_help),
	(ephy_new_bookmark_response_cb), (ephy_new_bookmark_construct):
	
	Added some help buttons to the new bookmark, and properties dialogs.

2003-04-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:

	s/galeon/epiphany ;)

	* src/bookmarks/ephy-bookmarks-editor.c: (reset_search_entry),
	(keyword_node_selected_cb), (search_entry_changed_cb):
	* src/bookmarks/ephy-topic-action.c: (build_bookmarks_menu),
	(build_topics_menu), (build_menu), (button_press_cb):

	Evil bookmarks menu is back in toolbars eeeeek.
	And no you cant have more than one level ... too bad.

	Fix search/node selection interaction.

2003-04-14  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:	
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_help_contents),
	(ephy_bookmarks_editor_update_menu), (ephy_bookmarks_editor_dispose),
	(ephy_bookmarks_editor_node_selected_cb), (keyword_node_selected_cb),
	(build_search_box):
	
	Add a help menu and associated "Contents" and "About" menu entries.
	Add a focus_monitor to the search entry. Only pass an editor
	to update_menu. Update the sensitivity and label of 
	"Open in New Window/Tab(s)" based on focus and selection. Translators,
	if this causes problems with mneumonics, please give suggestions for
	other letters to use.
	
	* src/window-commands.c: (window_cmd_help_about):
	* src/window-commands.h: 
	
	Take a GtkWidget instead of an EphyWindow as the 
	callback data so that the about function can be used
	in the bme.	

	* src/ephy-window.c: (setup_window):
	
	Setup short toolbar labels for "Bookmark Page...",
	"Save As...", "Print...", and "Open..." so that these
	items don't have elipses on the toolbar.	
	
2003-04-14  Frank Belew  <frb@ximian.com>

	* lib/widgets/ephy-notebook.c (update_tabs_visibility): 

	If user prefers tabs (CONF_TABS_TABBED), always show tab bar

2003-04-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/bme.desktop.in:
	* data/epiphany.desktop.in:

	No need to advertise our name in menus. The user doesnt care.
	s/Epiphany Bookmarks Editor/Web bookmarks

2003-04-13 Mark Finlay <sisob@eircom.net>

	* data/epiphany.desktop.in
	* data/bme.desktop.in

	Add bugzilla info to faciliate easy reporting of bugs.

2003-04-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/mozilla-embed.cpp:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_finalize),
	(ephy_tab_set_favicon), (ephy_tab_favicon_cache_changed_cb),
	(ephy_tab_link_message_cb), (ephy_tab_location_cb),
	(ephy_tab_get_status_message):

	Fix leaks. Dont truncate utf8 strings.

2003-04-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/starthere/smartbookmarks.xml.in:

	Fix the text to make sense.

2003-04-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* NEWS:
	* src/Makefile.am:

	Install the script.

	Release 0.5.0

2003-04-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/default-prefs.js:

	Use google feel like for keywords	

	* lib/ephy-node.c: (ephy_node_new_with_id),
	(ephy_node_system_init):
	* lib/ephy-node.h:

	Pass the reserved ids num

	* lib/ephy-types.h:
	* src/ephy-shell.c: (ephy_shell_init):
	
	Increase reserved ids to 100.

	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init_defaults),
	(ephy_bookmarks_load), (ephy_bookmarks_init):

	Default keywords and bookmarks (only google smb).
	Keywords are probably quite sucky, well it's a start ;)
	Adding more bookmarks could be a i18n pain.

	We should be ready for 0.5.0 now.

2003-04-13  Xan Lopez  <xan@masilla.org>

	* NEWS:

	Fix a couple of typos
	
	* data/epiphany.xhtml:

	Some cosmetic changes

2003-04-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* NEWS:
	* TODO:
	* configure.in:
	* src/Makefile.am:

	Update for 0.5.0.
	Readd evil start script. This sucks :/

2003-04-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:

	Add mozilla version defines

	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/EphyAboutRedirector.cpp:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/ExternalProtocolService.cpp:
	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/FtpProtocolHandler.cpp:
	* embed/mozilla/FtpProtocolHandler.h:
	* embed/mozilla/GlobalHistory.cpp:
	* embed/mozilla/GlobalHistory.h:
	* embed/mozilla/IRCProtocolHandler.cpp:
	* embed/mozilla/IRCProtocolHandler.h:
	* embed/mozilla/MailtoProtocolHandler.cpp:
	* embed/mozilla/MailtoProtocolHandler.h:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/PrintingPromptService.cpp:
	* embed/mozilla/PrintingPromptService.h:
	* embed/mozilla/ProgressListener.cpp:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* embed/mozilla/StartHereProtocolHandler.h:
	* embed/mozilla/mozilla-embed.cpp:

	Nicer way to initialize mozilla modules. (from galeon)

2003-04-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-topic-action.c: (build_topics_menu):

	We cant assume the favicon is already in the cache.

2003-04-09  Xan Lopez  <xan@masilla.org>

	* data/.cvsignore:

	Ignore bme.desktop

2003-04-09  Xan Lopez  <xan@masilla.org>

	* data/Makefile.am:
	* data/art/Makefile.am:
	* idl/EphyAutomation.idl:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_activated_cb),
	(ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_construct):
	* src/ephy-automation.c: (impl_ephy_automation_loadurl),
	(impl_ephy_automation_add_bookmark), (impl_ephy_automation_quit),
	(impl_ephy_automation_load_session),
	(impl_ephy_automation_open_bookmarks_editor),
	(ephy_automation_class_init):
	* src/ephy-main.c: (ephy_main_start):
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_finalize),
	(bookmarks_hide_cb), (ephy_shell_show_bookmarks_editor):
	* src/ephy-shell.h:
	* src/window-commands.c: (window_cmd_go_bookmarks):

	Allow to launch the BME alone, rework some CORBA code, add a .desktop
	file for the BME. Fixes #102477.

2003-04-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (add_focus_monitor),
	(remove_focus_monitor), (ephy_bookmarks_editor_dispose),
	(ephy_bookmarks_editor_node_selected_cb),
	(ephy_bookmarks_editor_construct):

	Add funcs to add/remove focus monitor. Make the code nicer
	and fix warning on destroy.

2003-04-08  Johan Dahlin  <jdahlin@async.com.br>

        * src/bookmarks/ephy-topic-action.c (build_topics_menu): If there
        exist a favicon for the bookmark, add it to the menu.

2003-04-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-toolbars-group.c:
	* lib/egg/egg-toolbars-group.h:

	Update.

	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_class_init),
	(bookmarks_removed_cb), (topics_removed_cb), (ephy_bookmarks_init):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c:
	(ephy_new_bookmark_response_cb):
	* src/popup-commands.c: (popup_cmd_bookmark_link):
	* src/toolbar.c: (toolbar_get_action_name), (toolbar_get_action),
	(topic_remove_cb), (bookmark_remove_cb), (toolbar_init):
	* src/window-commands.c: (window_cmd_file_bookmark_page):

	Update toolbars when bookmarks and topics are removed.
	Use dialog_run for new_bookmark dialog.
	(Dave I hope this doesnt break something, but it's necessary
	to url dnd to toolbars to work correctly)

2003-04-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/Makefile.am:
	* lib/widgets/eggtreemodelfilter.c:
	* lib/widgets/eggtreemodelfilter.h:
	* lib/widgets/eggtreemultidnd.c:
	* lib/widgets/eggtreemultidnd.h:
	* lib/egg/Makefile.am:
	* lib/egg/eggtreemodelfilter.c:
	* lib/egg/eggtreemodelfilter.h:
	* lib/egg/eggtreemultidnd.c:
	* lib/egg/eggtreemultidnd.h:
	* lib/egg/update-from-egg.sh:

	Move and autoupdate these from egg.

	* lib/ephy-dnd.c:
	* lib/ephy-dnd.h:
	* src/ephy-favicon-action.c:

	Remove an unnecessary param in ephydnd API.

	* lib/widgets/ephy-tree-model-sort.c:

	Use the real multidnd api.

2003-04-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoggletoolbutton.c:

	Update (drag separators from editor works now)

2003-04-06  Christian Persch <chpe@stud.uni-saarland.de>

	* src/history-dialog.c: (history_dialog_setup_view):

	Typo. Drag url, not title.

2003-04-05  Evandro Fernandes Giovanini <evandrofg@ig.com.br>

	* configure.in(ALL_LINGUAS): Added "pt_BR".

2003-04-05  David Bordoley <bordoley@msu.edu>

	* src/popup-commands.c: (popup_cmd_bookmark_link):
	* src/window-commands.c: (window_cmd_file_bookmark_page):
	Just show the new bookmark dialog, don't go modal.

	* src/bookmarks/ephy-bookmark-properties.c: 
	(ephy_bookmark_properties_new):
	* src/bookmarks/ephy-bookmark-properties.h
	Need to pass the parent window to _new(), and 
	set the dialog transient to its parent.	

	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_bookmark_properties):
	Pass the bme window to the ephy_bookmark_properties_new.

	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_response_cb):
	Call gtk_widget_destroy() when cancel or ok are clicked.	

2003-04-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/eggintl.h:

	Include config.h. Menu translated again now.

2003-04-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (view_focus_cb):

	The callback return a boolean !

2003-04-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_update_menu),
	(ephy_bookmarks_editor_node_selected_cb), (view_focus_cb),
	(keyword_node_selected_cb), (build_search_box),
	(ephy_bookmarks_editor_construct), (ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_add_keyword):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_has_selection):
	* src/bookmarks/ephy-node-view.h:

	Rewrite sensitivity code. Should take in account focus now.

	* src/ephy-window.c: (ephy_window_show):

	Remove some unused code.

2003-04-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (drag_motion_cb), (drag_drop_cb),
	(drag_data_received_cb):
	* src/ephy-window.c: (ephy_window_show):

	Have a decent size for popups that doesnt specify it.
	Do not allow to drag on special topics.

2003-04-05  Christian Persch <chpe@stud.uni-saarland.de>

	* src/ephy-favicon-action.c: (create_tool_item), (connect_proxy):

	Set drag source on the event box, to avoid conflicts with toolbars
	drag and drop.

2003-04-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-editable-toolbar.h:

	Update from egg.

	* src/toolbar.c: (toolbar_init):

	Use the new api to add drag types. Bookmarks dnd working again.

2003-04-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/mozilla/Makefile.am:

	Use mozilla-config.h instead of hacks.

2003-04-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-autocompletion.c:
	(ephy_autocompletion_update_matches_full_item):

	Fix debug code, smart bookmarks are back in the
	autocompletion.

2003-04-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/Makefile.am:
	* lib/egg/egg-accel-dialog.c:
	* lib/egg/egg-action-group.c:
	* lib/egg/egg-action.c:
	* lib/egg/egg-editable-toolbar.c:
	* lib/egg/egg-editable-toolbar.h:
	* lib/egg/egg-radio-action.c:
	* lib/egg/egg-toggle-action.c:
	* lib/egg/egg-toolbars-group.c:
	* lib/egg/egg-toolbars-group.h:
	* lib/egg/eggintl.h:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolbutton.c:
	* lib/egg/update-from-egg.sh:

	Use EggEditableToolbar.
	Update to latest versions (not EggMenuMerge, we still need patches).
	
	WARNING: it's no more possible to drag bookmarks in the toolbar,
	if you depend on that feature please wait the weekend to update cvs.

	* lib/egg/egg-markup.c:
	* lib/egg/egg-markup.h:

	Remove, not used.

	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-editable-toolbar.c:
	* lib/widgets/ephy-editable-toolbar.h:
	* lib/widgets/ephy-toolbars-group.c:
	* lib/widgets/ephy-toolbars-group.h:

	Remove.

	* src/prefs-dialog.c: (prefs_dialog_show_help),
	(prefs_dialog_response_cb):

	Fix a warning.

	* src/toolbar.c: (toolbar_get_type), (toolbar_get_action_name),
	(toolbar_get_action), (toolbar_class_init), (toolbar_init):
	* src/toolbar.h:
	* src/window-commands.c: (window_cmd_edit_toolbar):

	Update to use the egg api.

2003-04-01  Christian Persch <chpe@stud.uni-saarland.de>

	* src/ephy-tab.c:
	* src/ephy-tab.h:

	Marco-is-silly-patch. Update to latest version
	of the favicons patch.

2003-04-01  Christian Persch <chpe@stud.uni-saarland.de>

	* lib/widgets/ephy-notebook.c: (ephy_notebook_set_page_status),
	(ephy_notebook_set_page_icon), (tab_build_label):
	* lib/widgets/ephy-notebook.h:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_set_favicon),
	(ephy_tab_favicon_cache_changed_cb), (ephy_tab_favicon_cb),
	(ephy_tab_location_cb):
	* src/ephy-tab.h:
	* src/ephy-window.c: (ephy_window_init):

	Show favicons on tabs

2003-04-01  Patanjali Somayaji <patanjali@codito.com>

	* help/C/epiphany.xml:
	Added place holders for help text for preferences dialog
	* src/prefs-dialog.c: added code to invoke appropriate help
	* src/window_commands.c: added documenter credit

2003-03-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/eggtoolbar.c: (egg_toolbar_class_init),
	(egg_toolbar_init), (egg_toolbar_unrealize), (egg_toolbar_expose),
	(egg_toolbar_size_allocate), (find_drop_pos),
	(egg_toolbar_drag_leave), (egg_toolbar_drag_motion),
	(egg_toolbar_get_item_index), (egg_toolbar_get_show_arrow),
	(egg_toolbar_get_drop_index):
	* lib/egg/eggtoolbar.h:
	* lib/egg/eggtoolitem.c: (egg_tool_item_get_type),
	(egg_tool_item_class_init), (create_drag_window),
	(egg_tool_item_realize), (egg_tool_item_unrealize),
	(egg_tool_item_map), (egg_tool_item_unmap),
	(egg_tool_item_size_allocate), (egg_tool_item_set_tooltip),
	(egg_tool_item_set_use_drag_window):
	* lib/egg/eggtoolitem.h:
	* lib/widgets/ephy-editable-toolbar.c: (drag_data_received_cb),
	(drag_data_get_cb), (connect_item_drag_source),
	(disconnect_item_drag_source), (popup_toolbar_context_menu),
	(setup_toolbar), (do_merge), (ephy_editable_toolbar_init),
	(hide_editor), (update_editor_sheet), (show_editor):
	* lib/widgets/ephy-toolbars-group.c: (add_action),
	(ephy_toolbars_group_add_item), (parse_item_list):
	* lib/widgets/ephy-toolbars-group.h:

	Use the new EggToolbar apis. Better drop feedback,
	separators drag and code cleanups.

2003-03-30  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	Update to reflect changes in EphyTopicSelector api. Wrap the 
	topic selector in a GtkScrolledWindow.	
	
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_add_topic),
	(cmd_rename), (cmd_open_bookmarks_in_tabs), (cmd_open_bookmarks_in_browser),
	(cmd_delete), (cmd_bookmark_properties), (cmd_select_all), 
	(ephy_bookmarks_editor_dispose), (keyword_node_selected_cb),
	(ephy_bookmarks_editor_construct), (ephy_bookmarks_editor_update_menu):
	Update to reflect changes in EphyNodeView api. Wrap bm_view 
	and key_view in GtkScrolledWindows.	
	s/_Open In New Window/_Open in New Window and s/Open In New _Tabs/Open in New _Tab.

	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	Update to reflect changes in EphyTopicSelector api. Wrap the 
	topic selector in a GtkScrolledWindow.	

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_get_type), 
	(ephy_node_view_construct), (ephy_node_view_new), 
	(ephy_node_view_add_column), (ephy_node_view_add_icon_column),
	(ephy_node_view_get_selection), (ephy_node_view_has_focus), 
	(ephy_node_view_set_browse_mode), (ephy_node_view_select_node),
	(ephy_node_view_enable_drag_dest), (ephy_node_view_enable_drag_source),
	(ephy_node_view_set_hinted), (ephy_node_view_edit):
	* src/bookmarks/ephy-node-view.h:
	Inherit from GtkTreeView instead of GtkScrolledWindow and
	change methods to reflect the change. Allow for better/easier keynav.
	Return a GtkWidget from ephy_node_view_new to be consistent with GTK.

	* src/bookmarks/ephy-topics-selector.c: (ephy_topics_selector_get_type),
	(mneumonic_activated), (ephy_topics_build_ui), (ephy_topics_selector_new):
	* src/bookmarks/ephy-topics-selector.h:
	Inherit from GtkTreeView instead of GtkScrolledWindow and
	change methods to reflect the change. Allow for better/easier keynav.

2003-03-30  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	Use hotkeys to navigate around the dialog.
	
	* src/bookmarks/ephy-topics-selector.c: (mneumonic_activated),
	(ephy_topics_build_ui), (ephy_topics_selector_new):
	Catch the mneumonic-activated signal and focus the currently
	selected item in the list. If no items are selected, select the
	first item.

	* src/bookmarks/ephy-bookmarks-editor.c: (key_pressed_cb):
	Change function to return a gboolean and return false
	if we don't handle the key event (fixes keynav in the bme).

2003-03-30  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb),
	(keyword_node_selected_cb), (ephy_bookmarks_editor_update_menu):

	More sensitive stuff, I think this handles every case marco's sick
	mind can think about *grin*

2003-03-29  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(cmd_open_bookmarks_in_tabs), (cmd_open_bookmarks_in_browser),
	(cmd_bookmark_properties),
	(ephy_bookmarks_editor_node_selected_cb),
	(keyword_node_selected_cb):

	Do not update menus in element unselection.
	Minor fixes.

2003-03-29  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmarks-editor.c: (build_search_box):
	Add alt+s mneumonic to the search box and activate it.

2003-03-29  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-node-view.c: (drag_motion_cb):

	Fix warning.

2003-03-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-dnd.c: (add_one_node), (ephy_dnd_drag_data_get),
	(ephy_dnd_node_list_extract_nodes):
	* lib/ephy-dnd.h:
	* lib/ephy-marshal.list:
	* lib/widgets/ephy-tree-model-sort.c: (each_node_get_data_binder),
	(ephy_tree_model_sort_multi_drag_data_get):
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_rename),
	(cmd_select_all), (ephy_bookmarks_editor_show_popup_cb),
	(keyword_node_show_popup_cb), (node_dropped_cb),
	(ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_update_menu):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_class_init),
	(ephy_node_view_button_press_cb), (ephy_node_view_has_focus),
	(get_node_from_path), (drag_motion_cb), (drag_drop_cb),
	(drag_data_received_cb), (ephy_node_view_enable_drag_dest),
	(ephy_node_view_enable_drag_source):
	* src/bookmarks/ephy-node-view.h:
	* src/ephy-favicon-action.c: (connect_proxy):
	* src/history-dialog.c: (history_dialog_setup_view):
	* src/toolbar.c: (toolbar_get_action_name):

	Make dnd code smarter, so it can support more than
	just urls types.
	Implement drag of bookmarks on topics in bme. What a pain !

2003-03-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-topic-action.c: (create_tool_item),
	(menu_deactivate_cb), (menu_activate_cb), (build_topics_menu),
	(button_press_cb), (ephy_topic_action_set_property),
	(ephy_topic_action_get_property), (ephy_topic_action_class_init),
	(ephy_topic_action_new):

	Implement topics menu.
	TODO: All should generate the crappy bookmarks menu, favicons,
	topic icon.
	These are lower priority for me now though.

2003-03-29  Xan Lopez  <xan@masilla.org>

	* help/.cvsignore:
	* help/C/.cvsignore:

	00:35 <mpesenti> evil help stuff without cvsignore

2003-03-28  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb),
	(keyword_node_selected_cb), (ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_update_menu):

	Makes Delete and Rename menu entries in the BME unsensitive
	under the following conditions:
	- Topic with priority != NORMAL selected => Delete and Rename
	unsensitive
	- Node selection bigger than 1 (multiple selection) => Rename unsensitive

2003-03-28  Frank Belew  <frb@ximian.com>

	* Makefile.am: added xmldocs.make and omf.make to EXTRA_DIST
	so building from a disted tarball works again

2003-03-27  David Bordoley <bordoley@msu.edu>

        * src/bookmarks/ephy-bookmarks-editor.c: (key_pressed_cb), 
        (ephy_bookmarks_editor_construct):
        Use the same key_press callback for both the topics and bm's view.
        s/bookmarks/title in the bm tree.
        Remove an unused enum.        

        * src/bookmarks/ephy-topics-selector.c: (topic_key_pressed), 
        (ephy_topics_build_ui):
        Use space, return and enter to toggle topics in the selector.

2003-03-27  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_select_all):

	Fix warning.

2003-03-27  David Bordoley <bordoley@msu.edu>
	
	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_rename),
	(cmd_delete), (cmd_cut), (cmd_copy), (cmd_paste),
	(cmd_select_all), (keyword_node_key_pressed_cb),
	(keyword_node_show_popup_cb), (ephy_bookmarks_editor_construct):
	Reorganize the menus a bit. Unifiy topic/bookmarks 
	rename/delete items. Add text editting menu items
	to the edit menu. Add a topic context menu. 	

	* src/bookmarks/ephy-node-view.[c-h]: (ephy_node_view_select_all),
	(ephy_node_view_has_focus):
	New functions.

	* src/bookmarks/ephy-topics-selector.c: (set_sort_column_id),
	(topic_clicked), (ephy_topics_build_ui):
	Sort topics case insensitively. Add/remove topics using a single click.

2003-03-26  Patanjali Somayaji <patanjali@codito.com>
	
	Added help support, help manual and scrollkeeper updates

	* configure.in (help/Makefile and help/C/Makefile for AC_OUTPUT())
	* makefile.am (added "help" to SUBDIRS in Makefile.am)
	* omf.make (added)
 	* xmldocs.make (added)
	* omf-install/Makefile.am (added)
	* help/Makefile.am (added)
	* help/C/epiphany.xml (manual xml added)
	* help/C/legal.xml (added)
	* help/C/epiphany-C.omf (omf file added)
	* help/C/Makefile.am (added)
	* help/C/figures/ephy-screenshot.png (added)
	* src/window-commands.c (added handler code to show manual)

2003-03-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-dnd.c:
	* lib/ephy-dnd.h:

	Make ids private

	* lib/widgets/ephy-editable-toolbar.c: (impl_get_action_name),
	(impl_get_action), (drag_data_received_cb), (setup_toolbar),
	(setup_item), (ensure_action), (ephy_editable_toolbar_class_init),
	(update_editor_sheet), (ephy_editable_toolbar_get_action_name),
	(ephy_editable_toolbar_get_action):
	* lib/widgets/ephy-editable-toolbar.h:

	Rework special actions api.

	* lib/widgets/ephy-tree-model-sort.c: (ephy_tree_model_sort_init),
	(ephy_tree_model_sort_set_drag_property),
	(each_url_get_data_binder),
	(ephy_tree_model_sort_multi_drag_data_get):
	* lib/widgets/ephy-tree-model-sort.h:

	Support nodes dnd. Need more work, see FIXME

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_find_keyword):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_enable_drag_source):
	* src/bookmarks/ephy-node-view.h:
	* src/history-dialog.c: (history_dialog_setup_view):
	* src/toolbar.c: (toolbar_get_action_name), (toolbar_get_action),
	(toolbar_class_init):

	Support for topics dnd. The menu is still not implemented
	but the hard part is done. Cant finish it until the weekend :/

2003-03-25  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-import.c: (set_folder):

	Fix compilation with -Werror

2003-03-25  Xan Lopez  <xan@masilla.org>

	* src/ephy-window.c: (ephy_window_selection_received_cb):

	Missing bits from old commit, don't know how the hell I missed this.

2003-03-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* src/bookmarks/ephy-bookmarks-import.c: (set_folder),
	(mozilla_parse_bookmarks), (xbel_parse_folder):

	Fix to use the new api

2003-03-24  Xan Lopez  <xan@masilla.org>

	* TODO:

	Remove some finished bits from the TODO.

2003-03-24  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_sort_func):

	Do insensitive case (and linguistically correct) ordering of strings.

2003-03-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmark-properties.c:

	fix a warning

2003-03-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmark-properties.c: (build_ui):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_construct):
	* src/bookmarks/ephy-topics-selector.c: (fill_model):
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_value):
	* src/bookmarks/ephy-tree-model-node.h:

	Dont put special keywords in the topics list.
	Use ephy-state for size of all bookmarks dialogs.

2003-03-24  David Bordoley <bordoley@msu.edu>

	* data/art/epiphany-bookmark-page.png: (New file):
	* data/art/Makefile.am:
	* lib/ephy-stock-icons.c:
	* lib/ephy-stock-icons.h:
	New epiphany-bookmark-page stock image. I'm not at all attached to this icon,
	if you can make a better one, please do :)

	* data/glade/epiphany.glade:
	Change button ordering to [clear][cancel][jump to].
	
	* embed/find-dialog.c:
	Use GTK_STOCK_FIND for the window border icon.
	
	* embed/print-dialog.c:
	Use GTK_STOCK_PRINT for the window border icon.

	* src/bookmarks/ephy-new-bookmark.c:
	Use EPHY_STOCK_BOOKMARK_PAGE for the window icon.
	s/add bookmark/new bookmark for the window title.

	* src/bookmarks/ephy-bookmark-properties.c: (set_window_icon),
	(update_window_title):
	New functions. Dynamically set the property window title base on the 
	bookmark title. Use the favicon icon if available for the window icon, otherwise use
	GTK_STOCK_PROPERTIES.

	* src/window-commands.c:
	Use GNOME_STOCK_ABOUT for the about window icon.

	* src/prefs-dialog.c:
	USE GTK_STOCK_PREFERENCES for the window icon.

	* src/history-dialog.c:
	Use epiphany-history.png for the window border icon.

	* src/ephy-window.c:
	Use EPHY_STOCK_BOOKMARK_PAGE for the boomark page/link menu items.
	
2003-03-24  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-topics-selector.c: (fill_model):
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_value):

	s/EPHY_NODE_KEYWORD_PROP_ALL_PRIORITY/EPHY_NODE_KEYWORD_PROP_PRIORITY/
	Add a "Most Visited" topic, featuring the 10 most visited bookmarks.
	Now special topics are bold too.

2003-03-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks.c: (update_topics_list),
	(ephy_bookmarks_set_keyword), (ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-topics-selector.c:
	(ephy_topics_selector_set_property):
	* src/window-commands.c: (bookmarks_hide_cb),
	(shell_weak_notify_cb), (window_cmd_go_bookmarks):

	Fix warning opening selector.
	Destroy the editor on exit, ref the shell so you can have just
	the editor open.
	Build the key list and set is as property of the node (should solve
	autocompletion problems).

2003-03-24  David Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* src/bookmarks/ephy-bookmarks-editor.c:
	Add close to the file menu. Add some keybindings.

2003-03-24  David Bordoley <bordoley@msu.edu>
	
	* TODO
	Added another todo for the bme.

2003-03-23  David Bordoley <bordoley@msu.edu>
	
	* TODO
	Added some more todos for the bme.

2003-03-23  James Willcox  <jwillcox@gnome.org>

	* lib/ephy-autocompletion.c:
	(ephy_autocompletion_update_matches_full_item):

	Guard against "item" being NULL.  Fixes a crash when typing in the
	location bar.

2003-03-23  David Bordoley <bordoley@msu.edu>

	* src/bookmarks/ephy-bookmarks-editor.c:
	Use the ephy-bookmarks.png for the window icon.

2003-03-23  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_sort_func):
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_column_type),
	(ephy_tree_model_node_get_value):
	* src/bookmarks/ephy-tree-model-node.h:

	Some ground work on the PRIORITY property, change it from
	bool to int, add more priority types (ALL, SPECIAL, NORMAL),
	and use it in the WEIGTH_TEXT property (just ALL is bold now).

2003-03-23  David Bordoley <bordoley@msu.edu>

	* data/art/Makefile.am:
	* data/art/epiphany-download.png: (new file from jimmac) 
	* embed/downloader-view.c:
	Set and icon for the download window

2003-03-23  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added "pt" to ALL_LINGUAS.

2003-03-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_add_topic),
	(cmd_remove_topic), (cmd_close), (cmd_rename_topic),
	(cmd_rename_bookmark), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_remove_keyword):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (cell_renderer_edited),
	(ephy_node_view_add_column), (ephy_node_view_init),
	(ephy_node_view_edit):
	* src/bookmarks/ephy-node-view.h:

	Complete implementation of the editor functionalities.

	[Still work to do ... I updated the TODO with some of the higher
	priority things. If you want to work on any of them let me
	know ... (to avoid conflicts, I plan to keep working on this
	stuff in the next days).]

2003-03-23  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_button_press_cb):

	Fix right click selection logic.

2003-03-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (get_target_window),
	(cmd_open_bookmarks_in_tabs), (cmd_open_bookmarks_in_browser),
	(ephy_bookmarks_editor_finalize),
	(ephy_bookmarks_editor_node_activated_cb), (delete_event_cb),
	(ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_set_parent), (ephy_bookmarks_editor_new):
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/window-commands.c: (window_cmd_go_bookmarks):

	Never destroy but hide the bme.
	Present the window on activate.
	Allow to put the editor in the background.
	Smarter way to choose the window where to load the bookmark.

2003-03-22  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* src/bookmarks/ephy-bookmark-properties.c: (update_entry),
	(title_entry_changed_cb), (location_entry_changed_cb), (build_ui):
	* src/bookmarks/ephy-bookmarks-editor.c: (cmd_add_topic),
	(cmd_remove_topic), (cmd_rename_bookmark),
	(cmd_open_bookmarks_in_tabs), (cmd_open_bookmarks_in_browser),
	(cmd_remove_bookmarks), (cmd_bookmark_properties), (add_widget),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (bookmarks_removed_cb),
	(ephy_bookmarks_has_keyword), (ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	* src/bookmarks/ephy-topics-selector.c: (fill_model),
	(topic_toggled), (ephy_topics_selector_new):
	* src/bookmarks/ephy-topics-selector.h:

	Some more bookmarks work ...

2003-03-22  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-bookmark-editor-ui.xml.in:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_get_type),
	(ephy_bookmark_properties_class_init),
	(ephy_bookmark_properties_finalize),
	(ephy_bookmark_properties_set_bookmark),
	(ephy_bookmark_properties_set_property),
	(ephy_bookmark_properties_get_property),
	(bookmark_properties_response_cb), (build_ui),
	(ephy_bookmark_properties_init), (ephy_bookmark_properties_new):
	* src/bookmarks/ephy-bookmark-properties.h:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(popup_cmd_bookmark_properties), (ephy_bookmarks_editor_get_type),
	(keyword_node_selected_cb), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-bookmarks-import.c: (mozilla_parse_bookmarks),
	(xbel_parse_single_bookmark), (xbel_parse_folder):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_add),
	(ephy_bookmarks_set_keyword), (ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_add),
	(build_editing_table), (ephy_new_bookmark_construct):
	* src/bookmarks/ephy-topics-selector.c:
	(ephy_topics_selector_get_type), (ephy_topics_selector_class_init),
	(ephy_topics_selector_finalize),
	(ephy_topics_selector_set_bookmark),
	(ephy_topics_selector_set_property),
	(ephy_topics_selector_get_property), (fill_model), (topic_toggled),
	(ephy_topics_selector_apply), (ephy_topics_build_ui),
	(ephy_topics_selector_init), (ephy_topics_selector_new):
	* src/bookmarks/ephy-topics-selector.h:

	Begin bookmarks editor redesign. Please still dont use it or you really
	want backup your bookmarks ;)

2003-03-22  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (update_favicon_control):

	Cleanup: get active tab using the function

2003-03-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-dialog.c: (setup_default_size):
	* lib/ephy-state.c: (ephy_states_load), (ephy_states_save),
	(find_by_name), (ensure_states), (ephy_state_window_set_size),
	(ephy_state_window_save_size), (window_configure_event_cb),
	(window_state_event_cb), (ephy_state_add_window),
	(ephy_state_save):
	* lib/ephy-state.h:
	* lib/ephy-types.h:
	* src/ephy-shell.c: (ephy_shell_finalize):
	* src/ephy-window.c: (setup_window), (ephy_window_init),
	(ephy_window_show):
	* src/prefs-dialog.c: (prefs_dialog_init):

	Reimplement ephystate using xml and make it easier to use.
	-> remove some duplicate code

2003-03-18  Xan Lopez  <xan@masilla.org>

	* src/ephy-window.c: (ephy_window_selection_received_cb):

	URL pasting should not open new tab if current tab is blank,
	fixes #108103, patch by Alisdair McDiarmid <gnome@wasters.org>

2003-03-17  Jon Svendsen  <jon-sven@frisurf.no>

	* lib/ephy-state.c: (ephy_state_save_window):

	Properly save maximized/unmaximized state.

2003-03-17  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:

	respect aclocal flags. This was easy damnit, if I think
	how many times I had to rerun autogen ...

2003-03-17  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl (Polish).

2003-03-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-utils.c: (ephy_embed_utils_save):
	* embed/mozilla/mozilla-embed-single.cpp:
	* src/pdm-dialog.c: (group_button_allocations), (pdm_dialog_init):
	* src/window-commands.c: (window_cmd_file_open):

	Cleanup filepicker api behavior.
	Put pdm buttons in a size group, to make switching page smoother.
	(from galeon)

2003-03-15  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-node-view.c
	(ephy_node_view_set_hinted):

	Fix warning.

2003-03-15  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):

	Put the bookmark view in hinted mode.

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_button_press_cb),
	(ephy_node_view_enable_drag_source), (ephy_node_view_set_hinted):
	* src/bookmarks/ephy-node-view.h:

	Fix multiple selection actions in the Bookmark Editor.

2003-03-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-persist.c: (ephy_embed_persist_init),
	(ephy_embed_persist_finalize):
	* embed/mozilla/ProgressListener.cpp:
	* embed/mozilla/mozilla-embed-persist.cpp:
	* embed/mozilla/mozilla-embed-persist.h:

	Keep a ref on EmbedPersist while save is in progress.

2003-03-15  Christian Persch <christian@hpersch.de>

	* embed/ephy-embed-utils.c: (ephy_embed_utils_save):
	* src/popup-commands.c: (save_property_url):

	Fix leak and a double free

2003-03-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/Makefile.am:
	* data/glade/prompts.glade:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/PromptService.cpp:
	* embed/mozilla/PromptService.h:

	Remove our custom prompt implementation.
	Gtkmozembed provides and HIG compliant one now.

2003-03-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/mozilla-embed.cpp:

	Reload embed when changing charset

	* embed/print-dialog.c: (print_get_info):

	Correct colors flag

2003-03-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/mozilla-embed.cpp:
	* embed/print-dialog.c: (print_get_info):

2003-03-14  Xan Lopez  <xan@masilla.org>

	* src/ephy-main.c: (main):

	Add Application Name (Epiphany Web Browser)

2003-03-14  Andrew Sobala  <aes@gnome.org>

	* embed/mozilla/ProgressListener.cpp:

	revert to revision 1.2 to fix crash, per Marco's advice. Fixes: 108198.

2003-03-13  Iain <iain@prettypeople.org>

	* lib/widgets/ephy-spinner.c (ephy_spinner_expose): Use gdk_draw_pixbuf
	instead of gdk_pixbuf_render_to_drawable_alpha

2003-03-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/ProgressListener.cpp:

	weak ref the dialog (from galeon)

2003-03-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/prefs-dialog.glade:

	Fix conflicting mnemonics. Partially from galeon.

2003-03-09  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-keywords-entry.c: (try_to_expand_keyword):

	Pass -1 instead of strlen to automatic calculation of length (this
	seems to be undocumented, but it's done in the code)

2003-03-09  Dan Damian  <dandamian@gmx.net>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_init_widgets):

	Use default widget color for smart bookmarks background. Fixes
	#107902.

	* lib/ephy-gui.h:
	* lib/ephy-gui.c (shift_color_component),
	(ephy_gui_rgb_shift_color), (rgb16_to_rgb),
	(ephy_gui_gdk_color_to_rgb), (ephy_gui_rgb_to_color):

	Removed unused functions.

2003-03-09  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-keywords-entry.c: (try_to_expand_keyword):

	Properly autocomplete when topics have national characters, fix
	#107685

2003-03-09  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (build_editing_table),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):

	s/Keywords/Topics/. Don't ask please.

2003-03-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_expose),
	(bump_spinner_frame), (ephy_spinner_class_init):

	Code cleanup from galeon

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):

	s/Title/Bookmark, should be more clear

2003-03-08  Dan Damian  <dandamian@gmx.net>

	* lib/ephy-debug.h: (LOG) Added a space before comma. Fixes a
	compilation problem under gcc 2.95 with logging enabled.

2003-03-08  Iain <iain@prettypeople.org>

	* lib/widgets/ephy-editable-toolbar.c: Make the context menu strings
	move descriptive.

2003-03-07  James Willcox  <jwillcox@gnome.org>

	* lib/widgets/ephy-editable-toolbar.c:
	(toolbar_drag_data_delete_cb), (toolbar_drag_data_get_cb),
	(connect_toolbar_drag_source), (disconnect_toolbar_drag_source),
	(do_merge), (editor_close), (button_press_cb),
	(ephy_editable_toolbar_edit):

	Enable using dnd for removing toolbars.  Also, fix #107793.

2003-03-07  David Bordoley <bordoley@msu.edu>

	* lib/ephy-stock-icons.h:
	* lib/ephy-stock-icons.c:
	* data/art/Makefile.am:
	* data/art/epiphany-entry.png: (new file)
	* src/toolbar.c:
	Add a stock icon for entry box so that it has an icon in the tbe.

2003-03-07  Dan Damian  <dandamian@gmx.net>

	* lib/ephy-debug.h: (LOG) use named variable arguments for
	compatibility with older gcc (2.95).

2003-03-07  David Bordoley <bordoley@msu.edu>

	* src/ephy-go-action.c: (new file)
	* src/ephy-go-action.h: (new file)
	* src/Makefile.am:
	* src/ephy-window.c:
	* src/toolbar.c:
	* data/ui/epiphany-toolbar.xml.in:
	* po/POTFILES.in:
	New toolbar action so that the "Go" button is always text only.
	Removed the old toolbar "Go" button.

2003-03-06  James Willcox  <jwillcox@gnome.org>

	* lib/egg/eggtoolbar.c: (egg_toolbar_size_allocate): Fix the padding.

2003-03-06  James Willcox  <jwillcox@gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* lib/egg/eggtoolbar.c:  Update from libegg
	* lib/egg/eggtoolbar.h:  same
	* lib/widgets/ephy-editable-toolbar.c:
	(ephy_editable_toolbar_remove_cb), (ephy_editable_toolbar_edit_cb),
	(popup_toolbar_context_menu), (setup_toolbar), (do_merge):

	Implement a context menu for toolbars.

2003-03-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/mozilla/mozilla-notifiers.cpp:

	Better user agent string (from galeon)

2003-03-06  James Willcox  <jwillcox@gnome.org>

	* data/glade/prefs-dialog.glade:  Remove the spinner prefs UI.

2003-03-06  Xan Lopez  <xan@masilla.org>

	* data/Makefile.am:
	* data/conspiracy.xhtml:
	* data/epiphany.xhtml:
	* embed/mozilla/EphyAboutRedirector.cpp:
	* embed/mozilla/EphyAboutRedirector.h:
	* embed/mozilla/MozRegisterComponents.cpp:

	about:epiphany, about:conspiracy (built-in until it's online
	or we convince marco that it rocks). Please, suggest changes
	to any of these if you don't like them.

2003-03-06 Edd Dumbill <edd@usefulinc.com>

	* data/Makefile.am:

	Fix EXTRA_DIST

2003-03-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(popup_cmd_open_bookmarks_in_browser),
	(ephy_bookmarks_editor_node_selected_cb),
	(ephy_bookmarks_editor_show_popup_cb),
	(ephy_bookmarks_editor_key_pressed_cb), (update_prop_from_entry),
	(ephy_bookmarks_editor_construct):

	Try to handle better editing/multiple selection

2003-03-05  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Russian to ALL_LINGUAS.

2003-03-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/mozilla/EphyAboutRedirector.cpp:
	* embed/mozilla/EphyAboutRedirector.h:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/MozillaPrivate.cpp:
	* lib/egg/egg-action-group.c:
	* src/ephy-encoding-menu.c: (build_group), (build_charset):

	Translate menus

	* src/ephy-automation.c: (impl_ephy_automation_loadurl):
	* src/ephy-shell.c: (ephy_shell_new_tab):
	* src/ephy-window.c:

	Make -f work

2003-03-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozRegisterComponents.cpp:
	* src/Makefile.am:

	about:options and about:epiphany

	* src/ephy-shell.c: (ephy_init_services):
	
	monitor proxy changes

	* src/prefs-dialog.c: (create_page), (prefs_dialog_get_page):
	* src/ui-prefs.c:
	* src/ui-prefs.h:
	* lib/widgets/ephy-spinner.c: (ephy_spinner_get_theme_info),
	(ephy_spinner_init_directory_list), (ephy_spinner_info_free),
	(ephy_spinner_get_theme_path):
	* lib/widgets/ephy-spinner.h:

	Remove spinner configuration, this should be part of the icon theme
	at some point.

2003-03-01  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_key_pressed_cb),
	(ephy_bookmarks_editor_construct):

	Remove bookmarks with delete key, fix #105990

2003-02-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-embed-dialog.c: (unset_embed),
	(ephy_embed_dialog_finalize), (ephy_embed_dialog_set_embed):
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_destroy_brsr_cb):

	Fix embed dialog to pass a good EphyEmbed when the initial one
	has been destroyed

2003-02-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/Makefile.am:
	* data/glade/toolbar-editor.glade:

	Remove old toolbar editor ui

	* lib/ephy-autocompletion.c: (ephy_autocompletion_update_matches):

	Remove an obsolete FIXME

	* lib/ephy-gui.c:
	* lib/ephy-gui.h:

	Remove some functions that was used only in galeon bookmarks

	* lib/widgets/ephy-autocompletion-window.c:
	(hack_tree_view_move_selection),
	(ephy_autocompletion_window_key_press_hack):
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_autocompletion_window_url_selected_cb):

	Up on the top border of the autocompl window goes back to the entry

	* src/appearance-prefs.c: (setup_font_menu):

	Free fonts list

	* src/ephy-tab.c: (ephy_tab_parent_set_cb),
	(ephy_tab_set_visibility):
	* src/window-commands.c: (window_cmd_tabs_move_left),
	(window_cmd_tabs_move_right):

	Implement tabs moving

2003-02-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-node-view.c: (ephy_node_view_sort_func):

	fix compilation

2003-02-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-start-here.c: (ephy_start_here_get_page):

	cleaner xml dump code.

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_key_press_hack):
	* lib/widgets/ephy-location-entry.c: (ephy_location_entry_init),
	(ephy_location_entry_finalize_impl),
	(ephy_location_entry_autocompletion_show_alternatives_to),
	(ephy_location_entry_key_press_event_cb),
	(ephy_location_entry_autocompletion_window_url_selected_cb):

	Do not overwrite search text when going on an action,
	make Esc get back the location content before the completion.

2003-02-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (editor_close),
	(editor_add_toolbar), (dialog_response_cb), (setup_editor):

	Fix toolbar removal.

	* lib/widgets/ephy-toolbars-group.c:
	(ephy_toolbars_group_to_string), (ephy_toolbars_group_remove_item):
	
	Use a real GtkDialog for the editor, nicer code and good window placement.
	Just hope we dont have to change this again :/

2003-02-26  Xan Lopez  <xan@masilla.org>

	* src/ephy-window.c:

	Fix #107128

2003-02-26  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_sort_func),
	(set_sort_column_id), (ephy_node_view_add_column):
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_column_type),
	(ephy_tree_model_node_get_value),
	(ephy_tree_model_node_column_get_type):
	* src/bookmarks/ephy-tree-model-node.h:

	Default (alphabetical) sort of keywords and bookmarks in the BE, with
	"All" remaining always on top. Disabled user-sort option of the
	columns, it's a bit silly now.

2003-02-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-toolbars-group.c:
	(ephy_toolbars_group_remove_item):

	Remove also the toolbar when removing the last item

2003-02-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (ui_update),
	(ephy_editable_toolbar_init), (editor_add_toolbar_cb),
	(editor_drag_data_received_cb), (editor_drag_data_delete_cb),
	(setup_editor), (update_editor_sheet),
	(ephy_editable_toolbar_edit):
	* lib/widgets/ephy-editable-toolbar.h:
	* src/window-commands.c: (window_cmd_edit_toolbar):

	Make tbe a normal dialog for now.

2003-02-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/appearance-prefs.c: (setup_font_menu):

	Remove an hack used to work around a fixed combo problem

	* src/ephy-shell.c: (ephy_shell_command_cb):

	Use info dialog for mozilla bookmarks imported, not error.

2003-02-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-autocompletion.c: (ephy_autocompletion_init),
	(ephy_autocompletion_reset), (ephy_autocompletion_set_key),
	(ephy_autocompletion_update_matches):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_key_press_event_cb),
	(ephy_location_entry_autocompletion_sources_changed_cb):

	Remove Tab autocompletion. Behavior still not optimal,
	but that code is such a pain :(

2003-02-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (drag_data_delete_cb),
	(drag_data_get_cb), (do_merge), (editor_close_cb),
	(button_press_cb), (ephy_editable_toolbar_edit):
	* src/ephy-window.c: (add_widget):

	Revert unwanted checkin

2003-02-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_class_init),
	(ephy_autocompletion_window_key_press_hack):
	* lib/widgets/ephy-autocompletion-window.h:
	* lib/widgets/ephy-editable-toolbar.c: (drag_data_delete_cb),
	(drag_data_get_cb), (connect_toolbar_drag_source),
	(disconnect_toolbar_drag_source), (do_merge), (editor_close_cb),
	(button_press_cb), (ephy_editable_toolbar_edit):
	* lib/widgets/ephy-location-entry.c: (location_focus_out_cb),
	(ephy_location_entry_init), (real_entry_set_location),
	(ephy_location_entry_key_press_event_cb),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_set_location),
	(ephy_location_entry_autocompletion_window_url_selected_cb),
	(ephy_location_entry_set_autocompletion),
	(ephy_location_entry_autocompletion_window_url_activated_cb),
	(ephy_location_entry_autocompletion_window_hidden_cb),
	(ephy_location_entry_edit):
	* lib/widgets/ephy-location-entry.h:
	* src/ephy-shell.c: (ephy_shell_new_tab):
	* src/ephy-window.c: (add_widget):
	* src/toolbar.c: (toolbar_edit_location):
	* src/toolbar.h:

	Update location entry with the urls selected on the drop down.
	Implement editing mode in location entry == when the user is typing
	an url try to do not disturb (mozilla still grab the focus damnit).
	Dont put the homepage url in the location. I'm not sure if this is
	a good behavior for normal urls (I dont see problems, but please
	prove me wrong), but for about:blank it's needed.

2003-02-22  James Willcox  <jwillcox@gnome.org>

	* embed/mozilla/GlobalHistory.cpp:

	Adapt to API change in CVS mozilla.

2003-02-22  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Catalan (ca) to ALL_LINGUAS

2003-02-21  James Willcox  <jwillcox@gnome.org>

	* data/starthere/Makefile.am:

	Remove the css file from the build.

2003-02-21  James Willcox  <jwillcox@gnome.org>

	* data/starthere/section.xsl:
	* lib/ephy-start-here.c: (color_to_string), (build_content):

	Make the start-here: page use the theme colors.

2003-02-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c:
	(ephy_editable_toolbar_set_group):
	
	Use connect_object so the changed signal is removed
	from closed window.

2003-02-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/toolbar.c: (get_bookmark_action), (toolbar_get_action):

	Dont create duped actions, fix crash on exit

2003-02-21  Takayuki KUSANO  <AE5T-KSN@asahi-net.or.jp>

	* configure.in: added ja.po to ALL_LINGUAS

2003-02-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/egg-action.c: (egg_action_remove_proxy):
	* lib/widgets/ephy-editable-toolbar.c: (get_item_widget),
	(connect_item_drag_source), (disconnect_item_drag_source),
	(setup_toolbar), (setup_item), (ensure_toolbar_min_size):
	* lib/widgets/ephy-toolbars-group.c: (toolbars_toolbar_new),
	(toolbars_item_new), (free_toolbar_node), (free_item_node),
	(ephy_toolbars_group_to_string), (ephy_toolbars_group_get_path):
	* lib/widgets/ephy-toolbars-group.h:

	Fix crashes with multiple windows open

2003-02-21 Pekka Lampila <medar@kapina.org>

	* lib/widgets/ephy-toolbars-group.c: (load_defaults),
	(load_toolbar):

	Free xml documents

2003-02-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (find_action),
	(impl_get_action), (ui_update), (queue_ui_update),
	(drag_data_received_cb), (drag_data_delete_cb), (drag_data_get_cb),
	(connect_item_drag_source), (disconnect_item_drag_source),
	(setup_toolbar), (setup_item), (ensure_toolbar_min_size),
	(do_merge), (ensure_action), (group_changed_cb),
	(ephy_editable_toolbar_set_group),
	(ephy_editable_toolbar_set_merge), (hide_editor),
	(editor_close_cb), (editor_add_toolbar_cb),
	(editor_drag_data_received_cb), (editor_drag_data_delete_cb),
	(setup_editor), (add_to_list), (update_editor_sheet),
	(update_editor_position), (button_press_cb), (show_editor),
	(set_action_sensitive), (ephy_editable_toolbar_edit):
	* lib/widgets/ephy-toolbars-group.c: (ephy_toolbars_group_to_xml),
	(toolbars_group_save), (toolbars_item_new), (free_toolbar_node),
	(free_item_node), (ephy_toolbars_group_add_item),
	(ephy_toolbars_group_add_toolbar), (load_defaults), (load_toolbar),
	(ephy_toolbars_group_to_string),
	(ephy_toolbars_group_remove_toolbar),
	(ephy_toolbars_group_remove_item),
	(ephy_toolbars_group_set_source), (is_item_in_toolbars),
	(ephy_toolbars_group_foreach_available),
	(ephy_toolbars_group_foreach_toolbar),
	(ephy_toolbars_group_foreach_item), (ephy_toolbars_group_get_path):
	* src/toolbar.c: (toolbar_get_action):

	Add lots of debug code to solve these damned crashes.
	Dont create multiple actions for the same bookmark.
	There are two crashes that I can repro now. 1 Adding bookmarks
	with more then one toolbar opened, and then open tbe.
	2 Add multiple "links" to the same bookmark and then close.
	But I'm sure xan can find more ;)

2003-02-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(hack_tree_view_move_selection):

	Fix another warning

2003-02-20  Christophe Fergeau  <teuf@users.sourceforge.net>

	* configure.in: added fr.po to ALL_LINGUAS

2003-02-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (do_merge), (ensure_action),
	(group_changed_cb):

	Update actions also on other windows

2003-02-20  Xan Lopez  <xan@masilla.org>

	* data/glade/epiphany.glade:
	* src/history-dialog.c: (history_view_selection_changed_cb),
	(history_view_row_activated_cb), (history_dialog_setup_view),
	(history_dialog_set_embedded),
	(history_time_optionmenu_changed_cb),
	(history_go_button_clicked_cb):

	All hail the mighty "Go to" button.

2003-02-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (drag_data_received_cb):
	* src/toolbar.c: (toolbar_get_action):

	Dont crash when dragging a new bookmark on the toolbar and
	then click cancel.

2003-02-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-toolbars-group.c:
	(ephy_toolbars_group_to_string),
	(ephy_toolbars_group_remove_toolbar),
	(ephy_toolbars_group_remove_item), (ephy_toolbars_group_get_path):

	Fix this crazy bug with toolbar buttons doing two actions after
	having edited them.
	Save toolbar editor also after removing items.

2003-02-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_list_event_after_cb),
	(ephy_location_entry_editable_changed_cb):

	Activate the url when clicking on it from the combo dropdown.
	Based on galeon patch.

2003-02-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Makefile.am:

	add a COPYING.README for GPL

2003-02-19  James Willcox  <jwillcox@gnome.org>

	* COPYING:  Added a note about data/art/loading.gif

2003-02-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_init_widgets),
	(hack_tree_view_move_selection):

	Avoid warnings when there is no match

2003-02-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/ephy-tab.c: (ephy_tab_show_embed_popup):
	* src/ephy-window.c:
	* src/popup-commands.c:
	* src/window-commands.c:

	Dont have a separate context menu for copy, just
	put it inside the document one

2003-02-19  Dave Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-bookmark-editor-ui.xml.in
	* src/bookmarks/ephy-bookmarks-editor.c
	Fix up the context menu to be more like other ephy
	context menus, added mneumonics.

2003-02-18  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" (traditional Chinese) to ALL_LINGUAS.

2003-02-16  Dave Bordoley <bordoley@msu.edu>

	* src/ephy-window.c
	Fix mneumonic collision between back and bookmarks.

2003-02-16  Dave Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-toolbar.xml.in
	* data/ui/epiphany-ui.xml.in
	* src/ephy-window.c
	* src/popup-commands.c
	* src/popup-commands.h
	* src/window-commands.c
	* src/window-commands.h
	s/browser/window as per conversation with seth...

2003-02-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/EventContext.cpp:
	
	fix casting on big-endian, from galeon.

2003-02-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/ephy-tab.c: (ephy_tab_show_embed_popup):

	Implement a selected text context menu.

2003-02-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/find-dialog.c: (find_get_info), (impl_show),
	(find_dialog_go_prev):

	Port some galeon fixes

2003-02-15  Dave Bordoley <bordoley@msu.edu>

	* src/ephy-window.c:
	* src/window-commands.c:
	* src/window-commands.h:
	* data/ui/epiphany-ui.xml.in:

	Added Help->Contents
	Move reload and stop to bottom of view menu
	Fix mneumonic collision in the go menu

2003-02-14  James Willcox  <jwillcox@gnome.org>

	* data/art/Makefile.am:
	* data/ui/Makefile.am:
	* lib/widgets/ephy-notebook.c: (ephy_notebook_init),
	(ephy_notebook_set_page_status), (tab_build_label):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(popup_cmd_open_bookmarks_in_tabs),
	(popup_cmd_open_bookmarks_in_browser),
	(popup_cmd_remove_bookmarks), (ephy_bookmarks_editor_finalize),
	(ephy_bookmarks_editor_show_popup_cb),
	(ephy_bookmarks_editor_construct):

	Add tab load notification (a little spinning icon), and a context
	menu for the bookmarks editor.

2003-02-14  Dave Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-toolbar.xml.in
	s/FileAddBookmark/FileBookmarkPage so that
	the toolbar editor doesn't crash.

2003-02-13  Dave Bordoley <bordoley@msu.edu>

	* data/ui/epiphany-ui.xml.in
	Added some separators.
	Changed "bookmark" verbs and menu names to reflect changes
	in src/ephy-window.c	

	* src/ephy-window.c
	Added a bunch of mneumonics to context menu entries
	s/Add Bookmark.../Bookmark Page... for pages.
	s/Add Bookmark.../Bookmark Link... for links.
	Changed callbacks in  ephy_menu_entries[] and ephy_popups_entries
	to reflect changes in src/window-commands.(ch) and src/pop-commands.(ch).

	* src/popup-commands.c
	* src/popup-commands.h
	s/popup_cmd_link_in_new_window/popup_cmd_link_in_new_browser
	s/popup_cmd_image_in_new_window/popup_cmd_image_in_new_browser
	s/popup_cmd_add_link_bookmark/void popup_cmd_bookmark_link
	s/void popup_cmd_frame_in_new_window/void popup_cmd_frame_in_new_browser

	* src/window-commands.c
	* src/window-commands.h
	s/window_cmd_file_new_window/window_cmd_file_new_browser
	s/window_cmd_file_add_bookmark/window_cmd_file_bookmark_page

	* lib/ephy-stock-icons.h
	Fixed #endif comment s/RB/EPHY

2003-02-13  Lee Willis  <lwillis@plus.net>

	* src/session.c: Fix session saving

2003-02-13  Dave Bordoley <bordoley@msu.edu>

	* src/ephy-window.c
	Remove ctrl+f keybinding for the pdm. Fixes bug 105939.

2003-02-13  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb),
	(keyword_node_selected_cb), (ephy_bookmarks_editor_construct):

	Make "Go to" button insensitive when no bookmark is selected.

2003-02-12  James Willcox  <jwillcox@gnome.org>

	* src/bookmarks/ephy-bookmark-action.c: (entry_activated_cb):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_solve_smart_url):

	Fix a heap corruption bug that was causing bad stuff when smart
	bookmarks were used from the toolbar.  Fixes #105180

2003-02-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-ellipsizing-label.c: (ellipsize_string):
	* lib/widgets/ephy-toolbars-group.c:
	(ephy_toolbars_group_to_string):

	Use g_string_free in the correct way

2003-02-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_dispose),
	(ephy_bookmarks_editor_node_selected_cb),
	(ephy_bookmarks_editor_go_to_location),
	(ephy_bookmarks_editor_construct):

	Fix default size, remove some unnecessary spaces

2003-02-12  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb),
	(ephy_bookmarks_editor_go_to_location),
	(ephy_bookmarks_editor_response_cb),
	(ephy_bookmarks_editor_construct):

	Add "Go to" button to the BE.

2003-02-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/nautilus-epiphany-view.xml.in:

	Fix capitalization

2003-02-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-editable-toolbar.c:
	(ephy_editable_toolbar_get_type), (drag_data_received_cb),
	(drag_data_delete_cb), (connect_item_drag_source),
	(disconnect_item_drag_source), (setup_toolbar), (setup_item),
	(ensure_toolbar_min_size), (do_merge), (group_changed_cb),
	(ensure_action), (ephy_editable_toolbar_set_group),
	(ephy_editable_toolbar_set_merge),
	(ephy_editable_toolbar_set_property),
	(ephy_editable_toolbar_get_property),
	(ephy_editable_toolbar_class_init), (ephy_editable_toolbar_init),
	(ephy_editable_toolbar_finalize), (editor_close_cb),
	(editor_add_toolbar_cb), (add_to_list), (update_editor_sheet),
	(update_editor_position), (set_action_sensitive),
	(ephy_editable_toolbar_edit):
	* lib/widgets/ephy-toolbars-group.c: (toolbars_group_save),
	(add_action), (ephy_toolbars_group_add_item), (parse_item_list),
	(ephy_toolbars_group_add_toolbar), (load_defaults), (load_toolbar),
	(ephy_toolbars_group_to_string), (ephy_toolbars_group_class_init),
	(ephy_toolbars_group_init), (ephy_toolbars_group_finalize),
	(ephy_toolbars_group_remove_toolbar),
	(ephy_toolbars_group_remove_item),
	(ephy_toolbars_group_set_source), (is_item_in_toolbars),
	(ephy_toolbars_group_foreach_available),
	(ephy_toolbars_group_foreach_toolbar),
	(ephy_toolbars_group_foreach_item), (ephy_toolbars_group_get_path):
	* lib/widgets/ephy-toolbars-group.h:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (add_to_favorites),
	(history_site_visited_cb), (bookmarks_changed_cb),
	(bookmarks_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_bookmark_id),
	(ephy_bookmarks_set_icon):
	* src/ephy-window.c:
	* src/toolbar.c: (toolbar_get_action), (toolbar_init):

	Make EditToolbar use the new data stuff, still need love.
	Fix bookmarks to never use location as an id, because now
	it's editable.

2003-02-10  James Willcox  <jwillcox@gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_dispose):

	Make the bookmarks editor properly select the "All" keyword if
	it was the last keyword selected.

2003-02-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-toolbars-group.c:
	(ephy_toolbars_group_get_type), (ephy_toolbars_group_to_xml),
	(toolbars_group_save), (toolbars_toolbar_new), (toolbars_item_new),
	(free_toolbar_node), (free_item_node), (add_action),
	(ephy_toolbars_group_add_item), (parse_item_list), (add_toolbar),
	(ephy_toolbars_group_add_toolbar), (parse_toolbars),
	(load_defaults), (load_toolbar), (ephy_toolbars_group_to_string),
	(ephy_toolbars_group_class_init), (ephy_toolbars_group_init),
	(ephy_toolbars_group_finalize), (ephy_toolbars_group_new),
	(ephy_toolbars_group_set_source),
	(ephy_toolbars_group_foreach_available),
	(ephy_toolbars_group_foreach_toolbar),
	(ephy_toolbars_group_foreach_item):
	* lib/widgets/ephy-toolbars-group.h:

	Split data out of EditableToolbar, still unused

2003-02-10  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" (Turkish) to the languages' list.

2003-02-09  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	* src/bookmarks/ephy-tree-model-node.c
	* src/bookmarks/ephy-tree-model-node.h

	Remove Location field from BE bookmarks view, add a location
	entry instead.

2003-02-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init),
	(gnv_bonobo_control_activate_cb):

	Fix context menus

2003-02-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/ephy-window.c:
	* src/window-commands.c: (window_cmd_file_close_browser):
	* src/window-commands.h:

	Have just one Close menu item and make it behave like
	other gnome apps.

2003-02-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* acconfig.h:
	* configure.in:
	* data/GNOME_Epiphany_NautilusView.server.in:
	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init):
	* src/ephy-shell.c:

	Make nautilus view actually work

2003-02-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_autocompletion_sources_changed_cb):

	Some more gtk_timeout_add.

2003-02-08  Christian Meyer  <chrisime@gnome.org>

	* lib/egg/egg-accel-dialog.c:
	* lib/egg/egg-action.c:
	* lib/egg/egg-menu-merge.c:
	* lib/egg/egg-radio-action.c:
	* lib/egg/egg-toggle-action.c:
	* lib/egg/eggtoolbar.c:
	* lib/egg/eggtoolbutton.c:
	* lib/egg/eggtoolitem.c:
	* lib/widgets/ephy-ellipsizing-label.h:
	* lib/widgets/ephy-spinner.h:
	* src/ephy-favicon-action.c:
	* src/ephy-location-action.c:
	* src/ephy-navigation-action.c:
	* src/ephy-spinner-action.c:
	* src/bookmarks/ephy-bookmark-action.c:

	The same no-brainer as in nautilus. Changed GtkType to Gtype.

2003-02-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_key_press_event_cb):
	* lib/widgets/ephy-spinner.c: (ephy_spinner_start),
	(ephy_spinner_remove_update_callback):

	Remove gtk_timeout_x calls. Hope I got all of them.

2003-02-08  Xan Lopez  <xan@masilla.org>

	* src/ephy-shell.c:

	Error handling in Mozilla bookmarks import.

2003-02-08  Xan Lopez  <xan@masilla.org>

	* embed/mozilla/StartHereProtocolHandler.cpp:

	Fix mozilla bookmarks import (no, really).

2003-02-08  Christian Neumair  <chris@gnome-de.org>

	* data/starthere/index.xml.in: Don't mark the bookmarks-import
	paragraph for translation as it just contains a tag.

2003-02-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/starthere/index.xml.in:

	Fix some i18n problems

	* src/ephy-spinner-action.c: (item_parent_set_cb), (connect_proxy):

	Use connect object to avoid signals on dead widgets.

2003-02-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-toolbar.xml.in:
	* lib/widgets/ephy-editable-toolbar.c: (add_action):
	* src/ephy-window.c:
	* src/window-commands.c: (window_cmd_load_location):
	* src/window-commands.h:

	Add a go button to the toolbar editor. The icon is duped
	with default favicon. Would be nice to find something better
	for one of them (I'm not sure if the concept of jump to is good
	for favicon actually).

	Rename FileNewWindow to FileNewBrowser also in toolbar configuration
	file.

2003-02-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/eggtoolbar.c: (egg_toolbar_init):
	* src/session.c: (crashed_resume_dialog):

	Better toolbar appeareance. More clear
	buttons labels on resume dialog.

2003-02-07  James Willcox  <jwillcox@gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_dispose):

	Make the bookmarks editor not crash-on-close if no keyword is selected.

2003-02-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/egg/eggtoolbar.c: (egg_toolbar_init):
	* lib/widgets/ephy-spinner.c: (ephy_spinner_expose),
	(ephy_spinner_size_request):

	Spinner dont overlap toolbar shadow

2003-02-06  David Bordoley <bordoley@msu.edu>

	* src/ephy-window.c:
	* data/ui/epiphany-ui.xml:
	s/window/browser. Fixed some tooltips. 
	Change keybindings for close window to ctrl+w,
	and close tab to shift+ctrl+w (although i'm open
	to considering other alternatives).	

2003-02-07  Xan Lopez  <xan@masilla.org>

	* lib/widgets/ephy-spinner.c:
	* src/ephy-encoding-menu.c:

	Fix two memleaks (I hope).

2003-02-06  James Willcox  <jwillcox@gnome.org>

	* data/epiphany.schemas.in:
	* lib/ephy-prefs.h:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_class_init),
	(ephy_bookmarks_editor_dispose), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_select_node):
	* src/ephy-main.c: (ephy_main_start):

	Make the bookmarks editor remember the last selected keyword, and
	make startup-notification not hang when using the existing instance.

2003-02-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_expose),
	(ephy_spinner_class_init):
	* src/ephy-spinner-action.c: (create_tool_item),
	(toolbar_style_sync), (item_parent_set_cb), (connect_proxy):

	Do not use a button for spinner.
	Correctly update spinner size for toolbar style.

2003-02-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_clear_history):
	* lib/widgets/ephy-location-entry.h:
	* src/history-dialog.c: (history_clear_button_clicked_cb):
	* src/toolbar.c: (toolbar_clear_location_history):
	* src/toolbar.h:

	Clear also location history when clearing history.
	Doesnt update immediately, gtk/gnome bug, will submit
	patches.

2003-02-05  James Willcox  <jwillcox@gnome.org>

	* src/bookmarks/ephy-bookmarks-import.c: (xbel_parse_folder),
	(xbel_parse_bookmarks):

	Make importing actually work properly. *cough*

2003-02-05  James Willcox  <jwillcox@gnome.org>

	* data/starthere/section.xsl:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* lib/ephy-start-here.c: (galeon_bookmarks), (attach_content):
	* src/bookmarks/ephy-bookmarks-import.c:
	(xbel_parse_single_bookmark), (xbel_parse_folder),
	(xbel_parse_bookmarks), (ephy_bookmarks_import_mozilla),
	(ephy_bookmarks_import_xbel):
	* src/bookmarks/ephy-bookmarks-import.h:
	* src/ephy-shell.c: (ephy_shell_command_cb):

	Added the ability to import galeon and konqueror bookmarks.

2003-02-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/PromptService.cpp:

	Fix #105184

2003-02-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/Makefile.am:
	* embed/ephy-embed-event.h:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_init),
	(ephy_embed_shell_finalize), (ephy_embed_shell_new),
	(ephy_embed_shell_get_embed_single), (impl_get_downloader_view):
	* embed/ephy-embed-shell.h:
	* embed/ephy-embed-utils.c: (ephy_embed_utils_save),
	(ephy_embed_utils_build_charsets_submenu):
	* embed/ephy-embed.c: (ephy_embed_new):
	* embed/ephy-embed.h:
	* embed/mozilla/ContentHandler.h:
	* embed/mozilla/EventContext.cpp:
	* embed/mozilla/GlobalHistory.cpp:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/PromptService.cpp:
	* embed/mozilla/mozilla-notifiers.cpp:
	* embed/mozilla/mozilla-notifiers.h:
	* embed/mozilla/mozilla-prefs.cpp:
	* embed/mozilla/mozilla-prefs.h:
	* src/appearance-prefs.c: (setup_font_menu):
	* src/ephy-encoding-menu.c: (ephy_encoding_menu_rebuild):
	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init):
	* src/ephy-shell.c: (ephy_shell_get_type), (ephy_shell_init):
	* src/ephy-tab.c: (ephy_tab_init):
	* src/general-prefs.c: (default_charset_menu_changed_cb),
	(create_default_charset_menu):
	* src/pdm-dialog.c: (pdm_dialog_cookie_remove),
	(pdm_dialog_password_remove), (pdm_dialog_cookies_free),
	(pdm_dialog_passwords_free), (pdm_dialog_init):
	* src/prefs-dialog.c: (prefs_clear_memory_cache_button_clicked_cb),
	(prefs_clear_disk_cache_button_clicked_cb):
	* src/window-commands.c: (window_cmd_file_open):

	Split mozilla related calls out of EmbedShell.
	Load default mozilla prefs from a .js file.
	Disable stupid useless security dialogs.
	Fix chechbox alert to have Ok as default action.

2003-02-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.desktop.in:
	* src/ephy-window.c:

	Fix back/forward accels.
	Add startup feedback.

2003-02-04  Xan Lopez  <xan@masilla.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	Set a sane title to the editor window.
	
2003-02-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/StartHereProtocolHandler.cpp:
	* lib/ephy-start-here.c: (ephy_start_here_get_page):

	Dont crash when going to a not existent page.

2003-02-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (item_node_new),
	(connect_drag_sources), (disconnect_drag_sources),
	(setup_toolbars), (do_merge), (ephy_editable_toolbar_init),
	(editor_close_cb), (ephy_editable_toolbar_edit):
	* src/ephy-favicon-action.c: (connect_proxy):
	* src/ephy-window.c:
	
	Fix several menu accels I borked when porting to egg.
	Connect drag source on toolbar buttons only when necessary,
	fix favicon drag.

2003-02-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/starthere/index.xml.in:
	
	Change xml to have translations merged properly.
	Maybe this should be fixed in intltool though.

2003-02-02  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-stock-icons.c: Add some icons, thanks
	to jorn to provide them.
	* embed/EphyWrapper.cpp: last api change seem to have
	been reverted ?!

2003-02-02  German Poo-Caaman~o  <gpoo@ubiobio.cl>

	* configure.in: Added es (Spanish) to ALL_LINGUAS.

2003-01-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-types.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init):
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_clean),
	(ephy_favorites_menu_rebuild):

	Make favorites really work and avoid they crash when
	closing window, 0.5 is nearer now :)

2003-01-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/epiphany-bookmarks.png: better icon,
	thanks to jeroen

2003-01-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: Add icons,
	fix some minor appeareance stuff, rework ui updating
	to deal with editor size.

2003-01-30  Daniel Yacob  <locales@geez.org>

	* configure.in: Added am (Amharic) to ALL_LINGUAS.

2003-01-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-toolbar.xml.in:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/Makefile.am:
	* lib/egg/egg-action.c: (disconnect_proxy):
	* lib/egg/egg-menu-merge.c: (update_node):
	* lib/ephy-dnd.c: (ephy_dnd_uri_list_extract_uris):
	* lib/ephy-dnd.h:
	* lib/ephy-string.c: (ephy_str_to_int):
	* lib/widgets/ephy-editable-toolbar.c: (item_node_new),
	(impl_get_action), (add_action), (parse_item_list),
	(toolbar_list_to_xml), (ephy_editable_toolbar_save), (do_merge),
	(free_node), (ephy_editable_toolbar_finalize):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_bookmark_id):
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_add),
	(ephy_new_bookmark_response_cb), (ephy_new_bookmark_init),
	(ephy_new_bookmark_set_icon), (ephy_new_bookmark_get_id):
	* src/bookmarks/ephy-new-bookmark.h:
	* src/popup-commands.c: (popup_cmd_add_link_bookmark):
	* src/toolbar.c: (get_bookmark_action), (toolbar_get_action):
	* src/window-commands.c: (window_cmd_file_add_bookmark):

	Allow to drag also normal urls in the toolbars.
	Commit some fixes I did to the eggmenu stuff, now
	toolbar editor should work well, please start
	reporting bugs :)

2003-01-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-dnd.c: (ephy_dnd_url_drag_source_set),
	(ephy_dnd_enable_model_drag_source):
	* lib/ephy-dnd.h:
	* lib/widgets/ephy-editable-toolbar.c: (item_node_new),
	(add_action), (parse_item_list), (toolbar_list_to_xml),
	(drag_data_received_cb), (setup_toolbar_drag):
	* src/toolbar.c: (toolbar_get_action):

	Fix bookmarks/smart bookmarks add to the toolbars.

2003-01-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-bonobo-extensions.c: (ephy_bonobo_clear_path),
	(ephy_bonobo_replace_path):
	* lib/ephy-bonobo-extensions.h:
	* lib/ephy-marshal.list:
	* lib/ephy-string.c: (ephy_str_to_int):
	* lib/ephy-string.h:
	* lib/widgets/ephy-editable-toolbar.c: (impl_get_action),
	(add_action), (parse_item_list), (add_toolbar), (parse_toolbars),
	(load_defaults), (load_toolbar), (drag_data_received_cb),
	(setup_toolbar_drag), (ensure_toolbars_min_size), (do_merge),
	(ephy_editable_toolbar_class_init), (editor_get_dimensions),
	(hide_editor), (editor_close_cb), (editor_add_toolbar_cb),
	(editor_drag_data_received_cb), (editor_drag_data_delete_cb),
	(setup_editor), (button_press_cb), (show_editor),
	(ephy_editable_toolbar_edit), (ephy_editable_toolbar_get_action):
	* lib/widgets/ephy-editable-toolbar.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_bookmark_id):
	* src/bookmarks/ephy-bookmarks.h:
	* src/session.c: (session_load):
	* src/toolbar.c: (go_location_cb), (toolbar_get_action),
	(toolbar_class_init), (toolbar_init):

	Complete (or nearly) toolbar editor implementation.
	Bookmarks are implemented too, but some minor problems
	are stopping them to work.

2003-01-29  Christian Neumair  <chris@gnome-de.org>

	* src/window-commands.c: Changed Copyright notice.

2003-01-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-editable-toolbar.c: (toolbar_node_new),
	(item_node_new), (find_node_from_action), (add_action),
	(parse_item_list), (parse_toolbars), (load_defaults),
	(load_toolbar), (toolbar_list_to_xml), (toolbar_list_to_string),
	(ui_update), (queue_ui_update), (drag_data_received_cb),
	(drag_data_delete_cb), (drag_data_get_cb), (setup_toolbar_drag),
	(do_merge), (ephy_editable_toolbar_set_merge),
	(ephy_editable_toolbar_init), (build_to_drag_actions_list),
	(setup_editor), (button_press_cb), (show_editor),
	(set_all_actions_sensitive), (ephy_editable_toolbar_edit):
	* src/ephy-window.c: (add_widget):
	
	Reimplement data using GNode, cleaner.
	Give up on "autoapply" for now, gtk dnd doesnt really
	like it :(.
	Implement reordering.

2003-01-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed.c: (ephy_embed_base_init):

	dont leak signals, ported from galeon

2003-01-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/ui/epiphany-toolbar.xml.in:
	* lib/widgets/ephy-editable-toolbar.c: (copy_toolbars),
	(is_action_in_toolbars), (is_separator),
	(find_toolbar_from_widget), (add_action_to_list),
	(parse_item_list), (toolbar_list_to_xml), (toolbar_list_to_string),
	(drag_data_received_cb), (drag_motion_cb), (drag_drop_cb),
	(setup_toolbar_drag), (do_merge),
	(ephy_editable_toolbar_set_merge), (ephy_editable_toolbar_init),
	(ephy_editable_toolbar_finalize), (drag_data_get_cb),
	(build_to_drag_actions_list), (setup_editor),
	(set_all_actions_sensitive), (ephy_editable_toolbar_edit):
	* src/ephy-favicon-action.c: (create_tool_item),
	(ephy_favicon_action_class_init):
	* src/ephy-location-action.c: (create_tool_item),
	(ephy_location_action_class_init):
	* src/ephy-spinner-action.c: (create_tool_item),
	(ephy_spinner_action_class_init):

	Implement dragging from the editor. It's stilly buggy
	but I didnt expect to get that working so soon :)

2003-01-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* lib/egg/egg-menu-merge.c: (egg_menu_merge_get_widget):
	* lib/widgets/ephy-editable-toolbar.c: (drag_data_received_cb),
	(drag_motion_cb), (setup_toolbar_drag), (do_merge),
	(ephy_editable_toolbar_init), (ephy_editable_toolbar_new),
	(editor_get_dimensions), (drag_data_get_cb), (setup_editor),
	(show_editor), (ephy_editable_toolbar_edit):
	* lib/widgets/ephy-editable-toolbar.h:
	* src/ephy-window.c: (add_widget):
	* src/toolbar.c: (toolbar_setup_actions):
	* src/window-commands.c: (window_cmd_edit_toolbar):

	Some work on tbe

2003-01-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* src/bookmarks/ephy-bookmark-action.c: (create_tool_item),
	(ephy_bookmark_action_sync_icon),
	(ephy_bookmark_action_sync_label), (entry_activated_cb),
	(button_clicked_cb), (connect_proxy),
	(ephy_bookmark_action_set_property),
	(ephy_bookmark_action_finalize), (ephy_bookmark_action_class_init),
	(ephy_bookmark_action_init), (ephy_bookmark_action_new):
	* src/bookmarks/ephy-bookmark-action.h:
	* src/ephy-favicon-action.c: (ephy_favicon_action_sync_icon):

	Complete bookmark action implementation (with smb too)

2003-01-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* NEWS:
	* configure.in:
	* data/ui/epiphany-toolbar.xml.in:
	* lib/egg/Makefile.am:
	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-editable-toolbar.c:
	(ephy_editable_toolbar_get_type), (find_action),
	(add_action_to_list), (parse_item_list), (parse_toolbars),
	(load_defaults), (load_toolbar), (toolbar_list_to_xml),
	(toolbar_list_to_string), (do_merge),
	(ephy_editable_toolbar_set_merge),
	(ephy_editable_toolbar_set_property),
	(ephy_editable_toolbar_get_property),
	(ephy_editable_toolbar_class_init), (ephy_editable_toolbar_init),
	(ephy_editable_toolbar_save), (ephy_editable_toolbar_finalize),
	(ephy_editable_toolbar_new):
	* lib/widgets/ephy-editable-toolbar.h:
	* src/Makefile.am:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmark-action.c:
	(ephy_bookmark_action_get_type), (create_tool_item),
	(ephy_bookmark_action_sync_label), (connect_proxy),
	(ephy_bookmark_action_set_property),
	(ephy_bookmark_action_get_property),
	(ephy_bookmark_action_class_init), (ephy_bookmark_action_init),
	(ephy_bookmark_action_new):
	* src/bookmarks/ephy-bookmark-action.h:
	* src/ephy-tab.c: (ephy_tab_finalize), (ephy_tab_set_location):
	* src/toolbar.c: (toolbar_get_type), (toolbar_set_window),
	(editable_toolbar_request_action), (toolbar_init),
	(toolbar_finalize):
	* src/toolbar.h:

	Implement the data part of the toolbar editor.
	Partial implementation of Bookmark action.
	Try to fix crashes when switching tabs.

2003-01-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* lib/ephy-node.c: (id_factory_set_to):

	Fix evil bug in id factory.

2003-01-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* data/ui/epiphany-ui.xml.in:
	* embed/ephy-embed-utils.c:
	(ephy_embed_utils_build_charsets_submenu):
	* lib/egg/egg-menu-merge.c: (egg_menu_merge_finalize),
	(egg_menu_merge_class_init), (egg_menu_merge_init),
	(egg_menu_merge_node_prepend_uierence),
	(egg_menu_merge_node_remove_uierence), (start_element_handler),
	(cleanup), (remove_ui), (update_node):
	* src/Makefile.am:
	* src/ephy-encoding-menu.c: (ephy_encoding_menu_class_init),
	(ephy_encoding_menu_init), (ephy_encoding_menu_finalize_impl),
	(ephy_encoding_menu_set_property),
	(ephy_encoding_menu_get_property), (ephy_encoding_menu_new),
	(ephy_encoding_menu_verb_cb), (build_group), (build_charset),
	(ephy_encoding_menu_rebuild):
	* src/ephy-encoding-menu.h:
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_finalize_impl),
	(ephy_favorites_menu_verb_cb):
	* src/ephy-favorites-menu.h:
	* src/ephy-window.c: (ephy_window_init), (ephy_window_finalize):
	* src/ppview-toolbar.c: (ppview_toolbar_finalize):

	Reimplement encoding menus.
	Work around eggmenu finalization problems.
	Fix ppvtoolbar/favorites menu to correctly
	remove action group on finalize.

2003-01-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* lib/ephy-autocompletion.c: (ephy_autocompletion_reset),
	(ephy_autocompletion_set_key),
	(ephy_autocompletion_update_matches_full):
	* lib/widgets/ephy-location-entry.c:
	(get_editable_number_of_chars), (position_is_at_end),
	(ephy_location_entry_key_press_event_cb):
	* src/ephy-favicon-action.c: (ephy_favicon_action_finalize):
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_finalize_impl),
	(ephy_favorites_menu_rebuild):
	* src/ephy-window.c: (add_widget), (setup_window),
	(ephy_window_finalize), (ephy_window_set_chrome):
	* src/ppview-toolbar.c: (toolbar_update_sensitivity),
	(ppview_toolbar_set_window), (toolbar_cmd_ppv_close):
	* src/toolbar.c: (toolbar_setup_widgets), (toolbar_finalize):

	Fix autocompletion to not show duped entries.
	Complete print preview impl.
	Fix actions referencing, a bug in egg still blocking it though.

2003-01-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_host_set_title):

	Dont crash when url is NULL

2003-01-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* lib/egg/egg-menu-merge.c: (do_updates):
	* src/ephy-spinner-action.c: (create_tool_item):
	* src/ephy-window.c: (add_widget), (ephy_window_init),
	(ephy_window_finalize), (update_layout_toggles),
	(ephy_window_set_chrome):
	* src/toolbar.c: (toolbar_set_window), (toolbar_new):
	* src/toolbar.h:
	* src/window-commands.c: (window_cmd_view_toolbar),
	(window_cmd_view_statusbar), (window_cmd_view_fullscreen):
	* src/window-commands.h:

	Fix chromes

2003-01-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/Makefile.am:
	* lib/ephy-filesystem-autocompletion.c:
	* lib/ephy-filesystem-autocompletion.h:

	Remove fs autocompletion, we are a browser after all

2003-01-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/BaseProtocolContentHandler.cpp:
	* embed/mozilla/StartHereProtocolHandler.cpp:

	Api changes.

	* embed/ephy-embed-shell.c: (ephy_embed_shell_finalize):
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_finalize):
	* embed/ephy-history.c: (ephy_history_host_visited),
	(ephy_history_set_page_title), (ephy_history_remove):
	* lib/widgets/ephy-spinner.c: (ephy_spinner_expose),
	(ephy_spinner_size_request):
	* lib/widgets/ephy-spinner.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_finalize):
	* src/ephy-shell.c: (ephy_shell_finalize),
	(ephy_shell_get_autocompletion):
	* src/ephy-spinner-action.c: (create_tool_item):

	Nicer spinner size. Fix references problem
	and a lot of logs to make it easy to debug it.

2003-01-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (update_nav_control):

	Set stop button sensitivity

2003-01-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-event.c: (ephy_embed_event_finalize):

	Fix a stupid mistake porting galeon changes, no more
	freeze.

	* src/ephy-favicon-action.c: (ephy_favicon_action_sync_icon),
	(ephy_favicon_action_class_init), (ephy_favicon_action_init),
	(ephy_favicon_action_finalize):

	Ref favicon cache.

	* src/ephy-window.c: (ephy_window_init):

	Initialize ppview pointer.

2003-01-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Merge eog-menu-api branch

2003-01-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-event.c: (free_g_value),
	(ephy_embed_event_init), (ephy_embed_event_get_property):
	* embed/ephy-embed-event.h:
	* embed/ephy-embed-popup.c: (setup_document_menu),
	(embed_popup_copy_email_cmd), (embed_popup_copy_link_location_cmd),
	(save_property_url), (embed_popup_open_link_cmd),
	(embed_popup_set_image_as_background_cmd),
	(embed_popup_copy_image_location_cmd),
	(embed_popup_open_image_cmd):
	* embed/ephy-embed-utils.c: (build_charset),
	(ephy_embed_utils_build_charsets_submenu):
	* embed/mozilla/FilePicker.cpp:
	* src/bookmarks/ephy-bookmarks.c: (update_favorites_menus):
	* src/ephy-nautilus-view.c: (gnv_embed_dom_mouse_down_cb),
	(gnv_popup_cmd_new_window), (gnv_popup_cmd_image_in_new_window):
	* src/ephy-shell.c: (ephy_shell_get_active_window):
	* src/ephy-tab.c: (ephy_tab_dom_mouse_down_cb):
	* src/ephy-window.c: (update_window_visibility),
	(update_spinner_control):
	* src/general-prefs.c: (language_dialog_changed_cb):
	* src/popup-commands.c: (popup_cmd_new_window),
	(popup_cmd_new_tab), (popup_cmd_image_in_new_tab),
	(popup_cmd_image_in_new_window), (popup_cmd_add_bookmark):
	* src/session.c: (session_close), (session_save):
	* src/session.h:

	Port several leaks fixes from galeon.

2003-01-17  Lee Willis <lwillis@plus.net>

	* embed/ephy-history.c: Don't leak history xml every 5 minutes

2003-01-16  Rob Clews <rjc@intercellsolutions.com>

	* embed/downloader-view.c: fix incorrect figures on small files

2003-01-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp: Api change

2003-01-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/ephy-spinner-action.c: (create_tool_item):
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_finalize),
	(ephy_tab_get_event), (ephy_tab_set_event),
	(ephy_tab_show_embed_popup), (ephy_tab_dom_mouse_down_cb):
	* src/ephy-tab.h:
	* src/ephy-window.c: (setup_window), (ephy_window_init),
	(ephy_window_finalize), (ephy_window_get_active_embed):
	* src/ephy-window.h:
	* src/popup-commands.c: (get_event_info),
	(popup_cmd_link_in_new_window), (popup_cmd_link_in_new_tab),
	(popup_cmd_image_in_new_tab), (popup_cmd_image_in_new_window),
	(popup_cmd_add_link_bookmark), (popup_cmd_frame_in_new_tab),
	(popup_cmd_frame_in_new_window), (popup_cmd_copy_to_clipboard),
	(popup_cmd_copy_page_location), (popup_cmd_copy_email),
	(popup_cmd_copy_link_location), (save_property_url),
	(popup_cmd_open_link), (popup_cmd_download_link),
	(popup_cmd_save_image_as), (background_download_completed),
	(popup_cmd_set_image_as_background),
	(popup_cmd_copy_image_location), (popup_cmd_save_background_as),
	(popup_cmd_open_frame), (popup_cmd_open_image):
	* src/popup-commands.h:

	Implement context menus

2003-01-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_expose):
	* src/ephy-favicon-action.c: (create_tool_item),
	(each_url_get_data_binder), (favicon_drag_data_get_cb),
	(ephy_favicon_action_sync_icon), (connect_proxy),
	(ephy_favicon_action_set_property),
	(ephy_favicon_action_get_property),
	(ephy_favicon_action_class_init), (ephy_favicon_action_init):
	* src/ephy-favicon-action.h:
	* src/ephy-location-action.c: (ephy_location_action_get_widget):
	* src/ephy-location-action.h:
	* src/ephy-navigation-action.c:
	* src/ephy-spinner-action.c: (ephy_spinner_action_sync_throbbing),
	(create_tool_item), (connect_proxy),
	(ephy_spinner_action_set_property),
	(ephy_spinner_action_get_property),
	(ephy_spinner_action_class_init), (ephy_spinner_action_init):
	* src/ephy-spinner-action.h:
	* src/ephy-window.c: (setup_window), (update_nav_control):
	* src/toolbar.c: (toolbar_setup_actions),
	(toolbar_activate_location), (toolbar_spinner_start),
	(toolbar_spinner_stop), (toolbar_set_location),
	(toolbar_update_favicon), (toolbar_get_location),
	(toolbar_update_navigation_actions):
	* src/toolbar.h:

	Complete toolbar implementation.

2003-01-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-gui.c: (ephy_gui_menu_position_under_widget):
	* lib/widgets/ephy-arrow-toolbutton.c: (popup_menu_under_arrow):
	* src/ephy-location-action.c: (create_tool_item),
	(location_url_activate_cb), (connect_proxy),
	(ephy_location_action_class_init):
	* src/ephy-location-action.h:
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):
	* src/ephy-spinner-action.c: (create_tool_item):
	* src/toolbar.c: (toolbar_setup_widgets), (go_location_cb),
	(toolbar_setup_actions):
	
	Make location and navigation buttons works correctly.

2003-01-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/Makefile.am:
	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-arrow-toolbutton.c:
	(ephy_arrow_toolbutton_get_type),
	(ephy_arrow_toolbutton_class_init), (button_state_changed_cb),
	(popup_menu_under_arrow), (menu_deactivated_cb),
	(arrow_button_press_event_cb), (arrow_key_press_event_cb),
	(ephy_arrow_toolbutton_init), (ephy_arrow_toolbutton_finalize),
	(ephy_arrow_toolbutton_get_menu):
	* lib/widgets/ephy-arrow-toolbutton.h:
	* src/Makefile.am:
	* src/ephy-navigation-action.c: (ephy_navigation_action_get_type),
	(new_history_menu_item), (activate_back_or_forward_menu_item_cb),
	(activate_up_menu_item_cb), (setup_back_or_forward_menu),
	(setup_up_menu), (menu_activated_cb), (connect_proxy),
	(ephy_navigation_action_set_property),
	(ephy_navigation_action_get_property),
	(ephy_navigation_action_class_init), (ephy_navigation_action_init):
	* src/ephy-navigation-action.h:
	* src/ephy-window.c: (ephy_window_init):
	* src/toolbar.c: (toolbar_setup_actions), (toolbar_set_window),
	(toolbar_init):

	Implement back/forward

2003-01-17  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/Makefile.am:
	* data/ui/epiphany-ui.xml.in:
	* src/Makefile.am:
	* src/ephy-window.c: (add_widget), (setup_window),
	(ephy_window_init), (ephy_window_set_chrome):
	* src/toolbar.c: (toolbar_setup_widgets), (add_widget),
	(toolbar_set_window), (toolbar_setup_actions), (toolbar_init),
	(toolbar_finalize), (toolbar_set_visibility):

	Make some toolbar widgets work again

2003-01-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/ui/Makefile.am:
	* data/ui/epiphany-ui.xml.in:
	* embed/mozilla/GlobalHistory.cpp:
	* lib/Makefile.am:
	* src/Makefile.am:
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_init),
	(ephy_favorites_menu_clean), (ephy_favorites_menu_finalize_impl),
	(ephy_favorites_menu_set_property), (ephy_favorites_menu_rebuild):
	* src/ephy-favorites-menu.h:
	* src/ephy-nautilus-view.c: (gnv_bonobo_control_activate_cb),
	(gnv_popup_cmd_frame_in_new_window):
	* src/ephy-window.c: (add_widget), (setup_window),
	(setup_popup_factory), (ephy_window_init), (ephy_window_finalize),
	(ephy_window_set_chrome), (ephy_window_activate_location),
	(update_status_message), (update_progress), (update_security),
	(update_nav_control), (update_location_control),
	(update_favicon_control), (update_spinner_control),
	(save_old_embed_status), (ephy_window_get_toolbar):
	* src/ppview-toolbar.c: (ppview_toolbar_set_window),
	(ppview_toolbar_init), (ppview_toolbar_finalize),
	(toolbar_update_sensitivity), (toolbar_cmd_ppv_goto_first),
	(toolbar_cmd_ppv_goto_last), (toolbar_cmd_ppv_go_back),
	(toolbar_cmd_ppv_go_forward), (toolbar_cmd_ppv_close):
	* src/ppview-toolbar.h:
	* src/statusbar.c: (statusbar_get_type), (statusbar_class_init),
	(create_statusbar_security_icon), (create_statusbar_progress),
	(statusbar_init), (statusbar_new), (statusbar_set_message):
	* src/statusbar.h:
	* src/toolbar.c: (toolbar_get_type), (toolbar_class_init),
	(toolbar_setup_favicon), (toolbar_setup_location_entry),
	(toolbar_set_window), (toolbar_init), (toolbar_finalize),
	(toolbar_set_visibility), (toolbar_button_set_sensitive),
	(toolbar_get_location):
	* src/toolbar.h:
	* src/window-commands.c:
	* src/window-commands.h:

	More menu work ...

2003-01-14  Marco Pesenti Gritti  <marco@it.gnome.org>
	
	* src/ephy-window.c:
	* src/ephy-window.h:
	* src/window-commands.c:
	* src/window-commands.h:

	Some work on the new menu stuff

2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp:
	* src/general-prefs.c: (create_default_charset_menu):

	Dont crash when schemas installed incorrectly

2003-01-13  Alex Duggan  <aldug@gnome.org>
	
	* configure.in:
	* embed/mozilla/ExternalProtocolService.cpp:
	* embed/mozilla/ExternalProtocolService.h:
	* embed/mozilla/FilePicker.h:
	* embed/mozilla/FtpProtocolHandler.h:
	* embed/mozilla/IRCProtocolHandler.h:
	* embed/mozilla/MailtoProtocolHandler.h:
	* embed/mozilla/PrintingPromptService.h:
	* embed/mozilla/PromptService.cpp:
	* embed/mozilla/PromptService.h:
	* embed/mozilla/StartHereProtocolHandler.h:
	* idl/EphyAutomation.idl:
	
	s/Galeon/Epiphany/
	
2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_save), (hosts_added_cb),
	(hosts_removed_cb), (ephy_history_finalize),
	(ephy_history_host_set_title), (ephy_history_host_visited),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_add_page), (ephy_history_set_page_title):
	* src/ephy-history-model.c: (ephy_history_model_get_value):
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):

	Use the title also for hosts in history.
	Cleanup hosts matching code a lot.

2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_get):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_set_icon):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_finalize),
	(ephy_new_bookmark_add), (ephy_new_bookmark_init),
	(ephy_new_bookmark_set_smarturl), (ephy_new_bookmark_set_icon):
	* src/bookmarks/ephy-new-bookmark.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_add_column),
	(ephy_node_view_add_icon_column):
	* src/bookmarks/ephy-node-view.h:
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_column_type), (get_icon_pixbuf),
	(ephy_tree_model_node_get_value),
	(ephy_tree_model_node_column_get_type):
	* src/bookmarks/ephy-tree-model-node.h:
	* src/ephy-history-model.c: (ephy_history_model_get_value):
	* src/ephy-navigation-button.c: (setup_back_or_forward_menu):
	* src/ephy-tab.c: (ephy_tab_favicon_cb):
	* src/window-commands.c: (window_cmd_bookmarks_add_default):

	Use favicons in bookmarks.
	Use titles for session history when possible.

2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (update_favicon_control):

	correctly update window icon when the page doesnt
	specify any favicon url.

2003-01-12  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in (ALL_LINGUAS): Added "no".

2003-01-12  Kenneth Christiansen  <kenneth@gnu.org>

	* configure.in: Added da to ALL_LINGUAS

2003-01-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:

	0.4.2 Release. Switch configure.in to 0.5.0.

	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/PrintingPromptService.cpp:
	* embed/mozilla/mozilla-embed.cpp:

	Remove some stupid printf.

2003-01-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* doc/debugging.txt:
	* embed/ephy-embed-utils.c:
	(ephy_embed_utils_build_charsets_submenu):
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_init):
	* embed/ephy-history.c: (ephy_history_save):
	* embed/mozilla/mozilla-embed.cpp:
	* lib/ephy-autocompletion.c: (ephy_autocompletion_reset),
	(ephy_autocompletion_get_common_prefix),
	(ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full),
	(ephy_autocompletion_sort_by_score),
	(ephy_autocompletion_data_changed_cb), (acma_grow):
	* lib/ephy-debug.c: (log_module), (ephy_debug_init),
	(ephy_profiler_new), (ephy_should_profile), (ephy_profiler_dump),
	(ephy_profiler_free), (ephy_profiler_start), (ephy_profiler_stop):
	* lib/ephy-debug.h:
	* lib/ephy-filesystem-autocompletion.c:
	(ephy_filesystem_autocompletion_finalize_impl),
	(gfa_load_directory_cb),
	(ephy_filesystem_autocompletion_set_current_dir),
	(ephy_filesystem_autocompletion_set_base_dir):
	* lib/ephy-start-here.c:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_key_press_cb):
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_finalize_impl),
	(ephy_location_entry_autocompletion_show_alternatives_to),
	(ephy_location_entry_autocompletion_to),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_autocompletion_sources_changed_cb),
	(ephy_location_entry_autocompletion_window_url_activated_cb),
	(ephy_location_entry_autocompletion_window_hidden_cb):
	* src/bookmarks/ephy-bookmarks-editor.c:
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords), (ephy_bookmarks_save),
	(ephy_bookmarks_find_keyword), (diff_keywords):
	* src/bookmarks/ephy-keywords-entry.c: (try_to_expand_keyword):
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_set_title):
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_rebuild):
	* src/ephy-nautilus-view.c: (gnv_cmd_set_charset), (if):
	* src/ephy-navigation-button.c:
	(ephy_navigation_button_finalize_impl):
	* src/ephy-shell.c: (ephy_shell_finalize):
	* src/ephy-tab.c: (ephy_tab_embed_destroy_cb), (ephy_tab_finalize):
	* src/ephy-tbi.c: (ephy_tbi_finalize_impl):
	* src/ephy-window.c: (ephy_window_finalize):
	* src/toolbar.c: (toolbar_get_widgets):

	Implement profiler helpers. Complete ephy-debug
	implementation and document it.
	Fixup all the damned DEBUG_MSG mess. toolbar/ is
	still borked since I'm not mantaining that code atm (just
	keeping it updated with galeon).

2003-01-12  Andras Timar  <timar@gnome.hu>

	* configure.in: Added de, hu and nl to ALL_LINGUAS.

2003-01-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_download):
	* embed/ephy-history.c:
	* lib/Makefile.am:
	* lib/ephy-types.h:
	* src/bookmarks/ephy-bookmarks.c:
	* src/ephy-shell.c: (ephy_shell_init):

	Move root nodes ids to ephy-types.
	Simple logging facility:
	EPHY_DEBUG_MODULES= all | filename
	will enable it.
	Need to provide a way to disable it and to get rid
	of the old per file crap.

2003-01-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/Makefile.am:
	* embed/ephy-embed-favicon.c:
	* embed/ephy-embed-favicon.h:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_get_favicon_cache):
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_class_init),
	(ephy_favicon_cache_new), (ephy_favicon_cache_load),
	(icon_is_obsolete), (icons_added_cb), (icons_removed_cb),
	(remove_obsolete_icons), (ephy_favicon_cache_save),
	(ephy_favicon_cache_init), (kill_download),
	(cleanup_downloads_hash), (ephy_favicon_cache_finalize),
	(favicon_name_build), (favicon_download_completed_cb),
	(ephy_favicon_cache_download), (ephy_favicon_cache_get):
	* embed/ephy-favicon-cache.h:
	* embed/ephy-favicon.c:
	* embed/ephy-favicon.h:
	* embed/mozilla/mozilla-embed-shell.cpp:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_favicon_cb),
	(ephy_tab_location_cb), (ephy_tab_get_location),
	(ephy_tab_get_favicon_url):
	* src/ephy-tab.h:
	* src/ephy-window.c: (update_favicon_control):
	* src/toolbar.c: (toolbar_setup_favicon_ebox),
	(toolbar_update_favicon):

	Reimplement favicons. Now all exit crashes related
	to connections left open by favicons should be fixed.

2003-01-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-persist.c: (ephy_embed_persist_cancel):
	* embed/ephy-embed-persist.h:
	* embed/mozilla/ProgressListener.cpp:
	* embed/mozilla/mozilla-embed-persist.cpp:
	* embed/mozilla/mozilla-embed-persist.h:

	Implement a cancel api. Fix refcount to really destroy
	the WebPersist object when done.

2003-01-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_insert_from_url):

	Download favicon only when it's not already on disk. As side effect
	avoid most crashes on exit. Still need to really fix that.

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:

	Fix schemas build.

	* embed/mozilla/mozilla-embed-persist.cpp:

	Api change grrrr.

2003-01-09  Lee Willis <lwillis@plus.net>

	* embed/mozilla/FilePicker.cpp:
	
	Destroy "Invalid path dialog" correctly 

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/Makefile.am:
	* data/epiphany.desktop.in:
	* data/ui/epiphany-ui.xml.in:
	* embed/ephy-embed-popup.c: (embed_popup_open_link_cmd):
	* src/ephy-main.c: (main):
	* src/window-commands.c: (window_cmd_set_charset):

	Rehash link context menu order to be hig compliant.
	Set a desktop icon.

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-tab.c: (ephy_tab_location_cb):

	Reset link message when changing page.

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-history.c: (ephy_history_init):
	* embed/mozilla/FilePicker.cpp:
	* lib/ephy-node.c: (ephy_node_new_with_id),
	(ephy_node_system_init):
	* lib/ephy-node.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init):

	Extend ephy node to allow some reversed ids.
	Use it for base bookmarks/history elements, should
	fix bookmarks lossage.
	Fix filepicker initialization.

2003-01-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* data/starthere/Makefile.am:
	* data/starthere/index.xml.in:
	* data/starthere/section.xsl:
	* data/starthere/smartbookmarks.xml.in:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_class_init):
	* embed/ephy-embed-shell.h:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* po/POTFILES.in:
	* src/ephy-shell.c: (ephy_shell_command_cb), (ephy_shell_init):

	More start here page work, importing bookmarks from mozilla
	now should work.

2003-01-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/starthere/Makefile.am:
	* data/starthere/index.xml.in:
	* data/starthere/section.css:
	* data/starthere/section.xsl:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* embed/mozilla/mozilla-embed-shell.cpp:
	* lib/ephy-file-helpers.c: (ephy_ensure_dir_exists),
	(ephy_find_file_recursive), (ephy_file_find):
	* lib/ephy-file-helpers.h:
	* lib/ephy-start-here.c: (ephy_start_here_init),
	(ephy_start_here_finalize), (is_my_lang), (mozilla_bookmarks),
	(attach_content), (build_content), (ephy_start_here_get_page),
	(ephy_start_here_get_base_uri):
	* lib/ephy-start-here.h:

	More work on the start here page.

2003-01-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/Makefile.am:
	* data/start_here.html:
	* data/starthere/Makefile.am:
	* data/starthere/index.xml.in:
	* data/starthere/section.xsl:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* lib/Makefile.am:
	* lib/widgets/ephy-autocompletion-window.c:
	(hack_tree_view_move_selection):
	* po/POTFILES.in:

	Architecture for translatable xml/xsl start page.

2003-01-06  Vincent Untz  <vincent@vuntz.net>

	* lib/widgets/ephy-autocompletion-window.c: declare all variables
	before the first instruction.

2003-01-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/mozilla-embed.cpp:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_link_message_cb),
	(ephy_tab_get_status_message):

	Make sure event listener is ever attached.
	Never allow to override statusbar messages.

2003-01-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/Makefile.am:
	* data/art/epiphany.png:
	* data/epiphany.schemas.in:
	* data/glade/epiphany.glade:
	* embed/downloader-view.c: (downloader_view_init),
	(downloader_view_finalize):
	* embed/ephy-embed-favicon.c: (ephy_embed_favicon_set_property):
	* embed/ephy-embed-shell.c: (ephy_embed_shell_get_impl),
	(ephy_embed_shell_get_type), (ephy_embed_shell_new):
	* embed/ephy-embed-shell.h:
	* embed/ephy-embed-utils.c:
	(ephy_embed_utils_build_charsets_submenu):
	* embed/mozilla/mozilla-embed-persist.cpp:
	* embed/mozilla/mozilla-embed.cpp:
	* src/appearance-prefs.c: (setup_font_menu):
	* src/bookmarks/ephy-bookmarks.c: (compute_lower_fav),
	(ephy_setup_history_notifiers):
	* src/ephy-main.c: (main):
	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init):
	* src/ephy-shell.c: (ephy_shell_get_type), (ephy_shell_init),
	(ephy_shell_finalize), (build_homepage_url),
	(ephy_shell_get_autocompletion):
	* src/ephy-shell.h:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_location_cb),
	(ephy_tab_visibility_cb):
	* src/ephy-window.c: (favicon_cache_changed_cb),
	(ephy_window_init), (update_favicon_control):
	* src/general-prefs.c: (create_default_charset_menu):
	* src/history-dialog.c: (history_dialog_init):
	* src/pdm-dialog.c: (pdm_dialog_cookie_remove),
	(pdm_dialog_password_remove), (pdm_dialog_cookies_free),
	(pdm_dialog_passwords_free), (pdm_dialog_init):
	* src/prefs-dialog.c: (prefs_clear_memory_cache_button_clicked_cb),
	(prefs_clear_disk_cache_button_clicked_cb):
	* src/window-commands.c: (window_cmd_file_open):

	Make GaleonShell inherit from GaleonEmbedShell.
	Ref the shell when using the downloader.
	Use favicons for the window icon when possible.
	This required to use jimmac icon as default,
	we still dont have his permission, I'll remove it
	later if necessary.

2003-01-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-favicon.c: (update_url), (location_changed_cb),
	(ephy_embed_favicon_set_property):
	* src/toolbar.c: (toolbar_update_favicon):

	Really update favicon when switching tab.

2003-01-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/mozilla/PromptService.cpp:
	* embed/mozilla/mozilla-embed-persist.cpp:
	* lib/toolbar/ephy-tbi-zoom.c: (ephy_tbi_zoom_get_widget_impl):
	* lib/widgets/ephy-notebook.c: (tab_build_label):
	* src/bookmarks/ephy-bookmarks-editor.c: (build_editing_table),
	(build_search_box):
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	* src/ephy-window.c: (ephy_window_notebook_switch_page_cb):
	* src/pdm-dialog.c: (show_cookies_properties):
	* src/session.c: (crashed_resume_dialog):

	Remove unnecessary markup from translations.

2003-01-02  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-string.c: (ephy_str_replace_substring):
	* lib/ephy-string.h:
	* lib/widgets/eggtreemultidnd.c:
	(egg_tree_multi_drag_motion_event):
	* src/bookmarks/Makefile.am:

	Use gtk icons for dnd.
	Basic implementation of bookmarks importing. Still
	not used but functional.

2003-01-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/Makefile.am:
	* embed/ephy-embed-favicon.c: (location_changed_cb), (favicon_cb):
	* embed/ephy-embed-popup.c: (embed_popup_copy_location_cmd),
	(embed_popup_save_page_as_cmd), (embed_popup_open_frame_cmd):
	* embed/ephy-embed-shell.c: (ephy_embed_shell_free_cookies):
	* embed/ephy-embed-shell.h:
	* embed/ephy-embed-utils.c: (ephy_embed_utils_save):
	* embed/ephy-embed.c: (ephy_embed_get_location),
	(ephy_embed_shistory_copy):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-shell.cpp:
	* embed/mozilla/mozilla-embed.cpp:
	* lib/Makefile.am:
	* lib/toolbar/Makefile.am:
	* lib/widgets/Makefile.am:
	* src/Makefile.am:
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	* src/ephy-nautilus-view.c: (gnv_embed_location_cb),
	(gnv_popup_cmd_frame_in_new_window):
	* src/ephy-shell.c: (build_homepage_url):
	* src/ephy-tab.c: (ephy_tab_location_cb):
	* src/pdm-dialog.c: (pdm_dialog_cookie_add):
	* src/popup-commands.c: (popup_cmd_frame_in_new_tab),
	(popup_cmd_frame_in_new_window):

	Cleanup unused code.
	Reorder build.
	In new bookmark dialog enter activate ok.

2003-01-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_clear),
	(ephy_history_remove):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords):
	* src/ephy-history-model.c: (get_one_level_path_real),
	(get_path_real), (root_child_removed_cb):

	Rewrite ephy node multiple removals to actually
	work.

2003-01-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* data/glade/epiphany.glade:
	* embed/ephy-history.c: (page_is_obsolete),
	(remove_obsolete_pages), (periodic_save_cb), (ephy_history_init),
	(ephy_history_finalize), (ephy_history_clear),
	(ephy_history_get_last_page), (ephy_history_remove):
	* embed/ephy-history.h:
	* lib/toolbar/ephy-tb-button.c: (button_state_changed_cb),
	(ephy_tb_button_set_show_arrow), (ephy_tb_button_set_enable_menu):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_add):
	* src/history-dialog.c: (get_date_filter):

	Save history every 5 minutes, drop items older than 30 days,
	fix Clear. Better prelight for navigation buttons.

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/.cvsignore:
	* data/Makefile.am:

	Build .in data files from the makefile,
	not from configure.in.
	Add a desktop file. We badly need an icon ;)

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/toolbar/ephy-tbi-favicon.c:
	(ephy_tbi_favicon_add_to_bonobo_tb_impl):
	* lib/toolbar/ephy-tbi-spinner.c:
	(ephy_tbi_spinner_add_to_bonobo_tb_impl):
	* lib/toolbar/ephy-tbi-zoom.c:
	(ephy_tbi_zoom_add_to_bonobo_tb_impl):

	Use normal widgets instead of bonobo controls.

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/FilePicker.h:
	* embed/mozilla/mozilla-embed-shell.cpp:

	Resync with galeon.

	* data/epiphany.schemas.in:
	* lib/ephy-bonobo-extensions.c: (ephy_bonobo_add_numbered_widget):
	* lib/ephy-bonobo-extensions.h:
	* lib/toolbar/Makefile.am:
	* lib/toolbar/ephy-tbi-std-toolitem.c:
	(ephy_tbi_std_toolitem_init),
	(ephy_tbi_std_toolitem_get_icon_impl),
	(ephy_tbi_std_toolitem_get_name_human_impl),
	(ephy_tbi_std_toolitem_to_string_impl),
	(ephy_tbi_std_toolitem_add_to_bonobo_tb_impl),
	(ephy_tbi_std_toolitem_parse_properties_impl),
	(ephy_tbi_std_toolitem_set_item):
	* lib/toolbar/ephy-tbi-std-toolitem.h:
	* lib/toolbar/ephy-toolbar-item-factory.c:
	(ephy_tb_item_factory_init),
	(ephy_toolbar_item_create_from_string),
	(ephy_toolbar_item_register_type):
	* lib/toolbar/ephy-toolbar-item-factory.h:
	* src/Makefile.am:
	* src/toolbar.c: (toolbar_class_init), (toolbar_set_property),
	(toolbar_get_widgets), (toolbar_init), (toolbar_finalize),
	(toolbar_navigation_button_set_sensitive),
	(toolbar_button_set_sensitive):
	* src/window-commands.c:

	Resync with galeon. Now we use a widget for navigation
	buttons.

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/prefs-dialog.glade:
	
	Remove hidden filtering page.

	* embed/ephy-history.c:
	(ephy_history_autocompletion_source_foreach), (ephy_history_init),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_get_page_visits):
	* lib/ephy-autocompletion.c: (ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full_item):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):

	Fix memory corruption in bookmarks refine.
	Implement history autocompletion score.
	Smarter host matching code.
	Add some sanity checks.

2002-12-31  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2002-12-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_dest),
	(ephy_favicon_cache_insert_from_url),
	(favicon_download_completed_cb):
	* lib/ephy-dnd.c: (ephy_dnd_enable_model_drag_source):
	* lib/ephy-dnd.h:
	* lib/widgets/eggtreemultidnd.c:
	(egg_tree_multi_drag_source_drag_data_get),
	(egg_tree_multi_drag_drag_data_get):
	* lib/widgets/eggtreemultidnd.h:
	* lib/widgets/ephy-tree-model-sort.c:
	(ephy_tree_model_sort_multi_drag_data_delete),
	(each_url_get_data_binder),
	(ephy_tree_model_sort_multi_drag_data_get):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_enable_drag_source):
	* src/bookmarks/ephy-node-view.h:
	* src/history-dialog.c: (history_dialog_setup_view):

	Use ephy-dnd for tree model too.
	Fix favicons.

2002-12-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* lib/widgets/eggtreemodelfilter.c:
	(egg_tree_model_filter_build_level):
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_show), (hack_tree_view_move_selection),
	(ephy_autocompletion_window_key_press_hack),
	(ephy_autocompletion_window_key_press_cb),
	(ephy_autocompletion_window_hide):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords), (bookmarks_removed_cb):
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table),
	(ephy_new_bookmark_construct):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_finalize):
	* src/history-dialog.c: (history_dialog_finalize):

	Fix some bookmarks crashes.
	Cycle between the two views in autocompletion when
	moving with keys.

2002-12-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* lib/ephy-dnd.h:
	* lib/ephy-marshal.c: (ephy_marshal_VOID__POINTER_POINTER):
	* lib/ephy-marshal.h:
	* lib/ephy-marshal.list:
	* lib/widgets/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_new):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_row_activated_cb), (node_from_sort_iter_cb),
	(ephy_node_view_construct), (ephy_node_view_add_column),
	(get_selection), (ephy_node_view_select_node),
	(ephy_node_view_enable_drag_source):
	* src/bookmarks/ephy-node-view.h:
	* src/history-dialog.c: (add_column),
	(history_view_row_activated_cb), (node_from_sort_iter_cb),
	(history_dialog_setup_view):

	Implement column sorting / drag and drop for history
	and bookmarks.

2002-12-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/epiphany.glade:
	* embed/ephy-history.c: (hosts_added_cb), (hosts_removed_cb),
	(ephy_history_add_host), (ephy_history_add_page),
	(ephy_history_set_page_title):
	* embed/ephy-history.h:
	* src/bookmarks/ephy-node-filter.c:
	(ephy_node_filter_expression_evaluate):
	* src/ephy-history-model.c: (get_one_level_path_real),
	(get_path_real), (ephy_history_model_get_path),
	(get_property_as_date), (ephy_history_model_get_value),
	(ephy_history_model_update_node), (root_child_removed_cb),
	(root_child_added_cb):
	* src/history-dialog.c: (history_view_row_activated_cb),
	(history_dialog_setup_view), (get_date_filter),
	(history_dialog_setup_filter), (history_dialog_init),
	(history_dialog_new_with_parent):

	Reimplement filtering, fix a few bugs. Please remove
	ephy-history.xml again, should be the last time, sorry.

2002-12-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_add_page):
	* src/ephy-history-model.c: (get_one_level_path_real),
	(get_path_real), (ephy_history_model_get_path),
	(ephy_history_model_update_node), (root_child_removed_cb),
	(root_child_added_cb):

	Update the model correctly when the history changes.

2002-12-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_add_host):

	Fix memory corruption. The history now should work
	better but please kill ephy-history.xml or you could
	get crashes.

2002-12-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_init),
	(ephy_history_add_page), (ephy_history_clear),
	(ephy_history_get_hosts), (ephy_history_get_pages):
	* embed/ephy-history.h:
	* src/Makefile.am:
	* src/ephy-history-model.c: (ephy_history_model_get_type),
	(ephy_history_model_class_init), (ephy_history_model_init),
	(ephy_history_model_finalize), (filter_changed_cb),
	(ephy_history_model_set_property),
	(ephy_history_model_get_property), (ephy_history_model_new),
	(ephy_history_model_tree_model_init),
	(ephy_history_model_get_flags), (ephy_history_model_get_n_columns),
	(ephy_history_model_get_column_type),
	(ephy_history_model_get_iter), (ensure_iter), (get_parent_node),
	(get_path_real), (ephy_history_model_get_path),
	(ephy_history_model_get_host_value),
	(ephy_history_model_get_value), (ephy_history_model_iter_next),
	(ephy_history_model_iter_children),
	(ephy_history_model_iter_has_child),
	(ephy_history_model_iter_n_children),
	(ephy_history_model_iter_nth_child),
	(ephy_history_model_iter_parent),
	(ephy_history_model_node_from_iter),
	(ephy_history_model_iter_from_node),
	(ephy_history_model_update_node), (root_child_removed_cb),
	(root_child_added_cb), (root_child_changed_cb),
	(ephy_history_model_column_get_type):
	* src/ephy-history-model.h:
	* src/history-dialog.c: (add_column), (history_dialog_setup_view),
	(history_dialog_init):

	Implement an history model and use it.

2002-12-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:
	* embed/Makefile.am:
	* embed/ephy-embed-favicon.c: (location_changed_cb),
	(ephy_embed_favicon_set_property):
	* embed/ephy-embed-shell.c: (ephy_embed_shell_init),
	(ephy_embed_shell_finalize), (ephy_embed_shell_get_favicon_cache),
	(impl_get_global_history):
	* embed/ephy-embed-shell.h:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_set_property),
	(ephy_favicon_cache_get_property), (ephy_favicon_cache_class_init),
	(ephy_favicon_cache_init), (ephy_favicon_cache_finalize),
	(ephy_favicon_cache_new), (ephy_favicon_cache_lookup),
	(ephy_favicon_cache_lookup_direct), (ephy_favicon_cache_insert),
	(ephy_favicon_cache_dest):
	* embed/ephy-favicon-cache.h:
	* embed/ephy-favicon.c: (cache_changed_cb):
	* embed/ephy-history.c: (ephy_history_get_type),
	(ephy_history_autocompletion_source_set_basic_key),
	(ephy_history_autocompletion_source_foreach),
	(ephy_history_emit_data_changed),
	(ephy_history_autocompletion_source_init),
	(ephy_history_class_init), (ephy_history_load),
	(ephy_history_save), (hosts_added_cb), (hosts_removed_cb),
	(pages_added_cb), (pages_removed_cb), (ephy_history_init),
	(ephy_history_finalize), (ephy_history_new),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_get_page_visits), (ephy_history_add_page),
	(ephy_history_get_page), (ephy_history_is_page_visited),
	(ephy_history_set_page_title), (ephy_history_clear),
	(ephy_history_get_root), (ephy_history_get_last_page):
	* embed/ephy-history.h:
	* embed/global-history.c:
	* embed/global-history.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/GlobalHistory.cpp:
	* lib/Makefile.am:
	* lib/ephy-node.c: (ephy_node_get_type), (ephy_node_class_init),
	(int_equal), (int_hash), (ephy_node_init), (ephy_node_finalize),
	(remove_child), (ephy_node_dispose),
	(ephy_node_set_object_property), (ephy_node_get_object_property),
	(ephy_node_new), (ephy_node_get_id), (node_from_id_real),
	(ephy_node_get_from_id), (ephy_node_ref), (ephy_node_unref),
	(ephy_node_freeze), (ephy_node_thaw), (child_changed),
	(real_set_property), (ephy_node_set_property),
	(ephy_node_get_property), (ephy_node_get_property_string),
	(ephy_node_get_property_boolean), (ephy_node_get_property_long),
	(ephy_node_get_property_int), (ephy_node_get_property_double),
	(ephy_node_get_property_float), (ephy_node_get_property_node),
	(ephy_node_get_property_time), (save_parent),
	(ephy_node_save_to_xml), (ephy_node_new_from_xml),
	(real_add_child), (ephy_node_add_child), (real_remove_child),
	(ephy_node_remove_child), (ephy_node_has_child),
	(ephy_node_get_children), (ephy_node_get_n_children),
	(ephy_node_get_nth_child), (get_child_index_real),
	(ephy_node_get_child_index), (ephy_node_get_next_child),
	(ephy_node_get_previous_child), (ephy_node_system_init),
	(ephy_node_system_shutdown), (ephy_node_new_id),
	(id_factory_set_to), (write_lock_to_read_lock),
	(read_lock_to_write_lock), (lock_gdk), (unlock_gdk):
	* lib/ephy-node.h:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c: (get_history_item_score),
	(compute_lower_fav), (add_to_favorites), (history_site_visited_cb),
	(ephy_setup_history_notifiers), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize):
	* src/bookmarks/ephy-node.c:
	* src/bookmarks/ephy-node.h:
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_finalize),
	(build_homepage_url), (ephy_shell_get_autocompletion):
	* src/ephy-shell.h:
	* src/history-dialog.c: (history_dialog_setup_view),
	(history_dialog_setup_filter), (history_dialog_init),
	(history_dialog_set_embedded), (history_dialog_finalize),
	(history_host_checkbutton_toggled_cb), (history_entry_changed_cb),
	(history_time_optionmenu_changed_cb),
	(history_clear_button_clicked_cb):

	Rewrite the history using ephy node.
	Use the history to store favicons locations.

2002-12-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-favicon.c: (net_state_cb), (favicon_cb):

	fix some bugs

2002-12-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-embed-favicon.c: (net_state_cb), (favicon_cb),
	(ephy_embed_favicon_set_property),
	(ephy_embed_favicon_get_property), (ephy_embed_favicon_get_embed):
	* embed/ephy-embed.c: (ephy_embed_base_init),
	(ephy_embed_get_link_tags):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed.cpp:

	Make favicons work :)

2002-12-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/find-dialog.c: (find_dialog_go_next),
	(find_dialog_go_prev):
	* lib/ephy-autocompletion.c:
	(ephy_autocompletion_get_matches_sorted_by_score),
	(ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full),
	(ephy_autocompletion_sort_by_score):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show):
	* src/popup-commands.c: (popup_cmd_add_bookmark):

	Fix a regression in find dialog.
	Fix autocompletion flickering

2002-12-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/find-dialog.c: (find_dialog_go_next),
	(find_dialog_go_prev):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):

	Fix crash on find next.
	Fix crash on autocompletion.

2002-12-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(keyword_node_selected_cb), (ephy_bookmarks_editor_construct):

	Regression fixed.

2002-12-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c: (keywords_changed_cb),
	(keywords_removed_cb), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_add),
	(ephy_bookmarks_unset_keyword), (diff_keywords),
	(ephy_bookmarks_update_keywords):
	* src/bookmarks/ephy-bookmarks.h:
	* src/window-commands.c: (window_cmd_bookmarks_add_default):

	Implement a small dialog asking title/keywords when adding
	bookmarks.
	(Regression: removing a selected keyword doesnt work
	anymore, will fix)

2002-12-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/epiphany.glade:
	* data/ui/epiphany-ui.xml.in:
	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/FilePicker.h:
	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-sidebar.c:
	* lib/widgets/ephy-sidebar.h:
	* src/ephy-tab.c: (ephy_tab_init), (get_host_name_from_uri):
	* src/ephy-window.c: (update_layout_toggles), (setup_layout_menus),
	(ephy_window_init), (save_window_chrome),
	(translate_default_chrome), (ephy_window_set_chrome),
	(ephy_window_update_all_controls):
	* src/ephy-window.h:
	* src/session.c:

	Drop sidebar and useless bytes progress messages.

2002-12-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_hide):
	* src/session.c: (do_session_resume), (crashed_resume_dialog),
	(session_autoresume):

	fix autocompl bugs.
	Simpler recover dialog.

2002-12-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_finalize_impl),
	(ephy_autocompletion_window_init_widgets),
	(ephy_autocompletion_window_set_autocompletion),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_event_after_cb):
	* lib/widgets/ephy-location-entry.c: (ephy_location_ignore_prefix),
	(ephy_location_entry_autocompletion_show_alternatives_to),
	(ephy_location_entry_key_press_event_cb):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):

	Never show an horizontal scrollbar.
	Put a limit to completions, ever show bookmarks / smart
	bookmarks matches. Order bookmarks at the bottom of
	completions.
	Ignore common used web prefixes (like www)

2002-12-22  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-autocompletion.c: (ephy_autocompletion_get_num_matches),
	(ephy_autocompletion_get_num_action_matches),
	(ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full_item), (acma_destroy),
	(acma_append):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_init),
	(ephy_autocompletion_window_finalize_impl),
	(ephy_autocompletion_window_selection_changed_cb),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_key_press_hack),
	(ephy_autocompletion_window_key_press_cb),
	(ephy_autocompletion_window_event_after_cb):
	* lib/widgets/ephy-location-entry.c: (ephy_location_entry_init),
	(ephy_location_entry_content_is_text),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_autocompletion_window_url_activated_cb):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach),
	(ephy_bookmarks_save), (ephy_bookmarks_solve_smart_url):
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):
	* src/toolbar.c: (toolbar_location_url_activate_cb):

	Complete smart bookmarks "autocompletion".

2002-12-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-autocompletion.c: (ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches),
	(ephy_autocompletion_update_matches_full_item):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_class_init),
	(ephy_autocompletion_window_selection_add_selected),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_key_press_hack),
	(ephy_autocompletion_window_event_after_cb):
	* lib/widgets/ephy-autocompletion-window.h:
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_class_init),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_set_autocompletion),
	(ephy_location_entry_autocompletion_window_url_activated_cb),
	(ephy_location_entry_list_event_after_cb):
	* lib/widgets/ephy-location-entry.h:
	* src/bookmarks/ephy-bookmarks.c: (options_skip_spaces),
	(options_find_value_end), (options_find_next_option),
	(smart_url_options_get), (get_smarturl_only),
	(ephy_bookmarks_solve_smart_url):
	* src/bookmarks/ephy-bookmarks.h:
	* src/toolbar.c: (toolbar_location_url_activate_cb),
	(toolbar_setup_location_entry):

	Hide views when empty, fix sizing to deal with
	visibility.
	Make bookmarks open correctly.
	Add some smart bookmarks solving code.

2002-12-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:
	* data/epiphany.schemas.in:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* embed/mozilla/StartHereProtocolHandler.h:
	* lib/ephy-gui.c: (shift_color_component),
	(ephy_gui_rgb_shift_color), (rgb16_to_rgb),
	(ephy_gui_gdk_color_to_rgb), (ephy_gui_gdk_rgb_to_color):
	* lib/ephy-gui.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_init_widgets):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):
	* src/popup-commands.c: (popup_cmd_add_bookmark):

	Use a darker color for the actions part of the
	autocompletion window.
	Add a (sucky) start-here: page and use it as
	default homepage.

2002-12-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/global-history.c: (history_add_url_to_list),
	(global_history_get_urls_list),
	(global_history_autocompletion_source_foreach_aux),
	(global_history_autocompletion_source_foreach):
	* lib/ephy-autocompletion-source.c:
	(ephy_autocompletion_source_base_init):
	* lib/ephy-autocompletion-source.h:
	* lib/ephy-autocompletion.c:
	(ephy_autocompletion_get_common_prefix),
	(ephy_autocompletion_update_matches),
	(ephy_autocompletion_update_matches_full_item),
	(ephy_autocompletion_update_matches_full),
	(ephy_autocompletion_compare_scores_and_alpha),
	(ephy_autocompletion_sort_by_score):
	* lib/ephy-autocompletion.h:
	* lib/ephy-filesystem-autocompletion.c:
	(ephy_filesystem_autocompletion_autocompletion_source_foreach):
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_finalize_impl),
	(ephy_autocompletion_window_init_widgets),
	(ephy_autocompletion_window_selection_changed_cb),
	(ephy_autocompletion_window_selection_add_selected),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_type),
	(ephy_bookmarks_autocompletion_source_set_basic_key),
	(ephy_bookmarks_autocompletion_source_foreach),
	(ephy_bookmarks_emit_data_changed),
	(ephy_bookmarks_autocompletion_source_init),
	(bookmarks_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_add):
	* src/bookmarks/ephy-bookmarks.h:
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):
	* src/window-commands.c: (window_cmd_bookmarks_add_default):

	Begin to implement smarter location entry. Now it looks
	for bookmarks/keywords and show them by title.
	Urls are showed just as urls (no more title).
	At the bottom you can select smartbookmarks in a mozilla
	like way (how do you add smb ? just edit xml for now ;)).
	It's still incomplete but prolly it's not going to be all
	the work I thought at beginning.

2002-12-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (diff_keywords),
	(update_keywords):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_find_keyword):
	* src/bookmarks/ephy-keywords-entry.c: (try_to_expand_keyword):

	Fix several keywords bugs. Should start to get usable.

2002-12-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (build_editing_table):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords), (keywords_added_cb),
	(keywords_removed_cb), (bookmarks_removed_cb),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_find_keyword), (ephy_bookmarks_set_keyword),
	(ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-keywords-entry.c:
	(ephy_keywords_entry_class_init), (try_to_expand_keyword),
	(entry_would_have_inserted_characters),
	(ephy_keywords_entry_key_press), (ephy_keywords_entry_init):
	* src/bookmarks/ephy-keywords-entry.h:

	Complete autocompletion implementation.
	Rewrite keywords removing code. Still bad bugs
	but getting better.

2002-12-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c: (update_keywords),
	(keywords_changed_cb), (build_editing_table):
	* src/bookmarks/ephy-bookmarks.c: (keywords_added_cb),
	(keywords_removed_cb), (partial_match_equal),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_find_keyword), (ephy_bookmarks_set_keyword),
	(ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_select_node):
	* src/bookmarks/ephy-node-view.h:
	
	Fix some keywords bugs and start working on autocompletion

2002-12-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(add_to_favorites), (history_site_visited_cb),
	(ephy_bookmarks_finalize):
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_set_path),
	(ephy_favorites_menu_verb_cb), (ephy_favorites_menu_rebuild),
	(ephy_favorites_menu_update):
	* src/ephy-window.c: (ephy_window_init):

	Make favorites really work

2002-12-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/global-history.c: (global_history_get_item):
	* embed/global-history.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(get_history_item_score), (compute_lower_fav),
	(ephy_bookmarks_update_favorites), (add_to_favorites),
	(update_favorites_menus), (history_site_visited_cb),
	(keywords_added_cb), (keywords_removed_cb), (favorites_added_cb),
	(favorites_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_keyword):

	Complete favorites implementation, still buggy.

2002-12-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* embed/global-history.c: (global_history_class_init),
	(global_history_visited):
	* embed/global-history.h:
	* src/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c: (history_site_visited_cb),
	(ephy_setup_history_notifiers), (bookmarks_added_cb),
	(bookmarks_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_favorites):
	* src/bookmarks/ephy-bookmarks.h:
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_class_init),
	(ephy_favorites_menu_init), (ephy_favorites_menu_finalize_impl),
	(ephy_favorites_menu_set_property),
	(ephy_favorites_menu_get_property), (ephy_favorites_menu_new),
	(ephy_favorites_menu_set_path), (ephy_favorites_menu_rebuild),
	(ephy_favorites_menu_update), (ephy_favorites_menu_verb_cb):
	* src/ephy-favorites-menu.h:
	* src/ephy-window.c: (ephy_window_init),
	(update_favorites_control), (ephy_window_update_control):
	* src/ephy-window.h:
	* src/window-recent-history-menu.c:
	* src/window-recent-history-menu.h: some work on favorites,
	still not working quite well

2002-12-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb), (diff_keywords),
	(update_keywords), (keywords_entry_changed_cb), (bookmarks_filter),
	(keyword_node_selected_cb), (build_search_box),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init), (ephy_bookmarks_set_keyword):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_set_browse_mode):
	* src/bookmarks/ephy-node-view.h: complete keyword implementation,
	still buggy

2002-12-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_finalize), (update_keywords),
	(keywords_entry_changed_cb), (search_entry_changed_cb),
	(build_search_box), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_add_keyword), (ephy_bookmarks_get_keyword),
	(ephy_bookmarks_set_keyword), (ephy_bookmarks_get_keywords):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_column_type),
	(ephy_tree_model_node_get_value),
	(ephy_tree_model_node_column_get_type):
	* src/bookmarks/ephy-tree-model-node.h:
	* src/ephy-window.c: some work on keywords implementation,
	still not working

2002-12-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/epiphany.glade:
	* data/glade/prefs-dialog.glade:
	* data/ui/epiphany-ui.xml.in:
	* embed/downloader-view.c: (get_selected_row),
	(download_dialog_abort_cb):
	* src/Makefile.am:
	* src/ephy-tab.c: (ephy_tab_location_cb), (ephy_tab_title_cb):
	* src/ephy-window.c: (ephy_window_init), (ephy_window_finalize),
	(ephy_window_get_toolbar):
	* src/ephy-window.h:
	* src/history-dialog.c: (each_url_get_data_binder):
	* src/language-editor.c:
	(language_editor_remove_button_clicked_cb):
	* src/pdm-dialog.c: (cookies_treeview_selection_changed_cb),
	(action_treeview_selection_changed_cb),
	(pdm_dialog_remove_button_clicked_cb), (setup_action),
	(pdm_dialog_init),
	(pdm_dialog_cookies_properties_button_clicked_cb):
	* src/window-commands.c:
	* src/window-commands.h:
	* src/window-recent-history.c:
	* src/window-recent-history.h: some menu rehashing, remove recent
	history to be replaced by favourites. Fix all tree views.

2002-12-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/find-dialog.c: (impl_show): grab focus on the entry

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb), (update_prop_from_entry):

	Fix some memory corruption.

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb), (update_prop_from_entry),
	(title_entry_changed_cb), (keywords_entry_changed_cb),
	(build_editing_table), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_class_init),
	(ephy_node_view_selection_changed_cb), (ephy_node_view_construct):
	* src/bookmarks/ephy-node-view.h:

	Add ability to edit title and keywords (useless atm).

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Makefile.am:
	* README:
	* configure.in:
	* embed/mozilla/Makefile.am:
	* lib/Makefile.am:
	* po/.cvsignore:
	* po/POTFILES.in: 

	Make it pass distcheck.

	* src/ephy-tab.c: (ephy_tab_dom_mouse_down_cb):

	Reintroduce page load on url pasting.

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_activated_cb),
	(ephy_bookmarks_editor_response_cb),
	(ephy_bookmarks_editor_construct), (ephy_bookmarks_editor_new):
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_finalize), (ephy_bookmarks_add):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_row_activated_cb), (ephy_node_view_construct),
	(ephy_node_view_new), (ephy_node_view_init), (get_selection),
	(ephy_node_view_get_selection), (ephy_node_view_remove):
	* src/bookmarks/ephy-node-view.h:
	* src/bookmarks/ephy-tree-model-node.c: (ephy_tree_model_node_new):
	* src/ephy-shell.c: (ephy_shell_finalize):
	* src/window-commands.c: (window_cmd_bookmarks_edit):

	You can now at least add bookmarks to a list

2002-12-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h: remove some unused code,
	should build with mozilla head again

2002-12-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_class_init),
	(ephy_bookmarks_editor_construct), (ephy_bookmarks_editor_new),
	(ephy_bookmarks_editor_set_property),
	(ephy_bookmarks_editor_get_property), (ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_load),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_add), (ephy_bookmarks_get_bookmarks):
	* src/bookmarks/ephy-bookmarks.h:
	* src/window-commands.c: (window_cmd_bookmarks_edit),
	(window_cmd_bookmarks_add_default): more bookmarks work

2002-12-05  Bastien Nocera <hadess@hadess.net>

	* src/ephy-main.c: (ephy_main_start): get the Bonobo warning go away and Ephy to
	just actually work

2002-12-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp: actually parent the file picker
	* src/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_class_init), (ephy_bookmarks_editor_new),
	(ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_set_object_property),
	(ephy_bookmarks_editor_get_object_property),
	(ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_set_property),
	(ephy_node_view_construct), (ephy_node_view_add_column),
	(ephy_node_view_init):
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_get_bookmarks):
	* src/ephy-shell.h:
	* src/window-commands.c: (window_cmd_bookmarks_edit):
	more useless bookmarks work

2002-12-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/eggtreemodelfilter.c:
	* src/bookmarks/eggtreemodelfilter.h:
	* src/bookmarks/ephy-bookmarks-editor.c:
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-node-view.c:
	* src/bookmarks/ephy-node-view.h: more bookmarks work

2002-11-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed.h:
	* embed/find-dialog.c: (find_dialog_go_next),
	(find_dialog_go_prev), (find_next_button_clicked_cb),
	(find_prev_button_clicked_cb), (find_entry_activate_cb):
	* embed/find-dialog.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed.cpp:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-filter.c:
	* src/bookmarks/ephy-node-filter.h:
	* src/bookmarks/ephy-node.c: (ephy_node_class_init):
	* src/bookmarks/ephy-tree-model-node.c:
	* src/bookmarks/ephy-tree-model-node.h:
	* src/window-commands.c: fix dialog/typeahead find
	interaction. More infrastucture bookmarks work.

2002-11-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-string.c:
	* lib/ephy-string.h: remove no more used helper
	* src/window-recent-history-menu.c:
	(ephy_window_recent_history_menu_rebuild): correctly
	encode xml strings

2002-11-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* lib/Makefile.am:
	* lib/ephy-string.c: (ephy_string_store_time_in_string),
	(ephy_string_time_to_string):
	* lib/ephy-string.h:
	* src/Makefile.am:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c:
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node.c:
	* src/bookmarks/ephy-node.h:
	* src/ephy-shell.c:
	* src/history-dialog.c: (history_dialog_update_host_item),
	(history_dialog_update_url_item): some configure cleanups,
	some bookmarks architecture stuff. Credits to rhythmbox
	developers.

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* embed/ephy-embed-event.h:
	* embed/ephy-embed-persist.c: (ephy_embed_persist_new):
	* embed/ephy-embed-popup.c: (setup_element_menu),
	(setup_document_menu):
	* embed/mozilla/Makefile.am: fix favicons, remove mozilla-config.h
	and use the old hack. Damn we need a real fix for this.

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/toolbar-editor.glade:
	* lib/toolbar/ephy-toolbar-editor.c: (update_arrows_sensitivity),
	(ephy_tb_editor_treeview_selection_changed_cb),
	(ephy_tb_editor_setup_treeview): fix arrows sensitivity in the
	toolbar editor

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* README: wrote
	* src/ephy-shell.c: (ephy_init_services): add the monitor on the
	right gconf dir
	* src/history-dialog.c: fix gcon paths

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/epiphany-secure.png:
	* data/art/epiphany-unsecure.png: resize to 18x18
	* configure.in:
	* embed/Makefile.am:
	* embed/mozilla/Makefile.am:
	* src/Makefile.am:
	* lib/Makefile.am:
	* lib/toolbar/Makefile.am:
	* lib/widgets/Makefile.am: enable werror
	* lib/ephy-file-helpers.c: missing includes
	* lib/widgets/ephy-location-entry.c: disable completion_to by default
	(ephy_location_entry_key_press_event_cb):
	* src/statusbar.c: (statusbar_set_security_state): really fix it

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/GNOME_Epiphany_NautilusView.server.in:
	* data/epiphany.schemas.in:
	* data/glade/epiphany.glade:
	* data/ui/epiphany-ui.xml.in:
	* data/ui/nautilus-epiphany-view.xml.in:
	* embed/global-history.c: (history_save):
	* embed/mozilla/ContentHandler.cpp:
	* lib/ephy-file-helpers.c: (ephy_ensure_dir_exists):
	* lib/ephy-file-helpers.h:
	* src/ephy-shell.c: (ephy_shell_init):
	* src/history-dialog.c: (history_dialog_set_embedded):
	* src/pdm-dialog.c: (pdm_dialog_init):
	* src/session.c: (crashed_resume_dialog):
	* src/statusbar.c: (statusbar_set_security_state):
	Fix a few typos, get rid of mime handlers list,
	reimplement security icon

2002-11-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Checked in initial codebase.
